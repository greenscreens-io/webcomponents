<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Modal test</title>
        <meta charset="utf-8">
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
        
        <meta name="subject" content="Green Scereens Ltd.">
        <meta name="author" content="www.greenscreens.ltd">
        <meta name="keywords" content="JavaScript,WebComponents">
        <meta name="robots" content="index, follow">
        <meta name="revisit-after" content="3 month">
        <meta name="description" content="WebComponents UI library based on Bootstrap.">
        
        <script type="module" src="/webcomponents/modules/index.mjs"></script>
        <script type="module" src="/webcomponents/modules/components/ext/GSFormExt.mjs"></script>
        <script type="module" src="/webcomponents/modules/components/ext/GSDataAttr.mjs"></script>
        <script type="module" src="/webcomponents/modules/components/GSButton.mjs"></script>
        <script type="module" src="/webcomponents/modules/components/GSDialog.mjs"></script>
        <script type="module" src="/webcomponents/modules/components/toast/index.mjs"></script>
        
        <gs-css url="/webcomponents/assets/css/io.greenscreens.bootstrap.css"></gs-css>
        <gs-css url="/webcomponents/assets/icons/bootstrap-icons.css" notheme="true"></gs-css>
        
        <style is="gs-ext-style">
            dialog::backdrop {
                backdrop-filter: blur(4px);
            }
        </style>
    </head>
<body>

    <gs-template href="../header.tpl"></gs-template>


    <div class="m-4 p-1 bg-light border shadow-sm">
        <a class="btn btn-primary " data-bs-toggle="dialog" href="#dialog1">Toggle with A Tag</a>
        <gs-button css="btn-primary" title="Toggle with GS-BUTTON" toggle="dialog" target="#dialog1"
            icon="bi-alarm me-1"></gs-button>
    </div>

    <gs-dialog id="dialog1" visible="true" css="shadow-sm rounded p-3" _closable="false" _cancelable="false">
        <h4 slot="title">Login</h4>
        <gs-template slot="body" href="dialog.tpl"></gs-template>
        <gs-button slot="actions" css="btn-primary me-1" title="Custom action" icon="bi-alarm me-1" toggle="dialog" target="#dialog1"></gs-button>
    </gs-dialog>

    <gs-notification></gs-notification>
    
    <script defer="true" type="module">
        GSComponents.find('gs-dialog').listen('error', (e) => {
            const obj = e.detail.data;
            console.log('error => ', obj);
        });
        GSComponents.find('gs-dialog').listen('data', (e) => {
            const obj = e.detail.data;
            console.log('data => ', obj);
            const sts = obj.password.length > 5;
            if (sts) return;
            GSEvents.prevent(e);
            alert('Invalid password length');
        });
    </script>

</body>

</html>