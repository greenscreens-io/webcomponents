<!DOCTYPE html>
<html lang="en">
<title>Modal test</title>
<meta charset="utf-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<meta name="viewport"
    content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">

<meta name="subject" content="Green Scereens Ltd.">
<meta name="author" content="www.greenscreens.ltd">
<meta name="keywords" content="JavaScript,WebComponents">
<meta name="robots" content="index, follow">
<meta name="revisit-after" content="3 month">
<meta name="description" content="WebComponents UI library based on Bootstrap.">

<script type="module" src="/webcomponents/modules/index.mjs"></script>
<script type="module" src="/webcomponents/modules/components/ext/GSFormExt.mjs"></script>
<script type="module" src="/webcomponents/modules/components/ext/GSDataAttr.mjs"></script>
<script type="module" src="/webcomponents/modules/components/GSButton.mjs"></script>
<script type="module" src="/webcomponents/modules/components/GSModal.mjs"></script>

<gs-css url="/webcomponents/assets/css/io.greenscreens.bootstrap_5.2.2.css"></gs-css>
<gs-css url="/webcomponents/assets/icons/bootstrap-icons.css" notheme="true"></gs-css>

<body>

    <gs-template href="../header.tpl"></gs-template>


    <div class="m-4 p-1 bg-light border shadow-sm">
        <a class="btn btn-primary " data-bs-toggle="modal" href="#dialog1">Toggle with A Tag</a>
        <gs-button css="btn-primary" title="Toggle with GS-BUTTON" toggle="modal" target="#dialog1"
            icon="bi-alarm me-1"></gs-button>
    </div>

    <!--
        <gs-modal visible="false" template="#modal" id="panel1" button-align="center">
            <h4 slot="title">Modal panel</h4>
            <gs-template slot="body" href="//dialog.tpl"></gs-template>
        </gs-modal>
        
        <gs-modal template="#modal" id="panel2" closable="false" cancelable="true">
            <h2 slot="title">Modal panel 2</h2>
            <p slot="body" class="d-flex">Hello world 2!!!</p>
        </gs-modal>
    -->

    <gs-modal id="dialog1" visible="true" _closable="false" _cancelable="false">
        <h4 slot="title">Login</h4>
        <gs-template slot="body" href="dialog.tpl"></gs-template>
    </gs-modal>

    <script defer="true" type="module">
        GSComponents.find('gs-modal').listen('data', (e) => {
            const obj = e.detail.data;
            console.log(obj);
            const sts = obj.password.length > 5;
            if (sts) return;
            // stop processing (prevent modal close)
            e.preventDefault();
            alert('Invalid password length');

        });
    </script>

</body>

</html>
