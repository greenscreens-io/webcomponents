let t;var e=(t=function(t){if("undefined"!=typeof require)return require.apply(this,arguments);throw Error('Calling `require` for "'+t+"\" in an environment that doesn't expose the `require` function.")},"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(t,{get:(t,e)=>("undefined"!=typeof require?require:t)[e]}):t),s=class{static get version(){return"2.0.0"}static get build(){return 2025.0131}};let i=`.z-10k{z-index:10000 !important;}
.gs-hide,gs-item{display:none !important;}
gs-popover,gs-tooltip{position:fixed;top:0px;left:0px;},
.d-contents{display:contents;}';
gs-button-group::part(.btn-group){box-shadow:rgba(72, 72, 72, 0.4) 0px 0.125rem 0.25rem;}
gs-group>gs-button::part(button) {box-shadow: none;}
gs-group>gs-button:not(:last-child)::part(button) {border-top-right-radius: 0;border-bottom-right-radius: 0;}
gs-group>gs-button:not(:first-child)::part(button) {margin-left: calc(var(--bs-border-width) * -5);border-top-left-radius: 0;border-bottom-left-radius: 0;}
gs-layout {width: 100%;height: 100%;}
gs-split-panel{flex: 1 1 auto !important;}
input[is="gs-ext-input"][type="date"]:before {content: attr(data-value);display: inline-block;position: absolute;}
input[is="gs-ext-input"][type="date"]::-webkit-datetime-edit, input::-webkit-inner-spin-button, input::-webkit-clear-button {visibility: hidden;display: inline-block;}
input[is="gs-ext-input"][type="date"]::-webkit-calendar-picker-indicator {position: relative;top: 0px;right: 0;color: black;opacity: 0.5;}
`;var r=class t{static logging=!0;static tracing=!1;static info(t,e){this.#t(t,e,!0,"info")}static warn(t,e){this.#t(t,e,!0,"warn")}static error(t,e){this.#t(t,e,!0,"error")}static trace(e,s){t.tracing&&this.#t(e,s,!1,"error")}static log(t,e,s){this.#t(t,e,s)}static #t(t,e,s,i){if(!(s||this.logging))return;let r=t?`${t.nodeName} -> ${t.id}: ${e}`:e,a=console[i||"log"];(a="function"==typeof a?a:console.log)(r),e instanceof Error&&a(e)}static{Object.seal(t)}},a=class t{static FLAT=!0==globalThis.GS_FLAT;static ALPHANUM=/^[a-zA-Z0-9-_]+$/;static #e=/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g;static isNumber=t=>!isNaN(parseFloat(t))&&isFinite(t);static isDate=t=>t instanceof Date;static isBool=t=>"boolean"==typeof t||t instanceof Boolean;static isString=t=>"string"==typeof t;static isNull=t=>null==t;static toBinary=(t=0)=>t.toString(2);static asBool=(e=!1)=>{let s=t.normalize(e).toLowerCase();return"true"===s||"1"===s};static fromLiteral=(t="",e)=>t.replace(/\${(.*?)}/g,(t,s)=>e[s]);static reverse=t=>(t||"").split("").reverse().join("");static capitalize=(t="")=>t?t[0].toUpperCase()+t.slice(1).toLowerCase():"";static capitalizeAll=(e="",s=" ")=>e.split(s).map((e,s)=>t.capitalize(e)).join(s);static capitalizeAttr=(e="")=>e.split("-").map((e,s)=>s?t.capitalize(e):e).join("");static initerror=()=>{throw Error("This class cannot be instantiated")};static isInstance=t=>t instanceof t.constructor;static isPrimitive=t=>!Array.isArray(t)&&(this.isBool(t)||this.isDate(t)||this.isNumber(t)||this.isString(t));static range=(t=0,e=10,s=100)=>Math.max(Math.min(s,t),e);static extractNumber=(t="")=>t.match(/[\d,\.]*\d/)?.[0];static nonNull=e=>!t.isNull(e);static asArray(t){return Array.isArray(t)?t:[t]}static asNum(e,s=0,i){if(i=i||t.language,t.isString(e)){let s=t.numberSeparator(i);e=t.extractNumber(e)?.replaceAll(s,"")||e}return t.isNumber(e)?parseFloat(e):s}static isURL=(t="")=>/^(https?:\/\/|\/{1,2}|\.\/{1})(\S*\/*){1,}/i.test(t.trim());static isHTML=(t="")=>t.trim().startsWith("<")&&t.trim().endsWith(">");static generateUUID=(t="xxxx-xxxx-xxxx-xxxx-xxxx",e="abcdef0123456789")=>t.replace(/[x]/g,()=>e[Math.floor(Math.random()*e.length)]);static get language(){return navigator.language?navigator.language:navigator.languages[0]}static toRegex(e,s){return e instanceof RegExp?e:t.isStringEmpty(e)?void 0:new RegExp(e,s)}static decimalSeparator(t){return Intl.NumberFormat(t).format(1.1)[1]}static numberSeparator(t){return Intl.NumberFormat(t).format(1e3)[1]}static inRange(t=0,e=0,s=0){return t>=e&&t<=s}static getDateFormat(t){return new Intl.DateTimeFormat(t).format(new Date(2e3,0,2)).replace("2000","YYYY").replace("01","MM").replace("1","M").replace("02","DD").replace("2","D")}static sanitize(t=""){let e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","\n":"<br>","\r":"<br>","	":"&nbsp;&nbsp;&nbsp;&nbsp;"," ":"&nbsp;","\\":"&#x5C;","`":"&#x60;"},s=RegExp(`[${Object.keys(e).join("")}]`,"ig");return t.replace(s,t=>e[t])}static isJsonString(t=""){return"string"==typeof t&&(t.startsWith("{")||t.startsWith("["))}static isJsonType(e=""){return!t.isNull(e)&&(Array.isArray(e)||"object"==typeof e)}static isJson(e=""){return t.isJsonString(e)||t.isJsonType(e)}static toJson(e="",s={},i=!0){return t.isJsonString(e)?JSON.parse(i?t.normalizeJson(e):e):t.isJsonType(e)?e:(e&&r.warn(null,`Invalid data to convert into JSON: ${e}`),s)}static normalizeJson(e=""){return e?.replace(t.#e,'"$2": ')}static normalize(t,e=""){return(t??e).toString().trim()}static toStringArray(t="",e=" "){return t.split(e).map(t=>t.trim()).filter(t=>t.length>0)}static textTransform(e="",s=""){switch(e){case"lowercase":s=s.toLowerCase();break;case"uppercase":s=s.toUpperCase();break;case"capitalize":s=t.capitalizeAll(s)}return s}static fromTemplateLiteral(t,e){let s=Object.keys(e),i=Object.values(e);return Function(...s,`return \`${t}\`;`)(...i)}static decodeHTMLEntities(t){let e=document.createElement("textarea");return e.innerHTML=t,e.value}static parseValue(e){if(!t.isString(e)||!t.isStringNonEmpty(e))return;let s=window,i=null;return e.trim().split(".").forEach((t,e,r)=>{if(s){if(e<r.length-1)return s=s[t];i=s[t]}}),i}static isStringNonEmpty(e=""){return!t.isStringEmpty(e)}static isStringEmpty(e=""){return 0===t.normalize(e).trim().length}static isStringMatch(e,s){let i=t.isStringNonEmpty(e),r=t.isStringNonEmpty(s);return i&&r?e.trim().toLowerCase()===s.trim().toLowerCase():i===r}static async timeout(e=0,s){if(!(e<=0))return s=t.isNumber(s)?AbortSignal.timeout(s):s,new Promise((t,i)=>{let r=setTimeout(t.bind(null,!0),e);s instanceof AbortSignal&&s.addEventListener("abort",()=>{clearTimeout(r),i(Error("aborted timeout"))})})}static async export(e,s,i="octet/stream"){let r=new Blob(e,{type:i}),a=URL.createObjectURL(r);try{let e=document.createElement("a");e.href=a,e.download=s,e.click(),await t.timeout(2e3)}finally{URL.revokeObjectURL(a)}}static register(t,e,s,i=!0,r=!1,a=!1){HTMLElement.isPrototypeOf(e)&&!customElements.get(t)&&(customElements.define(t,e,{extends:s?.toLowerCase()}),i&&!Object.isSealed(e)&&Object.seal(e),r&&!Object.isFrozen(e)&&Object.freeze(e),a&&(self[e.name]=e))}static async importSource(t){let e=new Blob([t],{type:"text/javascript"}),s=URL.createObjectURL(e);try{return await import(s)}finally{URL.revokeObjectURL(s)}}static async writeToClipboard(t=""){let e=await navigator.permissions.query({name:"clipboard-write"});return"granted"===e.state||"prompt"===e.state?navigator.clipboard.writeText(t):""}static async readFromClipboard(){let t=await navigator.permissions.query({name:"clipboard-read"});return"granted"===t.state||"prompt"===t.state?navigator.clipboard.readText():""}static{Object.seal(t),globalThis.GSUtil=t}},n=class t{static isFunction=t=>"function"==typeof t;static isFunctionNative(e){return t.isFunction(e)&&e.toString().includes("native code")}static hasFunction(e,s){return e&&t.isFunction(e[s])}static hasGetter(e,s){return t.isFunctionDefined(e,s,"get")}static hasSetter(e,s){return t.isFunctionDefined(e,s,"set")}static isFunctionDefined(t,e,s){let i=!!t&&Reflect.getOwnPropertyDescriptor(t.__proto__,e);return i&&"function"==typeof i[s]}static isFunctionAsync(e){if(!t.isFunction(e))return!1;let s=e instanceof t.callFunctionAsync.constructor;return s||(s="AsyncFunction"==e[Symbol.toStringTag]),s}static isFunctionGenerator(e){return!!t.isFunction(e)&&e instanceof(function*(){}).constructor}static async callFunctionAsync(t,e){let s=arguments?Array.from(arguments).slice(2):[];return await t.apply(e||null,s)}static callFunctionSync(t,e){let s=arguments?Array.from(arguments).slice(2):[];return t.apply(e||null,s)}static async callFunction(e,s,i=!0){if(e=a.isString(e)?t.parseFunction(e):e,!t.isFunction(e)||!i&&t.isFunctionNative(e))return;let r=arguments?Array.from(arguments).slice(3):[];return t.isFunctionAsync(e)?await t.callFunctionAsync(e,s,...r):t.callFunctionSync(e,s,...r)}static parseFunction(e){let s=a.parseValue(e);return t.isFunction(s)?s:null}static async #s(e,s,i){return t.isFunction(e)?t.isFunctionAsync(e)?await e.apply(s,i):e.apply(s,i):void 0}static callOnceFifo(e,s){let i=!1;return async(...r)=>i?void 0:(i=!0,await t.#s(e,s||this,r))}static callOnceLifo(e,s){let i=0;return(...r)=>{if(i<0)return;i++;let a=s||this;return new Promise((s,n)=>{queueMicrotask(async()=>{if(!(i<=0)&&0==--i)try{let i=await t.#s(e,a,r);s(i)}catch(t){n(t)}finally{i=-1}})})}}static{Object.seal(t),globalThis.GSFunction=t}},l=class t{static #i=0;static reset(){this.#i=0}static next(t="GSId-"){return`${t}${this.#i++}`}static get id(){return this.next()}static hashCode(t){let e=(t||"").length,s=0,i=0;if(0===e)return s;for(;i<e;)s=(s<<5)-s+t.charCodeAt(i++)|0;return s}static setIf(e){e&&(e.id="string"!=typeof e.id?t.id:e.id||t.id)}static{Object.freeze(t)}};let h=Symbol("isProxy");var c=class t{static isHTMLElement(t){return t instanceof HTMLElement}static toggle(e,s,i=!1){t.isHTMLElement(e)&&(a.asBool(i)?e.setAttribute(s,""):e.removeAttribute(s))}static set(e,s,i){t.isHTMLElement(e)&&(a.normalize(i)?e.setAttribute(s,i):e.removeAttribute(s))}static get(e,s="",i=""){if(!t.isHTMLElement(e)||!a.isInstance(e))return i;let r=e.getAttribute(s)??i;return a.normalize(r)}static getAsBool(e,s="",i="false"){let r=t.get(e,s,i);return a.asBool(r,i)}static getAsNum(e,s="",i="0"){let r=t.get(e,s,i);return a.asNum(r,i)}static getAsJson(e,s="",i="{}"){let r=t.get(e,s,i);return a.toJson(r,i)}static setAsBool(e,s="",i="false"){t.set(e,s,a.asBool(i),!1)}static setAsNum(e,s="",i="0"){t.set(e,s,a.asNum(i),NaN)}static setAsJson(e,s="",i="{}"){t.set(e,s,JSON.stringify(i),i)}static flattenJson(t){return Object.entries(t||{}).map(t=>`${t[0]}=${t[1]}`).join(" ")}static jsonToAttr(e,s){t.isHTMLElement(s)&&Object.entries(e||{}).filter(t=>"items"!=t[0]).filter(t=>"#"!=t[0][0]).filter(t=>"$"!=t[0][0]).map(e=>t.set(s,e[0],e[1]))}static dataToString(t){return Array.from(t.attributes).filter(t=>t.name.startsWith("data-")).map(t=>`${t.name}="${t.value}"`).join(" ")}static flatten(t,e=" "){return Array.from(t?.attributes||[]).map(t=>`${t.name}="${t.value}"`).join(e)}static proxify(e,s={},i="items"){return new Proxy(e,{set(e,i,r){if("self"===i)return;if("dataset"===i)return e.dataset=r;if("symbol"==typeof i)return e[i]=r;let n=s[i]?.type;switch(i=s[i]?.attribute||i,n){case Boolean:t.toggle(e,i,a.asBool(r));break;case Number:t.setAsNum(e,i,r);break;case Object:case Array:t.set(e,i,JSON.stringify(r));default:t.set(e,i,r)}return!0},get(e,r){if("self"===r)return e;if("dataset"===r)return e.dataset;if("symbol"==typeof r)return e[r];if("isProxy"===r)return h;if(r===i)return Array.from(e.children).map(e=>t.proxify(e,s,i));let l=s[r]?.type,c=!!s[r]?.unsafe,d=s[r]?.default,u=s[r]?.multi===!0;r=s[r]?.attribute||r;let p=e.hasAttribute(r)?t.get(e,r):e[r];if(n.isFunction(p))return p.bind(e);switch(l){case Boolean:return e.hasAttribute(r);case Number:return a.asNum(p,0);case Object:return a.toJson(p,{});case Array:return a.toJson(p,[]);default:return p=c?p||d||"":p||d||void 0,u?a.toStringArray(p):p}}})}static{Object.seal(t),globalThis.GSAttr=t}},d=class t{static #r=!!globalThis.document?.body?.computedStyleMap;#a;constructor(e){this.#a=t.#n(e)}get(e){if(this.#a)return t.#r?this.#a.get(e):this.#a[a.capitalizeAttr(e)]}asText(t){return(this.get(t)||"")?.toString()}asBool(e){let s=this.get(e);return a.asBool(t.#r?s?.value:s)}asNum(e){let s=this.get(e);if(t.#r&&n.isFunction(s?.to)&&"number"!==s.unit&&(s=s.to("px")),t.#r)return a.asNum(s?.value);let i=s?.match(/\d*(\.\d*)?/g).filter(t=>a.isNumber(t)).shift();return a.asNum(i)}matches(t,e){return this.asText(t)==e}static #n(e){return t.#r?e.computedStyleMap():globalThis.window?.getComputedStyle?globalThis.window.getComputedStyle(e):null}static styleValue(e,s){return t.getComputedStyledMap(e).get(s)}static getComputedStyledMap(e){return new t(e)}static #o(t){return t?(t=String(t).replace(/\s*([>~+])\s*/g," $1 ")).replace(/(\s+)/g," ").trim():""}static #l(t,e){return t.split(e).map(t=>t.trim()).filter(t=>t)}static #h(t,e){return!!t&&e.some(e=>t.includes(e))}static findRule(e){let s=t.#l(t.#o(e),",");return Array.from(globalThis.document.styleSheets).map(t=>Array.from(t.cssRules||[])).reduce((t,e)=>t.concat(e),[]).filter(e=>t.#h(t.#o(e.selectorText),s))}static{Object.seal(t),globalThis.GSCSSMap=t}},u=class t extends Date{static DEFAULT_FORMAT="YYYY-MM-DDTHH:mm:ssZ";static REGEX_FORMAT=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;#c=navigator.language;format(e=t.DEFAULT_FORMAT,s){s&&(this.language=s);let i=this.asJSON();return e.replace(t.REGEX_FORMAT,(t,e)=>e||i[t])}build(){let t=this.last.getDate(),e=this.first.getDay(),s=this.#d(),i=0===e?[]:" ".repeat(e+(s?-2:-1)).split(" "),r=1;for(;r<=t;)i.push(r.toString()),r++;for(;i.length%7!=0;)i.push("");return i}get language(){return this.#c}set language(t){this.#c=t||navigator.language}get year(){return this.getFullYear()}set year(t=0){this.setFullYear(t)}get month(){return this.getMonth()}set month(t=0){this.setMonth(t)}get day(){return this.getDate()}set day(t=0){this.setDate(t)}get first(){return new t(this.getFullYear(),this.getMonth(),1)}get last(){return new t(this.getFullYear(),this.getMonth()+1,0)}get YY(){return String(this.YYYY).slice(-2)}get YYYY(){return this.getFullYear()}get M(){return this.getMonth()+1}get MM(){return this.M.toString().padStart(2,"0")}get MMM(){return this.#u({month:"short"})}get MMMM(){return this.#u({month:"long"})}get D(){return this.getDate().toString()}get DD(){return this.D.padStart(2,"0")}get d(){return this.getDay().toString()}get dd(){return this.ddd.slice(0,2)}get ddd(){return this.#u({weekday:"short"})}get dddd(){return this.#u({weekday:"long"})}get H(){return this.getHours().toString()}get HH(){return this.H.padStart(2,"0")}get h(){return this.#p(1)}get hh(){return this.#p(2)}get a(){return this.#m(!0)}get A(){return this.#m(!1)}get m(){return this.getMinutes().toString()}get mm(){return this.m.padStart(2,"0")}get s(){return this.getSeconds().toString()}get ss(){return this.s.padStart(2,"0")}get SSS(){return this.getMilliseconds().toString().padStart(3,"0")}get Z(){return this.#g()}get ZZ(){return this.Z.replace(":","")}get Q(){return Math.ceil(this.M/3)}get k(){return(this.getHours()+1).toString()}get kk(){return this.k.padStart(2,"0")}get W(){let t=new Date(this.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);let e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)}get WW(){return this.W.toString().padStart(2,"0")}get x(){return this.getTime()}get X(){return Math.floor(this.x/1e3)}asJSON(){return{YY:this.YY,YYYY:this.YYYY,M:this.M,MM:this.MM,MMM:this.MMM,MMMM:this.MMMM,D:this.D,DD:this.DD,d:this.d,dd:this.dd,ddd:this.ddd,dddd:this.dddd,H:this.H,HH:this.HH,h:this.h,hh:this.hh,a:this.a,A:this.A,m:this.m,mm:this.mm,s:this.s,ss:this.ss,SSS:this.SSS,Z:this.Z,ZZ:this.ZZ,Q:this.Q,k:this.k,kk:this.kk,W:this.W,WW:this.WW,x:this.x,X:this.X}}static monthList(e=!1,s=navigator.language,i=!0){let r=new t;r.language=s,r.setDate(1),r.setMonth(0);let a=[],n=null,l=12;for(;l--;)n=e?r.MMM:r.MMMM,a.push(n=i?r.#f(n):n),r.setMonth(r.getMonth()+1);return a}static dayList(e=!1,s=navigator.language,i=!0){let r=new t;r.language=s;let a=r.#d();r.setDate(r.getDate()-r.getDay()+ +!!a);let n=[],l=null,h=7;for(;h--;)l=e?r.ddd:r.dddd,n.push(l=i?r.#f(l):l),r.setDate(r.getDate()+1);return n}#d(){return new Intl.Locale(this.#c)?.weekInfo?.firstDay===1}#f(t=""){return t.charAt(0).toUpperCase()+t.slice(1)}#u(t){return this.toLocaleString(this.#c,t)}#p(t){return(this.getHours()%12||12).toString().padStart(t,"0")}#m(t){let e=this.#u({hour:"2-digit",hour12:!0}).split(" ").pop(-1);return t?e.toLowerCase():e}#g(){let t=-1*this.getTimezoneOffset(),e=Math.abs(t),s=Math.floor(e/60).toString().padStart(2,"0"),i=(e%60).toString().padStart(2,"0");return`${t<=0?"+":"-"}${s}:${i}`}static parse(e,s,i){s=s||a.getDateFormat(i);let r=t.#y(s);return t.#b(e,r)}static #y(t){return RegExp("^\\s*"+t.toUpperCase().replaceAll(/([MDY])\1*/g,"(?<$1>\\d+)")+"\\s*$")}static #b(t,e){let{groups:s}=t.match(e)??{};if(!s)return null;let i=Number(s.Y),r=Number(s.M),a=Number(s.D);if(i<1e3||i>2999||r<1||r>12)return null;let n=new Date(i,r-1,a);return a!==n.getDate()||isNaN(n.valueOf())?null:n}static isLeapYear(t){return t%4==0&&t%100!=0||t%400==0}static{globalThis.GSDate=t}},p=class t{static PROPERTIES={name:{},type:{},format:{},currency:{},language:{},extract:{},key:{type:Boolean}};static unique(t){return Array.from(new Set(t))}static compareArrays=(t,e)=>t.length===e.length&&t.every((t,s)=>t===e[s]);static arraysEqual(e,s){return!!Array.isArray(e)&&!!Array.isArray(s)&&(e===s||(e=e.toSorted(),s=s.toSorted(),t.compareArrays(e,s)))}static mergeArrays(t=[],e=[],s=!1){return s?[...new Set([...t,...e].map(JSON.stringify))].map(JSON.parse):[...t,...e].filter((t,e,s)=>s.indexOf(t)===e)}static mergeObjects(t=[]){let e={};return t.filter(t=>t).forEach(t=>e={...e,...t}),e}static format(e,s){let i=t.#v(e,s),r=e.language||a.language,n=a.toRegex(e.extract,"g");if(s=n?s.match(n)[0]:s,e.childElementCount>0){let t=e.querySelector(`gs-item[value="${s}"]`);return c.get(t,"map",s)}switch(i){case"timestamp":if(s instanceof Date)break;if(a.isNumber(s))return new u(s).format(e.format,r);if(e.format)return u.parse(s,e.format,r);return Date.parse(s);case"date":if(s instanceof Date)break;let l=a.asBool(e.format)?void 0:e.format;if(a.isString(s))return u.parse(s,l,r);return s&&0!=s?new u(s).format(l,r):s;case"string":case"text":if(s instanceof Date){let t=e.format||a.getDateFormat(r);return new u(s).format(t,r)}break;case"boolean":return a.asBool(s,!1);case"number":return a.asNum(s,s,r);case"currency":a.isString(s)&&(s=a.asNum(s));let h={style:"currency",currency:e.currency};return new Intl.NumberFormat(r,h).format(s)}return s}static #v(t,e){return t.type?t.type:e instanceof Date?"date":e instanceof Number?"number":e instanceof Boolean?"boolean":typeof e}static*filter(e=[],s=[],i,r=0){let a=0;for(let n of e)if(t.filterRecord(n,s,i)&&(a++,yield n),r>0&&a>=r)break}static filterData(e=[],s=[],i,r=0){return(e=Array.isArray(e)?e:[e],0===(s=Array.isArray(s)?s:[s]).length)?e:[...t.filter(e,s,i,r)]}static filterRecord(e,s,i){return a.isPrimitive(s)?t.filterSimple(e,s,i):t.filterComplex(e,s,i)}static filterSimple(e,s="",i){s=s.toLowerCase();let r=null;for(let a of i=i||Object.keys(e))if(r=e[a],t.filterValue(r,s))return!0;return!1}static filterComplex(e,s,i){let r=!0,n=null;for(let l of s)if(a.isPrimitive(l)?r=r&&t.filterSimple(e,l,i):(n=e[l.name],r=l.name?r&&t.filterValue(n,l):r&&t.filterSimple(e,l.value,i)),!r)break;return r}static filterValue(e,s){let i=a.isPrimitive(s)?s:s.value;return a.isDate(e)?t.matchDate(e,s):a.isNumber(e)?t.matchNumber(e,a.asNum(i,null),s.op):a.normalize(e).toLocaleLowerCase().includes(a.normalize(i).toLocaleLowerCase())}static matchDate(e,s,i){if("string"==typeof s){let t=""+s,r=e.toLocaleDateString(i),a=e.toISOString();return r.includes(t)||a.includes(t)}if(!s.value)return!1;switch(s.value instanceof Date?"date":typeof s.value){case"number":return t.matchNumber(e.getTime(),s.value,s.op);case"date":return t.matchNumber(e.getTime(),s.value.getTime(),s.op)}return t.matchDate(e,""+s.value,s.language)}static matchNumber(t=0,e=0,s="eq"){switch(s){case"gt":return e>t;case"lt":return e<t;case"ge":return e>=t;case"le":return e<=t}return t===e}static sortData(e,s){return 0===s.length?e:e.toSorted((e,i)=>t.sortPair(e,i,s))}static sortPair(e,s,i){let r=Array.isArray(e),n=0;return i.forEach((i,l)=>{if(!i)return;let h=a.isNumber(i)?i:i.ord,c=a.isNumber(i.col)?i.col:l,d=r?c:i.name,u=e[d],p=s[d];n=t.compare(u,p,h,n)}),n}static compare(e,s,i,r){return a.isNumber(e)&&a.isNumber(s)?r||t.compareNum(e,s,i):a.isString(e)||a.isString(s)?r||t.compareString(e,s,i):a.isBool(e)||a.isBool(s)?r||t.compareBool(e,s,i):a.isDate(e)||a.isDate(s)?r||t.compareNum(Number(e),Number(s),i):r}static compareBool(e,s,i){return e=+!!e,s=+!!s,t.compareNum(e,s,i)}static compareString(t,e,s){let i=(t||"").toString(),r=(e||"").toString();return s<0?r.localeCompare(i):i.localeCompare(r)}static compareNum(t,e,s){return s<0?e-t:t-e}static writeToObject(e,s,i,r=!0){if(r&&a.isNull(i))return;let n=s.split(".");if(1===n.length)return t.#C(e,s,i);let l=n.slice(0,-1),h=n.slice(-1)[0];return l.forEach(t=>{e.hasOwnProperty(t)||(e[t]={}),e=e[t]}),t.#C(e,h,i)}static #C(t,e,s){return t.hasOwnProperty(e)?(Array.isArray(t[e])||(t[e]=[t[e]]),Array.isArray(s)?t[e]=t[e].concat(s):t[e].push(s)):t[e]=s,t}static readFromProperty(t,e,s=!1){if(a.isNull(t))return;let i=/\[\d+\]$/g,r=i.test(e),n=e,l="";return r?(n=e.replace(i,""),l=e.match(i).shift().match(/\d+/).shift(),l=a.asNum(l),t=t.hasOwnProperty(n)?t[n][l]:null):t=t.hasOwnProperty(n)?s?t[n]||t:t[n]:null,t}static readFromObject(e,s){return e?.hasOwnProperty(s)?t.readFromProperty(e,s):s?s.split(".").reduce((e,s)=>t.readFromProperty(e,s),e):void 0}static objectPathExist(e,s){return void 0!==t.readFromObject(e,s)}static deepClone(t){return JSON.parse(JSON.stringify(t))}static{Object.seal(t),globalThis.GSData=t}},m=class t{static QUERY_FOCUSABLE="a[href]:not([tabindex='-1']),area[href]:not([tabindex='-1']),input:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),textarea:not([disabled]):not([tabindex='-1']),button:not([disabled]):not([tabindex='-1']),iframe:not([tabindex='-1']),[tabindex]:not([tabindex='-1']),[contentEditable=true]:not([tabindex='-1'])";static QUERY_INPUT="input:not([type='hidden']):not(disabled):not(readonly),select:not([type='hidden']):not(disabled):not(readonly),textarea:not([type='hidden']):not(disabled):not(readonly)";static #w=["INPUT","SELECT","TEXTAREA","OUTPUT"];static #S=/(?:\n+\t*)+/g;static SPEED=300;static cleanup(e){Array.from(t.walk(e,!1,!0,!1)).forEach(e=>{t.isTemplateElement(e)&&t.cleanup(e.content),e.remove?.(),e.innerHTML="",e.nodeValue=void 0})}static get activeElement(){return t.active(document.activeElement)}static active(e){return e.shadowRoot?.activeElement?t.active(e.shadowRoot?.activeElement):e}static isVisible(e){if(!t.isHTMLElement(e))return!1;let s=d.getComputedStyledMap(e),i=!s.matches("visibility","hidden"),r=!s.matches("display","none"),a=s.asNum("opacity")>0,n=e.getBoundingClientRect();return n.width>0&&n.height>0&&a&&i&&r}static parse(t="",e=!1,s="text/html"){try{let i=new DOMParser().parseFromString(t,s);return e?i?.head?.firstElementChild||i?.body?.firstElementChild:i}catch(t){throw r.error(null,t),t}}static parseWrapped(e,s="",i=!1){let r=t.parse(s),a=[...t.#$(r.head.children),...t.#$(r.body.children)],n=i||1!==a.length,l=t.wrap(e,n?null:a.shift());for(;a.length>0;)l.appendChild(a.shift());return l}static wrap(e,s){return t.link(e,s||document.createElement("gs-block"))}static link(t,e){return e.setAttribute("proxy",`#${t.id}`),t.slot&&e.setAttribute("slot",t.slot),e}static #$(e){return Array.from(e||[]).filter(e=>!t.isText(e))}static isFormElement(e){let s=a.isString(e)?e:e?.tagName;return t.#w.includes(s)}static formElements(e,s=!1){return t.queryAll(e,t.#w.map(t=>t.toLowerCase()),s)}static isButtonElement(e){return e instanceof HTMLButtonElement||e?.tagName==="GS-BUTTON"||t.hasClass(e,"btn")}static isElement(e,s){if(!(s&&e))return!1;if(!a.isString(s))return e instanceof s;let i=customElements.get(s.toLowerCase());if(i&&e instanceof i)return e;for(let i of t.inheritance(e))if(i?.constructor?.name===s)return e;return s.toUpperCase()===e.tagName&&e}static isSelect(t){return t instanceof HTMLSelectElement}static isSlotElement(t){return t instanceof HTMLSlotElement}static isTemplateElement(t){return t instanceof HTMLTemplateElement}static isHTMLElement(t){return t instanceof HTMLElement}static isSVGElement(t){return t instanceof SVGElement}static isText(t){return t instanceof Text}static isComment(t){return t instanceof Comment}static isGSElement(e){if(!e?.clazzName)return!1;for(let s of t.inheritance(e)){if(!s)break;if(s?.clazzName==="GSElement")return!0}return!1}static isGSExtra(t){return t?.getAttribute("is")?.indexOf("GS-")===0}static isShadowed(e){return t.parentAll(e).filter(t=>t instanceof ShadowRoot).next()?.value}static getChilds(e){return Array.from(e?.childNodes||[]).filter(e=>t.isGSElement(e))}static hide(t,e=!1){return t?.classList?.add(e?"gs-hide-orientation":"gs-hide")}static show(t,e=!1){return t?.classList?.remove(e?"gs-hide-orientation":"gs-hide")}static addSibling(e,s){let i=t.isHTMLElement(s)||t.isSVGElement(s),r=t.isHTMLElement(e)&&i,a=e===s&&e.parentNode===s||e.nextElementSibling===s;return!!r&&!a&&e.parentNode.insertBefore(s,e.nextElementSibling)}static appendChild(e,s){return!!(t.isHTMLElement(e)&&t.isHTMLElement(s))&&e!==s&&e.appendChild(s)}static insertAdjacent(e,s,i){let r=t.isHTMLElement(e)&&t.isHTMLElement(s),a=e===s&&e.parentNode===s;return!!r&&!a&&e.insertAdjacentElement(i,s)}static removeElement(e){return t.parent(e)?.removeChild(e)}static walk(e,s=!1,i=!1,r=!0){return s?t.parentAll(e):t.childAll(e,i,r)}static*childAll(e,s=!1,i=!0,r=!1){if(!e)return;r&&(yield e),i&&(yield*t.childAll(e.shadowRoot,s,i,!0));let a=s?e.childNodes:e.children;if(a)for(let e of a)yield*t.childAll(e,s,i,!0)}static parent(t){return t?t.parentElement||t.parentNode||t.host:null}static*parentAll(e){let s=t.parent(e);for(;s;)yield s,s=t.parent(s);if(s)return yield s}static*inheritance(t){let e=t.__proto__;for(;e;)yield e,e=e.__proto__;if(e)return yield e}static offsetParent(e){let s=e?.offsetParent;if(s)return s;for(let i of t.parentAll(e))if(s=i.offsetParent)break;return s}static root(e){if(!e)return null;for(let s of t.parentAll(e))if(s instanceof ShadowRoot||s instanceof HTMLBodyElement)return s;return null}static component(e){return t.parent(t.root(e))}static getElementIndex(e){return t.isHTMLElement(e)?[...e.parentElement.children].indexOf(e):0}static getByID(e,s){if("string"==typeof e)return t.getByID(document.documentElement,e);if(!(e&&s))return null;for(let i of t.walk(e,!1))if(i.id===s)return i;return null}static closest(e,s,i=0){if("string"==typeof e)return t.closest(document.documentElement,s);if(!(e&&s))return null;let r=(i=a.asNum(i,0))>0;for(let a of t.walk(e,!0)){if(t.matches(a,s))return a;if(r&&0==--i)break}return null}static query(e,s,i=!1,r=!0){if("string"==typeof e)return t.query(document.documentElement,e,i,r);if(!(e&&s))return null;if(t.matches(e,s))return t.#x(e);for(let a of t.walk(e,!1,i,r))if(t.matches(a,s))return t.#x(a);return null}static queryAll(e,s,i=!1,r=!0){if("string"==typeof e)return t.queryAll(document.documentElement,e,i,r);let a=[];if(!(e&&s))return a;for(let n of t.walk(e,!1,i,r))t.matches(n,s)&&a.push(t.#x(n));return a}static #x(e){return"FORM"===e.tagName&&t.isHTMLElement(e.id)?new Proxy(e,{get:function(t,e,s){if("_owner_"===e)return t;if("id"===e)return t.getAttribute("id");let i=Reflect.get(t,e);return GSFunction.isFunction(i)?i.bind(t):i},set:function(t,e,s){return t[e]=s}}):e}static matches(t,e){return t&&"function"==typeof t.matches&&t.matches(e)}static setHTML(t,e="",s=!1,i){(t instanceof ShadowRoot||t instanceof HTMLElement||t instanceof HTMLTemplateElement)&&(s&&t?.setHTML?i?t.setHTML(e,{sanitizer:i}):t.setHTML(e):t.innerHTML=e instanceof Document?e.body.innerHTML:e)}static setText(t,e=""){t&&(t.textContent=e)}static css(e,s){if(a.isString(e)&&(e=t.queryAll(e)),t.isHTMLElement(e)&&(e=[e]),!(Array.isArray(e)&&e.length>0))return!1;requestAnimationFrame(()=>{e.forEach(t=>{Object.entries(s).forEach(e=>{t.style[e[0]]=e[1]})})})}static toggleClass(e,s,i){return a.isString(e)&&(e=t.queryAll(e)),t.isHTMLElement(e)&&(e=[e]),!!(Array.isArray(e)&&e.length>0)&&!!s&&0!=s.trim().length&&((s=s.split(" ").filter(t=>t&&t.trim().length>0),a.isNull(i))?s.forEach(t=>{e.forEach(e=>e.classList.toggle(t))}):(e.forEach(t=>{i?t.classList.add.apply(t.classList,s):t.classList.remove.apply(t.classList,s)}),!0))}static toggle(e,s){return t.toggleClass(e,"d-none",a.isNull(s)?s:!s)}static hasClass(t,e=""){return t?.classList?.contains(e)}static clearInputs(e,s="input, textarea, output"){let i=t.unwrap(e);requestAnimationFrame(()=>{i.querySelectorAll(s).forEach(t=>t.value="")})}static getValue(t,e=!1){let s=null;switch(t.type){case"datetime-local":s=t.value?t.valueAsNumber:t.value;break;case"number":s=t.value?t.valueAsNumber:0;break;case"select-multiple":s=Array.from(t.selectedOptions).map(t=>t.value);break;case"checkbox":s=a.isStringNonEmpty(t.value)?t.checked?t.value:null:t.checked;break;default:s=t.value}return a.isNull(s)&&e&&(s=t.defaultValue),s}static toValue(e,s=!1){if(!t.isHTMLElement(e))return;let i=t.getValue(e,s);if("text"===e.type){let t=d.styleValue(e,"text-transform");t&&(i=a.textTransform(t.value,i))}return i}static fromValue(e,s,i=!1){if(!t.isHTMLElement(e))return;let r=Array.isArray(s)?s[0]||"":s;"checkbox"===e.type?(a.isStringNonEmpty(e.value)?e.checked=r===e.value:e.checked=!0==r,i&&(e.defaultValue=e.checked)):(e.value=a.normalize(r),i&&(e.defaultValue=e.value))}static toObject(e,s="input, textarea, select, output",i=!0,r=!1){let a=t.unwrap(e),n={};return t.queryAll(a,s).filter(t=>t.name).filter(t=>"true"!==t.dataset.ignore).filter(t=>!!i||t.checkValidity()).forEach(e=>t.fromElement2Object(e,n,r)),n}static fromObject(e,s,i="input, textarea, select, output",r=!1){s=a.toJson(s);let n=t.unwrap(e);return Array.from(t.queryAll(n,i)).forEach(e=>t.fromObject2Element(e,s,r)),s}static fromObject2Element(e,s,i=!1){if(!p.objectPathExist(s,e?.name))return;let r=p.readFromObject(s,e.name);"radio"!==e.type?t.fromValue(e,r,i):e.value===r&&(e.checked=!0)}static fromElement2Object(e,s,i=!1,r=!1){if(e?.name){if(r&&a.isStringEmpty(e.value))return s;"radio"!==e.type?p.writeToObject(s,e.name,t.toValue(e,i)):e.checked&&p.writeToObject(s,e.name,t.toValue(e,i))}else console.warn("Skipping element, name not defined!",e);return s}static toJson(e,s=!0,i=!1,r){if(Array.isArray(e))return e.map(e=>t.toJson(e,s,i,r));let a={};if(!t.isHTMLElement(e))return a;i||(a["#tagName"]=e.tagName.toLowerCase()),a.$text=e.innerText;let n=r||t.allProperties(e);if(Array.from(e.attributes).forEach(t=>{switch(n[t.name]?.type){case Boolean:a[t.name]=e.hasAttribute(t.name);break;case Number:a[t.name]=c.getAsNum(e,t.name);break;default:a[t.name]=t.value}}),s){let n=Array.from(e.children).map(e=>t.toJson(e,s,i,r));n.length>0&&(a.items=n)}return a}static fromJson(e,s="gs-item",i=!1){return i?t.fromJsonAsString(e,s):t.fromJsonAsDOM(e,s)}static fromJsonAsDOM(e,s="gs-item"){if(!e)return null;if(a.isNumber(e)||a.isString(e))return t.fromJsonAsDOM({title:e},s);if(Array.isArray(e))return e.map(e=>t.fromJsonAsDOM(e,s));let i=e["#tagName"]||s,r=document.createElement(i);return Object.keys(e).filter(t=>"items"!=t).filter(t=>"#"!=t[0]).filter(t=>"$"!=t[0]).forEach(t=>r.setAttribute(t,e[t])),e["#def"]&&(r[Symbol.for("#def")]=e["#def"]),Array.isArray(e.items)&&e.items.forEach(e=>{let i=t.fromJsonAsDOM(e,s);r.appendChild(i)}),r}static fromJsonAsString(e,s="gs-item"){if(!e)return null;if(Array.isArray(e))return e.map(e=>t.fromJsonAsString(e)).join("");let i=e["#tagName"]||s,r=[];return r.push(`<${i} `),Object.keys(e).filter(t=>"items"!=t).filter(t=>"#"!=t[0]).filter(t=>"$"!=t[0]).forEach(t=>r.push(` ${t}="${e[t]}" `)),r.push(">"),Array.isArray(e.items)&&e.items.forEach(e=>{let i=t.fromJsonAsString(e,s);r.push(i)}),r.push(`</${i}>`),r.join("")}static fromURLHashToForm(e){location.hash.slice(1).split("&").filter(t=>t.length>1).forEach(s=>{let i=s.split("=");t.setValue(`input[name=${i[0]}]`,i[1],e)})}static unwrap(t){return t?t.self||t:document}static enableInput(e,s="input, select, textarea, .btn",i=!0,r=""){r=a.capitalizeAttr(r);let n=t.queryAll(e,s);!i&&r&&(n=n.filter(t=>a.asBool(t.dataset[r]))),n.forEach(t=>t.removeAttribute("disabled"))}static disableInput(e,s="input, select, textarea, .btn",i=!0,r=""){r=a.capitalizeAttr(r),t.queryAll(e,s).filter(t=>!!i||!t.disabled).forEach(t=>{t.setAttribute("disabled",""),r&&(t.dataset[r]=!0)})}static setValue(e,s,i,r=!1){t.queryAll(i,e).forEach(e=>t.fromValue(e,s,r))}static textNodesUnder(t){let e,s=document.createTreeWalker(t||document,NodeFilter.SHOW_TEXT,null,!1),i=[];for(;e=s.nextNode();)i.push(e);return i}static cleanHTML(e){let s=t.textNodesUnder(e||document).filter(t=>0===t.wholeText.trim().length);s.filter(t=>t.nextSibling instanceof Text).forEach(t=>t.remove()),s.forEach(e=>e.nodeValue=e.wholeText.replaceAll(/\u0020{4}/g,"	").replaceAll(t.#S,""))}static validate(e,s,i,r=!1){if(e.tagName!==s){if(r)return!1;throw Error(`Owner element : ${e.tagName}, id:${e.id} is not of excpected type: ${s}`)}if(t.isAllowed(Array.from(e.childNodes),i))return!0;if(r)return!1;throw Error(t.toValidationError(e,i))}static isAllowed(e,s){if(Array.isArray(e))return 0===e.filter(e=>t.isAllowed(e,s)).length;let i=!(e instanceof Text||e instanceof Comment),r=!s.includes(e.tagName);return i&&r}static toValidationError(t,e){let s=`<${e.join(">, <")}>`;return`${t.tagName} ID: ${t.id} allows as a child nodes only : ${s}!`}static async injectCSS(t,e){if(!t?.shadowRoot instanceof ShadowRoot)return!1;let s=!0;try{let s=await fetch(e);if(!s.ok)return;let i=await s.text(),r=new CSSStyleSheet;r.replaceSync(i),t.shadowRoot.adoptedStyleSheets=[r]}catch(t){r.error(null,t),s=!1}return s}static reset(e){if(t.isFormElement(e)&&!t.resetSelect(e))return e.dataset.typed=!1,e.value=e.defaultValue,t.#E(e),!0}static resetSelect(e){if(t.isSelect(e))return Array.from(e.options).forEach(t=>t.selected=t.hasAttribute("selected")),t.#E(e),!0}static #E(t){t.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))}static allProperties(e){let s=[...t.inheritance(e)].map(t=>t.properties).filter(t=>t);return s.push(e.constructor?.properties||e.properties),p.mergeObjects(s)}static templateRef(t){if(t)return"GS-TEMPLATE"===t.tagName?t.src:t.template||t.query?.("template",!1)}static #k(t,e){queueMicrotask(()=>{globalThis.dispatchEvent?.(new CustomEvent(t,e))})}static define(e,s,i){customElements.get(e)||(customElements.define(e,s,i),t.#k(e,{detail:{customElements:!0}}))}static{Object.seal(t),globalThis.GSDOM=t,t.#k("gs-base-ready",{detail:{message:"GS Base is ready",time:new Date}})}},g=class t{static #T=0;static #A=!1;static #L=new Map;static #N=!1;static #I=0;get altContext(){return t.#A}set altContext(e){t.#A=a.asBool(e,!0)}static protect(){t.listen(globalThis,null,"contextmenu",t.#R),t.listen(globalThis.document,null,"keydown",t.#M)}static #R(e){(t.#A||!e.shiftKey)&&t.prevent(e)}static #M(t){let e=t.code;return"F12"!=e&&(!t.ctrlKey||!t.shiftKey||"KeyI"!=e)&&void 0}static async waitPageLoad(e,s="loaded",i,r=0,a=!0){if(!t.#N)try{await t.wait(globalThis.window,"load",r,a),t.#N=!0}catch(t){console.error("Error waiting for page load:",t)}t.#N&&(await n.callFunction(i),t.sendSuspended(e,s))}static wait(e,s="",i=0,r=!0){if(a.isStringEmpty(s))throw Error("Event undefined!");if(!a.isNumber(i))throw Error("Invalid timeout value!");return i>0?t.once(e,null,s,null,i):new Promise(a=>{t.once(e,null,s,e=>{r&&t.prevent(e),a(e)},i)})}static async waitAnimationFrame(e,s=!1){if(s){if("function"!=typeof e)return;if(t.#I>0)return n.callFunction(e);t.#I++}return new Promise((i,r)=>{requestAnimationFrame(async()=>{try{let t=await n.callFunction(e);i(t)}catch(t){r(t)}finally{s&&t.#I>0&&t.#I--}})})}static listen(t,e,s,i,r=!1){return!e&&t?t.addEventListener(s,i,r):m.queryAll(t,e).map(t=>t.addEventListener(s,i,r))}static unlisten(t,e,s,i){return!e&&t?t.removeEventListener(s,i):m.queryAll(t,e).map(t=>t.removeEventListener(s,i))}static on=t.listen;static off=t.unlisten;static once(e,s,i,r,a=0){let n=t.#D(a);return n&&n.internal?new Promise((a,l)=>{t.listen(e,s,i,t=>{n.removeEventListener("abort",l),r?.(t),a(t)},{once:!0,signal:n}),n.addEventListener("abort",l)}):t.listen(e,s,i,r,{once:!0,signal:n})}static prevent(t,e=!0,s=!0,i=!0){t&&(e&&t.preventDefault?.(),s&&t.stopPropagation?.(),i&&t.stopImmediatePropagation?.())}static send(t=document,e,s="",i=!1,r=!1,n=!1){if(!a.isString(e)||0===e.length)return!1;let l=new CustomEvent(e,{detail:s,bubbles:i,composed:r,cancelable:n});return t?.dispatchEvent(l)}static toEvent(t,e){let s=null;switch(t){case"copy":case"cut":case"paste":s=new ClipboardEvent(t,e);break;case"blur":case"focus":case"focusin":case"focusout":s=new FocusEvent(t,e);break;case"input":case"beforeinput":s=new InputEvent(t,e);break;case"keydown":case"keyup":case"keypress":s=new KeyboardEvent(t,e);break;case"dblclick":case"mousedown":case"mouseenter":case"mouseleave":case"mousemove":case"mouseout":case"mouseover":case"mouseup":s=new MouseEvent(t,e);break;case"submit":s=new SubmitEvent(t,e);break;case"touchstart":case"touchend":case"touchmove":case"touchcancel":s=new TouchEvent(t,e);break;case"whell":s=new WheelEvent(t,e);break;case"pointerover":case"pointerenter":case"pointerdown":case"pointermove":case"pointerup":case"pointercancel":case"pointerout":case"pointerleave":case"pointerrawupdate":case"gotpointercapture":case"lostpointercapture":s=new PointerEvent(t,e);break;default:s=new CustomEvent(t,e)}return s}static isMouseOrPointerEvent(t){return t instanceof MouseEvent||t instanceof PointerEvent}static sendSuspended(e=document,s,i="",r=!1,a=!1,n=!1){return requestAnimationFrame(()=>{t.send(e,s,i,r,a,n)})}static sendDelayed(e=1,s=document,i,r="",a=!1,n=!1,l=!1){return setTimeout(()=>t.send(s,i,r,a,n,l),e)}static attach(t,e,s="",i,r=!1,a=!1){if(!e||!(window instanceof Window||e.isConnected)||!n.isFunction(i)||!n.hasFunction(e,"addEventListener"))return!1;let l=this,h=l.#U(t,e,s,i),c=l.#O(t);return l.#F(c,h.key).set(h.fnkey,h),h.capture=a,r&&(h.once=t=>{try{h.fn(t)}finally{l.remove(h.own,h.el,h.name,h.once)}},Object.defineProperty(h.once,"gsid",{value:i.gsid,writable:!1})),e.addEventListener(s,r?h.once:h.fn,{once:r,capture:a}),!0}static remove(t,e,s="",i){let r=this.#U(t,e,s,i),a=this.#O(t),n=this.#F(a,r.key),l=n.get(r.fnkey);if(l)n.delete(l.fnkey),this.#B(l);else if(r.fnkey===r.key)for(let t of n.values())n.delete(t.fnkey),this.#B(t);0===n.size&&a.delete(r.key),0===a.size&&this.#L.delete(t)}static detachListeners(t){let e=this.#H(t);if(e){for(let t of e.values()){for(let e of t.values())this.#B(e);t.clear()}e.clear()}}static #U(t,e,s="",i=""){if(!e)return!1;let r=this.#P(e),a=this.#z(i),n=l.hashCode(`${r}${s}`),h=l.hashCode(`${r}${s}${a||""}`);return{own:t,fn:i,el:e,name:s,key:n,fnkey:h}}static #F(t,e){let s=t.get(e);return s||(s=new Map,t.set(e,s)),s}static #z(t){return n.isFunction(t)?(t.gsid||Object.defineProperty(t,"gsid",{value:l.next(),writable:!1}),t.gsid):null}static #P(t){let e=t[Symbol.for("gs-event-id")];return e||(e=l.id,t[Symbol.for("gs-event-id")]=e),e}static #O(t){return this.#F(this.#L,t)}static #H(t){let e=this.#L.get(t);if(e)return this.#L.delete(t),e}static #B(t){t.el.removeEventListener(t.name,t.once?t.once:t.fn,{capture:t.capture}),t.el=null,t.fn=null,t.once=null}static #D(t=0){return a.isNumber(t)&&t>0?((t=AbortSignal.timeout(t)).internal=!0,t):t instanceof AbortSignal?t:void 0}static monitorAction(e,s){e.on("action",i=>{let r=i.detail,n=a.isString(r)?r:r.action||r.data?.action;t.onAction(e,n,s,i)})}static async onAction(e,s,i,r){let a=t.findAction(e,s,i);if(!a)return;t.prevent(r);let l=!1;try{l=n.isFunctionAsync(a)?await a(r):a(r)}catch(t){if(l=t,!n.isFunction(e.onError))throw t;e.onError(t)}return l}static findAction(t,e="",s=""){let i=!1;if(!e)return i;e=a.capitalizeAttr(a.capitalize(e)),s=a.capitalizeAttr(a.capitalize(s));let l=`on${s}${e}`;globalThis.GS_LOG_ACTION&&r.warn(t,`Action : ${l}`);let h=t[l];return(i=(i=n.isFunction(h))&&!n.isFunctionNative(h))?t[l].bind(t):null}static #G(){clearTimeout(t.#T),t.#T=setTimeout(async()=>{await t.waitAnimationFrame(),t.send(window,"resized")},100)}static resizeMonitor(){let e=document.documentElement,s=t.#U(e,window,"resize",t.#G),i=t.#O(e);i.get(s.key)?.get(s.fnkey)||t.attach(e,window,"resize",t.#G)}static{Object.freeze(t),globalThis.GSEvents=t,t.waitPageLoad()}},f=class extends AbortController{#q=0;constructor(t=0){if(super(),!a.isNumber(t))throw Error("Timeout parameter must be number");let e=this;t&&(e.#q=setTimeout(e.abort.bind(e),t)),e.signal.addEventListener("abort",()=>clearInterval(e.#q))}wait(t=0){return g.wait(this.signal,"abort",t)}},y=class t extends MutationObserver{static #j=new Map;static #V=new Map;observe(t,e){return super.observe(t,e||{childList:!0,subtree:!0})}static create(e,s){let i=new t(t.#_);return i.observe(e,s),i}static #W(e=!1){return e?t.#V:t.#j}static get #Y(){return t.#J||t.#K}static get #J(){return t.#j.size>0}static get #K(){return t.#V.size>0}static #_(e){t.#Y&&e.forEach(e=>{t.#J&&e.addedNodes.forEach(e=>t.#X(e,t.#j)),t.#K&&e.removedNodes.forEach(e=>t.#X(e,t.#V))})}static #X(e,s){return 0!==s.size&&(t.#Z(e,s),e.childNodes.forEach(e=>t.#X(e,s)),!0)}static #Z(t,e){e.forEach((e,s)=>{try{s(t)&&e(t)}catch(t){r.error(null,t)}})}static #Q(e,s,i){if(e instanceof HTMLElement==!1)return!1;let r=new Map;return r.set(s,i),t.#X(e,r)}static #tt(t){return"function"==typeof t}static #te(e,s){return t.#tt(e)&&t.#tt(s)}static registerFilter(e,s,i=!1,r){return!!t.#te(e,s)&&(t.#W(i).set(e,s),i||t.#Q(r||document.body,e,s),!0)}static unregisterFilter(e,s=!1){return!!t.#tt(e)&&t.#W(s).delete(e)}static{Object.freeze(t),globalThis.GSDOMObserver=t,t.create(document.documentElement)}},b=class t extends CSSStyleSheet{constructor(t="dynamic"){super(),this.id=t||l.id}deleteRule(t=""){let e=this;Array.from(e.cssRules).map((e,s)=>e.selectorText===`.${t}`?s:-1).filter(t=>t>-1).forEach(t=>e.deleteRule(t))}getRule(t=""){return Array.from(this.cssRules).filter(e=>e.selectorText===`.${t}`).pop()}setRule(t,e="",s=!1){let i=this;if(!t)return;let r=i.getRule(t);if(!r)return i.insertRule(`.${t} {}`),i.setRule(t,e,s);if(!e)return r;let a=[];return a="string"==typeof e?e.replaceAll("\n","").split(";").map(t=>t.trim().split(":")).filter(t=>2===t.length):Object.entries(e),s?a.forEach(t=>i.#ts(r,t[0],t[1])):requestAnimationFrame(()=>{a.forEach(t=>i.#ts(r,t[0],t[1]))}),r}#ts(t,e="",s=""){let i=(s=(s||"").toString()).includes("!important");s=s.replace("!important",""),e=e.trim(),t.style.setProperty(e,s,i?"important":"")}static dynamicStyleSheet(e){let s=m.root(e),i=e.dataset.sheet||"dynamic";return t.dynamicStyleSheetByID(s,i)}static dynamicStyleSheetByID(t,e){return Array.from(t?.adoptedStyleSheets).filter(t=>t.id===e).pop()}static dynamicRule(e){let s=t.dynamicStyleSheet(e);return s?.getRule(e.dataset.gsClass)}static dynamicRuleByID(e,s){let i=t.dynamicStyleSheetByID(e,"dynamic");return i?.getRule(s)}static dynamicStyle(e){let s=t.dynamicRule(e);return s?.style}static dynamicStyleByID(e,s){let i=t.dynamicRuleByID(e,s);return i?.style}static applyDynamicStyle(e,s){requestAnimationFrame(()=>Object.assign(t.dynamicStyle(e),s))}static applyDynamicStyleByID(e,s,i){requestAnimationFrame(()=>Object.assign(t.dynamicStyleByID(e,s),i))}},v=class t{static #ti=new Map;static create(t){let e=new b(t);return this.#ti.set(t,e),e}static set(e,s){return s instanceof CSSStyleSheet&&this.#ti.set(e,s),s&&"string"==typeof s&&t.create(e).replaceSync(s),this.get(e)}static remove(t){return this.#ti.delete(t)}static get(t){return this.#ti.get(t)}static get dynamic(){let e="gs-dynamic",s=t.get(e);return s||(s=t.create(e),document.adoptedStyleSheets=t.styles),s}static getRule(e=""){return t.dynamic.getRule(e)}static setRule(e="",s="",i=!1){return t.dynamic.setRule(e,s,i)}static deleteRule(e=""){t.dynamic.deleteRule(e)}static get styles(){return Array.from(new Map([...t.#ti].sort((t,e)=>String(t[0]).localeCompare(e[0]))).values())}static adopt(e="",s=0){if(e)try{s=s||l.hashCode(e),t.set(s,e),document.adoptedStyleSheets=t.styles}catch(t){r.error(null,t)}}static{Object.freeze(t),globalThis.GSCacheStyles=t,t.adopt(i)}};let C=Symbol(),w=Symbol();var S=class t{static timeout=1e3;static #tr=0;static #ta=Date.now();static #tn=!1;static #to(){t.observe(document.head),t.#tl(),t.#tr=setInterval(()=>t.#th(),t.timeout)}static #tc(){clearInterval(t.#tr),t.#tr=void 0}static #th(){let e=t.#td;if(0==e.length)return t.#tc();e.map(e=>t.#tu(e)),t.update()}static update(){t.#tn||(t.#tn=!0,queueMicrotask(()=>{requestAnimationFrame(()=>{try{document.adoptedStyleSheets=t.#tp,document.adoptedStyleSheets.id=++t.#ta}finally{t.#tn=!1,globalThis.dispatchEvent(new CustomEvent("gs-adopted"))}})}))}static #tm(t){return Object.values(t.cssRules).map(t=>t.cssText).join("")}static #tg(e){t.#tf(e),Array.from(document.styleSheets).filter(t=>t.ownerNode===e).map(e=>t.#tu(e))}static #tu(e){let s=t.#tm(e);return t.#ty(e.ownerNode,s)}static #ty(e,s){let i=new CSSStyleSheet;return i.replaceSync(s),i.id=++t.#ta,e[C]=i.id,t.#ti(e,i),i}static #ti(t,e){v.set(e.id,e)}static #tb(t,e){v.remove(e.id),t[w]?.disconnect?.(),t[w]=void 0}static get #tp(){return v.styles}static get #td(){return Object.values(document.styleSheets).filter(t=>t.ownerNode).filter(t=>t.ownerNode.dataset.adoptable).filter(t=>!t.ownerNode[C])}static #tl(){m.queryAll(document.head,'link[rel="preload"][as="style"]').forEach(t=>{t.remove(),document.head.appendChild(t)})}static #tv(e){e.forEach(t=>{let e=t.target[C],s=v.get(e);s&&(s.disabled=t.target.hasAttribute("disabled"))}),t.update()}static #tf(e){let s=new MutationObserver(t.#tv.bind(t));return s.observe(e,{attributeFilter:["disabled"],attributeOldValue:!0,subtree:!1}),s}static #tC(t){return!!t.dataset?.adoptable&&(t instanceof HTMLLinkElement&&("stylesheet"===t.rel||"style"===t.as)||t instanceof HTMLStyleElement)}static #tw(e){e instanceof HTMLStyleElement?(t.#ty(e,e.innerText),t.update()):e instanceof HTMLLinkElement&&g.wait(e,"load",0,!1).then(s=>{if("preload"===e.rel)return e.rel="stylesheet";t.#tg(s.target),t.update()})}static #tS(e){t.#tp.filter(t=>t.id===e[C]).forEach(s=>t.#tb(e,s)),t.update()}static observe(e){y.registerFilter(t.#tC,t.#tw,!1,e),y.registerFilter(t.#tC,t.#tS,!0,e)}static{this.#to()}},$=class t{static TEMPLATE_URL=globalThis.GS_TEMPLATE_URL||location.origin;static ROUTER_URL=globalThis.GS_ROUTER_URL||location.origin;static NO_CACHE=!1;static UNIQUE=s.build;static{let e=t.#t$;globalThis.GS_TEMPLATE_URL||(t.TEMPLATE_URL=e,globalThis.GS_TEMPLATE_URL=e),globalThis.GS_ROUTER_URL||(t.ROUTER_URL=e,globalThis.GS_ROUTER_URL=e),"GS_NO_CACHE"in self&&(t.NO_CACHE=!0===globalThis.GS_NO_CACHE,localStorage&&localStorage.setItem("GS_NO_CACHE",t.NO_CACHE)),t.NO_CACHE=!!localStorage&&"true"==localStorage.getItem("GS_NO_CACHE")}static get #t$(){let t=location.href.split("?").pop(),e=t.split("/");return t.endsWith("/")?t:e.slice(0,-1).join("/")}static normalizeURL(e="",s=!1){e=e||"";let i=location.pathname.split("/").pop(-1).includes("."),r=e.includes("extension:/"),a=new URL((e.startsWith("http")||r?e:e.startsWith("/")?`${location.origin}/${e}`:i?`${location.origin}${location.pathname}/../${e}`:`${location.origin}${location.pathname}/${e}`).split("://").map(t=>t.replaceAll(/\/{2,}/g,"/")).join("://"));if(!s){let e=t.NO_CACHE?Date.now():t.UNIQUE;a.searchParams.append("_dc",e)}return a.href}static parentPath(t="",e=1){return(t||"").split("/").slice(0,-1*e).join("/")+"/"}static async getRouter(e=""){if(!e)return e;if(e.startsWith("#")){let t=m.query(document.documentElement,e);return t?a.toJson(t.innerHTML):{}}return a.isHTML(e)?e:(e=t.#tx(e),t.loadSafe(e,"GET",null,!0))}static #tx(e=""){return e=e.startsWith("//")?t.#tE+"/"+e:e,t.normalizeURL(e)}static get #tE(){return t.normalizeURL(t.#tk,!0)}static get #tk(){return t.ROUTER_URL?t.ROUTER_URL.replace("//","/"):""}static async getTemplate(e=""){if(!e)return e;if(e.startsWith("#")){let t=m.query(document.documentElement,e);return t?t.innerHTML:e}return a.isHTML(e)?e:(e=t.#tT(e),t.loadSafe(e))}static #tT(e=""){return e=e.startsWith("//")?t.#tA+"/"+e:e,t.normalizeURL(e)}static get #tA(){return t.normalizeURL(t.#tL,!0)}static get #tL(){return t.TEMPLATE_URL?t.TEMPLATE_URL.replace("//","/"):""}static async loadTemplate(e="",s="GET"){let i=t.#tT(e);return await t.load(i,s)}static async load(e="",s="GET",i,r=!1,a){let n=null,l="Content-Type";(i={...i})[l]=r?"application/json; utf-8":i[l]||"text/plain",i.Accept="application/json";let h=t.normalizeURL(e,!0),c={method:s,headers:i};("POST"===s||"PUT"===s&&a)&&(c.body=JSON.stringify(a));let d=await fetch(h,c);return d.ok&&(n=r?await d.json():await d.text()),n}static async loadSafe(e="",s="GET",i,a=!1,n,l){try{if(e)return t.load(e,s,i,a,l)}catch(t){r.error(null,t)}return n||(a?{}:"")}static async loadData(t=""){let e=a.isJson(t),s=!e&&n.parseFunction(t),i=s&&n.isFunction(s);if((!i&&a.parseValue(t)||e)&&(t=a.toJson(t)),i&&(t=await n.callFunction(s)),a.isJsonType(t))return t}static{Object.seal(t),globalThis.GSLoader=t}},x=class t{static #ti=new Map;static clear(){t.#ti.clear()}static store(t,e){this.#ti.set(t,e)}static remove(t){return this.#ti.delete(t)}static load(t){return this.#ti.get(t)}static getOrCreate(e,s){let i=t.load(e);return i||(i=t.create(s),t.store(e,i)),i}static create(t){let e=document.createElement("template");return m.setHTML(e,t),e}static clone(t){return m.isTemplateElement(t)?t.content.cloneNode(!0):null}static isFunctionTemplate(t){let e=n.parseFunction(t);return!!n.isFunction(e)&&e}static isHTMLTemplate(t){let e=t?t.trim():"";return!!/^<(.*)>$/s.test(e)&&t}static isURLTemplate(t){let e=t?t.trim():"";return!!/^(https?:\/\/|.{0,2}\/{1,2})/i.test(e)&&t}static initTemplate(e=!1,s="",i){return e?t.getOrCreate(s,i):t.create(i)}static loadHTMLTemplate(e=!1,s="",i){let r=t.isHTMLTemplate(i);return r?t.initTemplate(e,s,r):r}static async loadURLTemplate(e=!1,s="",i){try{let r=null;if(e&&(r=t.load(i)),r)return r;return r=await $.loadTemplate(i),t.initTemplate(e,s,r)}catch(e){r.error(t,e)}return!1}static async loadFunctionTemplate(e=!1,s="",i){let a=t.isFunctionTemplate(i);if(!a)return a;try{let i=null;if(t.cached&&(i=t.load(o)),i)return i;return i=n.isFunctionAsync(a)?await a():a(),t.initTemplate(e,s,i)}catch(t){r.error(null,t)}return a}static async loadTemplate(e=!1,s="",i){if(!s||!i)return!1;let r=!1;return 0==i.indexOf("#")?m.query(`template[id="${i.slice(1)}"]`,!0):(r||(r=t.loadHTMLTemplate(e,s,i)),r||(r=await t.loadFunctionTemplate(e,s,i)),r||(r=await t.loadURLTemplate(e,s,i)),r)}},E=class t{static #tN=Symbol();static #tI=Symbol();static DEFINITION={action:{attribute:"data-gs-action"},anchor:{attribute:"data-gs-anchor"},attribute:{attribute:"data-gs-attribute"},call:{attribute:"data-gs-call"},event:{attribute:"data-gs-event"},bubbles:{attribute:"data-gs-bubbles",type:Boolean},composed:{attribute:"data-gs-composed",type:Boolean},exec:{attribute:"data-gs-exec"},inject:{attribute:"data-gs-inject"},property:{attribute:"data-gs-property"},swap:{attribute:"data-gs-swap"},target:{attribute:"data-gs-target"},template:{attribute:"data-gs-template"},toggle:{attribute:"data-gs-toggle"},trigger:{attribute:"data-gs-trigger"},value:{attribute:"data-gs-value"},hashed:{attribute:"data-gs-hashed",type:Boolean},calls:{attribute:"data-gs-call",multi:!0},toggles:{attribute:"data-gs-toggle",multi:!0},timeout:{attribute:"data-gs-timeout",type:Number},triggers:{attribute:"data-gs-trigger",multi:!0}};#tR;#x;#tM=!1;#tD;constructor(e){this.#tR=e.isProxy?e.self:e,this.#tD=this.handle.bind(this),this.#x=e.isProxy?e:t.proxify(this.#tR)}handle(t){let e=this;e.targets.forEach(s=>e.#tU(e.#tR,s,t))}#tU(t,e,s){this.#tO(e,s),this.#tF(e),this.#tB(t,e),this.#tH(t,e),this.#tP(e),this.#tz(e),this.#tG(e),this.#tq(e,s),this.#tj(t,s),this.#tV(t,e,s),this.#t_(t,e,s),this.#tW(t,e)}#tO(t,e){let s=e?.target?.field||e?.target?.form||e?.target,i=s instanceof HTMLFormElement,r=m.isFormElement(s);(r||i)&&(r?t[s.name]=m.getValue(s):Object.assign(t,m.toObject(s)))}#tF(t){this.action&&g.send(t,"action",this.action,!0,!0)}#tP(t){let e=this;if(e.inject&&(t=m.query(t,e.inject)),e.swap&&(t=m.query(t,e.swap)),e.isAttributeJSON){let s=a.toJson(e.attribute);return c.jsonToAttr(t,s)}e.attributes.forEach(s=>e.#tY(t,s[0],e.value||s[1]))}#tz(t){let e=this;if(e.inject&&(t=m.query(t,e.inject)),e.swap&&(t=m.query(t,e.swap)),e.isPropertyJSON){let s=a.toJson(e.property);return Object.assign(t,s)}e.properties.forEach(s=>e.#tJ(t,s[0],e.value||s[1]))}#tY(t,e,s){if(a.isBool(t[e]))return c.toggle(t,e,!t[e]);a.isNumber(t[e])&&(s=a.asNum(s)),c.set(t,e,s)}#tJ(t,e,s){a.isBool(t[e])?a.isStringEmpty(s)?t[e]=!t[e]:t[e]=a.asBool(s):a.isNumber(t[e])?t[e]=a.asNum(s):t[e]=s}async #tG(t){let e=1e3*this.timeout,s=this.toggles;if(0===e)s.forEach(e=>m.toggleClass(t,e));else{for(let i of(t[this.#tK]&&(s=s.slice().reverse()),s))await a.timeout(e),m.toggleClass(t,i);t[this.#tK]=!t[this.#tK]}}#tV(t,e,s){let i=a.isJsonString(t.value)?a.toJson(t.value):t.value;this.calls.forEach(t=>n.callFunction(e[t],e,!0,i||s))}#t_(t,e,s){if(this.exec)try{Function(this.exec).bind(e)(s)}catch(t){r.error(e,t)}}#tq(t,e){this.triggers.forEach(s=>g.send(t,s,e))}#tj(t,e){g.send(t,this.event,e,this.bubbles,this.composed,!0)}#tX(t,e,s,i=!1){if(s){let r="",n=a.asBool(s);r=n?m.fromJsonAsString(this.definition):this.#tZ(s);let l=m.parse(r,!0);n||c.jsonToAttr(this.definition,l),i&&m.cleanup(e),l.dataset.gsHashed=this.hashed,this.#tQ(t,e,l)}}#tH(t,e){this.#tX(t,e,this.inject,!1)}#tB(t,e){this.#tX(t,e,this.swap,!0)}#tZ(t=""){return 0>t.indexOf("/")?`<${t}></${t}>`:`<gs-template flat src="${t}"></gs-template>`}async #tW(t,e){let s=await x.loadTemplate(!0,this.template,this.template);this.#t0(t,e,s)}#t0(t,e,s){let i=x.clone(s);this.#tQ(t,e,i)}#tQ(t,e,s){t?.anchor?m.insertAdjacent(e,s,t.anchor):m.appendChild(e,s)}attach(t="click"){this.#tM||(g.on(this.#tR,null,t,this.#tD),this.#tM=!0)}detach(t="click"){g.off(this.#tR,null,t,this.#tD),this.#tM=!1}get #tK(){return t.#tN}get targets(){switch(this.target){case"this":case"self":return[this.#tR];case"owner":return[this.#tR.parentComponent];case"parent":return[this.#tR.parentElement]}let t=m.queryAll(document.body,this.target,!1,!0).filter(t=>"GS-ITEM"!==t.tagName);return 0===t.length&&t.push(this.#tR),t}get host(){return this.#tR}get definition(){return this.#x[Symbol.for("#def")]}get action(){return this.#x.action}get anchor(){return this.#x.anchor}get attribute(){return this.#x.attribute}get exec(){return this.#x.exec}get event(){return this.#x.event}get bubbles(){return this.#x.bubbles}get composed(){return this.#x.composed}get call(){return this.#x.call}get inject(){return this.#x.inject}get property(){return this.#x.property}get swap(){return this.#x.swap}get target(){return this.#x.target}get toggle(){return this.#x.toggle}get trigger(){return this.#x.trigger}get timeout(){return this.#x.timeout}get template(){return this.#x.template}get value(){return this.#x.value}get hashed(){return this.#x.hashed}get calls(){return this.#x.calls}get toggles(){return this.#x.toggles}get triggers(){return this.#x.triggers}get attributes(){return(this.#x.attribute||"").split(/[,;]/g).map(t=>t.split("=")).filter(t=>a.isStringNonEmpty(t[0]))}get properties(){return(this.#x.property||"").split(/[,;]/g).map(t=>t.split("=")).filter(t=>a.isStringNonEmpty(t[0]))}get isPropertyJSON(){return a.isJson(this.property)}get isAttributeJSON(){return a.isJson(this.attribute)}static proxify(e){return c.proxify(e,t.DEFINITION)}static process(e,s){if(!e?.hasAttribute("data-gs-target"))return;let i=e[t.#tI];i instanceof t||(i=new t(e),e[t.#tI]=i),i.handle(s)}static create(e){let s=new t(e);return s.attach(),s}static clone(e,s,i=!0){Object.values(t.DEFINITION).filter(t=>e.hasAttribute(t.attribute)).filter(t=>i||!s.hasAttribute(t.attribute)).forEach(t=>s.setAttribute(t.attribute,e.getAttribute(t.attribute)))}static isBindable(e){return Object.values(t.DEFINITION).filter(t=>e.hasAttribute(t.attribute)).length>0}static{let e=t.DEFINITION;Object.values(e).forEach(t=>Object.freeze(t)),Object.freeze(e)}},k=class t{static audioCtx=globalThis.AudioContext||globalThis.webkitAudioContext||globalThis.audioContext;static beep(e=200,s=440,i=1,r="sine"){return new Promise((a,n)=>{try{if(!t.isAvailable)return a();let n=new t.audioCtx,l=n.createOscillator(),h=n.createGain();l.connect(h),l.frequency.value=s,l.type=r,h.connect(n.destination),h.gain.value=.01*i,l.start(n.currentTime),l.stop(n.currentTime+.001*e),l.onended=()=>a()}catch(t){n(t)}})}static get isAvailable(){let{isActive:t,hasBeenActive:e}=navigator.userActivation;return t||e}},T=class t{static get isMobile(){return navigator.userAgentData?navigator.userAgentData.mobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}static get isDesktop(){return!t.isMobile}static get isWebkit(){return/webkit/.test(navigator.userAgent.toLowerCase())}static isValidProtocol(t=""){return!t||location.protocol.slice(0,-1)===t}static isValidBrowser(t=""){if(!t)return!0;let e=t.toLowerCase();if(navigator.userAgentData){let t=!1;return navigator.userAgentData.brands.forEach(s=>{s.brand.toLowerCase().includes(e)&&(t=!0)}),t}let s=navigator.userAgent.toLocaleLowerCase()||"",i=s.includes("edg");return!!(i&&e.startsWith("edg"))||!i&&s.includes(e)}static isValidEnvironment(e=""){return!e||("desktop"===e?t.isDesktop:"mobile"===e?t.isMobile:t.isDevice(e))}static isDevice(t=""){if(!t)return!0;let e=t.toLowerCase();return navigator.userAgentData&&navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase()===e:navigator.userAgent.toLocaleLowerCase().indexOf(e)>1}static isValidOrientation(t=""){if(!t||!screen.orientation)return!0;let e=screen.orientation.type;return e.includes("portrait")?"portrait"===t||"vertical"===t:!e.includes("landscape")||"landscape"===t||"horizontal"===t}static{Object.seal(t)}},A=class t{#t1;#tD;#t2;#t5;#t3;#t4;constructor(t,e){this.#tD=t,this.#t1=e instanceof AbortSignal?e:null,this.#t1=a.isNumber(e)?AbortSignal.timeout(e):this.#t1,this.#t2={abort:this.#t9.bind(this)}}await(){return this.#t4||(this.#t1?.addEventListener("abort",this.#t2.abort),this.#t4=new Promise(this.#t6.bind(this))),this.#t4}get aborted(){return this.#t1?.aborted===!0}#t6(t,e){this.#t5=t,this.#t3=e;try{this.#tD(this.#t7.bind(this),this.#t8.bind(this))}catch(t){this.#tc(),e(t)}}#t9(){this.#tc(),this.#t3(Error("Promise aborted!"))}#t7(t){return this.#tc(),this.aborted?null:this.#t5(t)}#t8(t){return this.#tc(),this.aborted?null:this.#t3(t)}#tc(){this.#t1?.removeEventListener("abort",this.#t2.abort)}static sequential(t){return Array.isArray(t)||(t=[]),t.reduce((t,e)=>t.then(e),Promise.resolve())}static{globalThis.GSPromise=t}},L=class t extends EventTarget{#et=new Set;#ee(t="",e){let s=Array.from(this.#et);return this.#tt(e)?s.filter(s=>s.type===t&&s.listener===e):s.filter(e=>e.type===t)}#tt(t){return"function"==typeof t}on(t="",e,s=0,i=!1){if(!t)return reject("Event undefined!");let r=i instanceof AbortController?i:i?new GSAbortController(s):null,a=r||0==s?r?.signal:AbortSignal.timeout(s);return this.addEventListener(t,e,{signal:a}),r||a}once(t,e,s=0,i=!1){if(!t)return reject("Event undefined!");let r=this,a=t=>{e(t),r.#et.delete(a)};return a.type=t,a.listener=e,a.timeout=s,a.controller=i instanceof AbortController?i:i?new GSAbortController(s):null,a.signal=a.controller||0==s?a.controller?.signal:AbortSignal.timeout(s),r.addEventListener(t,a,{once:!0,signal:a.signal}),a.controller||a.signal}off(t="",e){this.removeEventListener(t,e)}emit(t="",e,s=0){let i=this;return!0===s?queueMicrotask(()=>i.#es(t,e)):(s=a.asNum(s,0))<=0?i.#es(t,e):setTimeout(()=>i.#es(t,e),s)}#es(t="",e){let s=new CustomEvent(t,{detail:e});return this.dispatchEvent(s)}wait(t="",e){let s=this;return new A((e,i)=>{s.once(t,e)},e).await()}listen(t,e){this.on(t,e)}unlisten(t,e){this.off(t,e)}unbind(){Array.from(this.#et).forEach(t=>{super.removeEventListener(t.type,t.listener)}),this.#et.clear()}addEventListener(t,e,s){return!!this.#tt(e)&&(this.#et.add({type:t,listener:e}),super.addEventListener(t,e,s))}removeEventListener(t,e){let s=this;s.#ee(t,e).forEach(t=>{super.removeEventListener(t.type,t.listener),s.#et.delete(t)})}static{Object.freeze(t),globalThis.GSEvent=t}},N=class t{static #ei=new Map;static send(e="",s="",i){return t.register(e).emit(s,i)}static exist(e=""){return e&&t.#ei.has(e)}static register(e=""){return t.exist(e)||t.#ei.set(e,new L),t.#ei.get(e)}static unregister(e=""){let s=t.#ei.get(e);return s?.unbind&&s.unbind(),t.#ei.delete(e)}static{Object.freeze(t),globalThis.GSEventBus=t}},I=class t{#er=0;#ea=0;#en=null;#eo=null;#el=null;#eh=null;#ec=!1;#ed=!1;#eu=!1;#ep=0;static timeout=1500;constructor(t,e,s,i){this.#ec=e,this.#ed=s,this.#eu=i,this.#en=null,this.#eo=null,this.#el="string"==typeof t?document.querySelector(t):t,this.#eh={move:this.#em.bind(this),start:this.#eg.bind(this),end:this.#ef.bind(this)},g.attach(this.#el,this.#el,"touchmove",this.#eh.move,!1),g.attach(this.#el,this.#el,"touchstart",this.#eh.start,!1),g.attach(this.#el,this.#el,"touchend",this.#eh.end,!1)}unbind(){g.remove(this.#el,this.#el,"touchmove",this.#eh.move),g.remove(this.#el,this.#el,"touchstart",this.#eh.start),g.remove(this.#el,this.#el,"touchend",this.#eh.end)}#eg(e){this.#en=e.touches[0].clientX,this.#eo=e.touches[0].clientY,this.#eu&&setTimeout(this.#ey.bind(this),t.timeout)}#ef(t){clearTimeout(this.#ep)}#em(t){if(!this.#en||!this.#eo||!this.#ec)return;let e=t.touches[0].clientX,s=t.touches[0].clientY;this.#eu&&Math.abs(this.#er)>10&&Math.abs(this.#ea)>10&&clearTimeout(this.#ep),this.#er=this.#en-e,this.#ea=this.#eo-s;let i=Math.abs(this.#er)>Math.abs(this.#ea),r="";r=i?this.#er>0?"swipe-left":"swipe-right":this.#ea>0?"swipe-up":"swipe-down",g.send(this.#el,r,t),this.#en=null,this.#eo=null}#ey(){g.send(me.#el,"long-press")}static fingers(t){return t.detail.touches?.length}static attach(e,s=!0,i=!1,r=!1){return new t(e,s,i,r)}},R=class t extends HTMLElement{static #eb=["GS-ITEM","TEMPLATE"];static properties={active:{type:Boolean},disabled:{type:Boolean},selected:{type:Boolean},autofocus:{type:Boolean}};constructor(){super(),t.validate(this)}get body(){let t=c.get(this,"template");return t?`<gs-template flat src="${t}"></gs-template>`:(t=this.querySelector("template"),t?.innerHTML||"")}get items(){return Array.from(this.children).filter(t=>"GS-ITEM"==t.tagName)}get name(){return c.get(this,"name","")}get parentComponent(){return m.parentAll(this).filter(t=>t instanceof GSElement).next()?.value}asJSON(t=!0){return m.toJson(this,t)}static validate(e,s="GS-ITEM"){return m.validate(e,s,t.#eb)}static collect(t){return m.isHTMLElement(t)?Array.from(t.children).filter(t=>"GS-ITEM"==t.tagName):[]}static toJSON(e){return t.collect(e).map(t=>t.asJSON(!0))}static proxify(e,s){return t.collect(e).map(t=>c.proxify(t,s))}static{customElements.define("gs-item",t),Object.seal(t)}};let M=globalThis.GS_LOCALIZATION_LANGUAGE||document.documentElement.lang||navigator.language,D=new class{#ev=new Map;#eC=new Set;#ew=!1;#eS=globalThis.GS_LOCALIZATION_URL;#e$=M;#c;constructor(){this.load()}get default(){return this.#e$}set default(t=""){this.#e$=t||M}get lang(){return this.#c||this.default}set lang(t=""){this.#c=t}get url(){return this.#eS}set url(t=""){this.#eS=t||globalThis.GS_LOCALIZATION_URL}translate(t="",e=""){if(a.isStringEmpty(t))return e;if(!this.#ev.has(t))return this.load(t),e;let s=this.#ex("default"),i=this.#ex(t),r=s.get(l.hashCode(e));return r&&i.get(r)||e}reset(){this.#e$=M,this.#c=void 0,this.load()}load(t="default"){let e=this;!(a.isStringEmpty(t)||a.isStringEmpty(e.url)||e.#ev.has(t))&&(e.#eC.add(t),e.#ew||(e.#ew=!0,queueMicrotask(async()=>{let t=Array.from(e.#eC.values()).map(t=>e.loadWait(t));await A.sequential(t),e.#ew=!1})))}async loadWait(t){if(a.isStringEmpty(t)||a.isStringEmpty(this.url))return;let e=$.normalizeURL(`${this.url}/${t}.json`),s=await $.loadSafe(e,"GET",{"Cache-Control":"no-cache",Pragma:"no-cache"},!0);if(!s&&t.indexOf("-")>0&&(s=await this.loadWait(t.split("-")[0])),!s)return!1;this.#eC.delete(t),this.#ti(t,s)}#ti(t,e){if(!(e&&t))return!1;let s="default"===t,i=this.#ex(t);return Object.entries(e).forEach(t=>{let e=l.hashCode(t[0].trim());i.set(e,s?l.hashCode(t[1]):t[1])}),g.send(window,"gs-language",{details:t}),!0}#ex(t=""){return this.#ev.has(t)||this.#ev.set(t,new Map),this.#ev.get(t)}};var U=class t{static asRect(t){return t.getBoundingClientRect()}static getOffset(e){let s=t.asRect(e),i=window.scrollX,r=window.scrollY,a={left:s.left+i,right:s.right+i,top:s.top+r,bottom:s.bottom+r,height:s.height,width:s.width,x:s.x+i,y:s.y+r};return a.centerX=a.left+a.width/2,a.centerY=a.top+a.height/2,a}static boundingRect(e,s){let i=t.asRect(e),r=t.elementPadding(s?e:null),a=r.x,n=r.y,l=e.clientWidth-a,h=e.clientHeight-n,c=i.left+r.left,d=i.top+r.top;return{width:l,height:h,top:d,left:c,x:c,y:d,centerX:l/2+c,centerY:d+h/2}}static elementPadding(t){let e={left:0,right:0,top:0,bottom:0,x:0,y:0};if(!(t instanceof HTMLElement))return e;let s=d.getComputedStyledMap(t);return e.left=s.asNum("padding-left"),e.right=s.asNum("padding-right"),e.top=s.asNum("padding-top"),e.bottom=s.asNum("padding-bottom"),e.x=e.left+e.right,e.y=e.top+e.bottom,e}static popupFixed(e="top",s,i,a){if(!(s&&i))return!1;let n=t.#eE(e);if(!t.#ek(n))return void r.warn(s,`Invalid popover position: ${e}!`);let l=b.dynamicStyle(s);if(!l)return;Object.assign(l,{position:"fixed",top:"0px",left:"0px",margin:"0px",padding:"0px",transform:"",translate:""});let h=s.clientHeight/2,c=s.clientWidth/2,d=t.boundingRect(i,a instanceof HTMLElement),u=t.#eT(s,a,n),p={x:d.centerX,y:d.centerY,offH:h,offW:c,srcH:s.clientHeight,srcW:s.clientWidth};t.#eA(n,p,d,u),l.translate=`${p.x}px ${p.y}px`}static popupAbsolute(e="top",s,i,a){if(!(s&&i))return!1;let n=t.#eE(e);if(!t.#ek(n))return void r.warn(s,`Invalid popover position: ${e}!`);let l=b.dynamicStyle(s),h=b.dynamicStyle(a);if(!l)return;Object.assign(l,{inset:t.#eL(n),position:"absolute",margin:"0px",top:"0px",left:"0px",width:"max-content",height:"max-content",transform:"",translate:""}),h.position="absolute";let c=t.asRect(s),d=t.asRect(a),u=t.getOffset(i),p={x:u.centerX,y:u.centerY},m={x:c.width/2-d.width/2,y:c.height/2-d.height/2};t.#eN(n,p,m,c,d,u);let g={translate:`${m.x}px ${m.y}px`,top:m.top?m.top:"",left:m.left?m.left:""};Object.assign(l,{translate:`${p.x}px ${p.y}px`}),Object.assign(h,g)}static #eN(t,e,s,i,r,a){t.isTop?(s.y=0,s.left="0px",e.x=e.x-i.width/2,e.y=-1*(i.bottom-a.top+r.height)):t.isBottom?(s.y=0,s.left="0px",e.x=e.x-i.width/2,e.y=a.bottom+r.height):t.isStart?(s.x=0,s.top="0px",e.x=-1*(i.right-a.left+r.width),e.y=e.y-i.height/2):t.isEnd&&(s.x=0,s.top="0px",e.x=a.right+r.width,e.y=e.y-i.height/2)}static #eA(t,e,s,i){t.isTop?(e.y=s.top-e.srcH-i.size,e.x=e.x-e.offW):t.isBottom?(e.y=s.top+s.height+i.size,e.x=e.x-e.offW):t.isStart?(e.x=s.left-e.srcW-i.size,e.y=e.y-e.offH+i.size):t.isEnd&&(e.x=s.left+s.width+i.size,e.y=e.y-e.offH+i.size)}static #eL(t){return t.isTop?"auto auto 0px 0px":t.isBottom?"0px auto auto 0px":t.isStart?"0px 0px auto auto":t.isEnd?"0px auto auto 0px":void 0}static #ek(t){return t.isStart||t.isEnd||t.isTop||t.isBottom}static #eE(t){return{isStart:"start"==t||"left"==t,isEnd:"end"==t||"right"==t,isTop:"top"==t,isBottom:"bottom"==t}}static #eT(e,s,i){if(!s)return{x:0,y:0,size:0,width:0,height:0};let r=0,a=t.boundingRect(e),n=t.boundingRect(s),l=i.isStart||i.isEnd?n.width:n.height,h=a.width/2-l/2,c=a.height/2-l/2;n.size=l;let d={};return d.position="absolute",i.isStart||i.isEnd?(d.left="",d.top="0px",r=0,d.translate=`${r}px ${c/2}px`):(d.top="",d.left="0px",r=0,d.translate=`${h}px ${r}px`),b.applyDynamicStyle(s,d),n}static{Object.seal(t),globalThis.GSPopper=t}},O=class t{#a=null;constructor(t){if(!m.isHTMLElement(t))throw Error("Only HTMLElement type allowed!");this.#a=new d(t)}#eI(t){return n.hasFunction(this.#a,t)}get(t,e,s){return(i,r)=>a.isNull(i)?this.#a.get(e):this.#eI(e)?this.#a[e](i,r):(t[e]=i,s)}static wrap(e){return new Proxy(e.style,new t(e))}},F=class t{#eR=null;constructor(t){Array.isArray(t)||(this.#eR=O.wrap(t))}get(e,s){return"css"===s?this.#eR:"query"===s?(s,i,r)=>{let a=m.query(e,s,i,r);return t.wrap(a)}:"queryAll"===s?(s,i,r)=>{let a=m.queryAll(e,s,i,r);return t.wrap(a)}:e[s]}set(t,e,s){return"css"===e?Array.isArray(t)?t.forEach(t=>t[e]=s):m.css(t,s):t[e]=s,!0}static instance(e){return new Proxy(e,new t(e))}static wrap(e){return m.isHTMLElement(e)?t.instance(e):Array.isArray(e)?(e=e.map(e=>t.wrap(e)),t.instance(e)):e}static all(e,s,i,r){return t.wrap(m.queryAll(e,s,i,r))}static first(e,s,i,r){return t.wrap(m.query(e,s,i,r))}static{Object.freeze(t),globalThis.GSQuery=t}},B=class t{#eM=!0;#eD=!1;#eU=null;#eO={};constructor(){this.#eU=this.#eF.bind(this)}async loadDefinition(t){return $.getRouter(t)}async initialize(t,e=0){a.isStringNonEmpty(t)&&(this.#eO=await this.loadDefinition(t)),e>0&&await g.waitPageLoad(null,null,null,e),this.enable(),this.#eF()}enable(){this.#eD||(g.on(globalThis,null,"hashchange",this.#eU),this.#eD=!0)}disable(){g.off(globalThis,null,"hashchange",this.#eU),this.#eD=!1}register(t,e){this.#eO[t]=e}unregister(t){delete this.#eO[t]}get hash(){return location.hash.slice(1)}get definition(){return p.deepClone(this.#eO)}get log(){return this.#eM}set log(t){this.#eM=a.asBool(t)}#eF(){let t=this.#eO["#def"]||{},e=this.#eO["#defaults"]||{},s=this.#eO[this.hash];if(s){let i=m.fromJson(Object.assign({},s,t,e));i.dataset.gsHashed=!0;let r=E.proxify(i);E.process(r)}else this.#eM&&r.warn(null,`No routing definition found for: ${this.hash}`)}static{globalThis.GS_DEFINITION_URL&&new t().initialize(globalThis.GS_DEFINITION_URL,globalThis.GS_ROUTER_WAIT)}},H=class t{static #eB="gs-theme-mode";static darkMode(e){t.#eH(e,"light","dark")}static lightMode(e){t.#eH(e,"dark","light")}static #eH(e,s="light",i="dark"){e||document.body,t.theme=i}static get theme(){return localStorage.getItem(t.#eB)}static set theme(e){localStorage.setItem(t.#eB,e),window.dispatchEvent(new CustomEvent("gs-theme",{detail:e}));let s=document.head.parentElement;e?s.dataset.bsTheme=e:delete s.dataset.bsTheme}static getSystemDefaultTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}static #eP(e){t.theme=new URLSearchParams(location.hash.slice(1)).get("theme")}static #ez(){window.addEventListener("hashchange",t.#eP);let e=localStorage.getItem(t.#eB);return(null==e&&(e=t.getSystemDefaultTheme()),"dark"==e)?t.darkMode():"light"==e?t.lightMode():void 0}static{t.#ez(),globalThis.GSTheme=t}},P=class{constructor(t,e=t,s=null){this.key=t,this.value=e,this.parent=s,this.left=null,this.right=null}get isLeaf(){return null===this.left&&null===this.right}get hasChildren(){return!this.isLeaf}get isRoot(){return!this.parent}get root(){return this.parent?.root||this}},z=class extends P{constructor(t,e=t){super(t,e)}*inOrderTraversal(t=this){t.left&&(yield*this.inOrderTraversal(t.left)),yield t,t.right&&(yield*this.inOrderTraversal(t.right))}*postOrderTraversal(t=this){t.left&&(yield*this.postOrderTraversal(t.left)),t.right&&(yield*this.postOrderTraversal(t.right)),yield t}*preOrderTraversal(t=this){yield t,t.left&&(yield*this.preOrderTraversal(t.left)),t.right&&(yield*this.preOrderTraversal(t.right))}insert(t,e,s=e,{left:i,right:r}={left:!0,right:!0}){for(let a of this.preOrderTraversal())if(a.key===t){let t=i&&null===a.left,n=r&&null===a.right;if(!t&&!n)return!1;if(t)return a.left=new P(e,s,a),!0;if(n)return a.right=new P(e,s,a),!0}return!1}remove(t){for(let e of this.preOrderTraversal()){if(e.left.key===t)return e.left=null,!0;if(e.right.key===t)return e.right=null,!0}return!1}find(t){for(let e of this.preOrderTraversal())if(e.key===t)return e}},G=class{value=null;next=null;previous=null;constructor(t,e=null,s=null){this.value=t,this.next=e,this.previous=s}release(){this.value=void 0,this.next=void 0,this.previous=void 0}toJSON(){return this.value}},q=class t{#eG=[];get size(){return this.#eG.length}get head(){return this.size?this.#eG[0]:null}get tail(){return this.size?this.#eG[this.size-1]:null}create(t,e,s){return new G(t,e,s)}insertAt(t,e,s){if(!this.#eq(t,s))return!1;let i=this.#eG[t-1]||null,r=this.#eG[t]||null,a=this.create(e,r,i);i&&(i.next=a),r&&(r.previous=a),this.#eG.splice(t,0,a)}insertFirst(t){this.insertAt(0,t)}insertLast(t){this.insertAt(this.size,t)}getAt(t){return this.#eG[t]}indexOf(t){return this.#eG.indexOf(t)}removeAt(t,e){if(!this.#eq(t,e))return!1;let s=this.#eG[t-1]||null,i=this.#eG[t+1]||null;return s&&(s.next=i),i&&(i.previous=s),this.#eG.splice(t,1)}clear(t=!0){t&&this.#eG.forEach(t=>t.release()),this.#eG=[]}reverse(){this.#eG=this.#eG.reduce((t,{value:e})=>{let s=t[0]||null,i=new G(e,s,null);return s&&(s.previous=i),[i,...t]},[])}toArray(){return this.#eG.map(t=>t.value)}toJSON(){return this.#eG}*[Symbol.iterator](){yield*this.#eG}#eq(t,e=!1){let s=this.#ej(t);if(s)if(e)console.log(this.#eV());else throw Error(this.#eV());return!s}#ej(t){return!Number.isInteger(t)||t<0||t>this.size}#eV(){return`Invalid index. Current length is ${this.size}.`}static from(e){let s=new t;return Array.isArray(e)&&e.forEach(t=>s.insertLast(t)),s}},j=class t{#e_=null;#eW=null;#eY=null;constructor(t){this.#e_=t}[Symbol.for("gs-next")](t){this.#eW=t}[Symbol.for("gs-prev")](t){this.#eY=t}remove(){return this.#eY?.[Symbol.for("gs-next")](this.#eW),this.#eW?.[Symbol.for("gs-prev")](this.#eY),this.#eJ()}delete(){return this.remove()}append(e){return(e=t.wrap(e)).#eW=this.#eW,e.#eY=this,this.#eW=e,e}add(t){return this.append(t)}insert(e){return(e=t.wrap(e)).#eY=this.#eY,e.#eW=this,this.#eY=e,e}update(t){return this.#e_=t,this}find(t){return this.iterator.find(t)}filter(t){return this.iterator.filter(t)}map(t){return this.iterator.map(t)}forEach(t){for(let e of this.iterator)t(e,-1,this)}every(t){let e;for(let s of this.iterator)if(e=t(s,-1,this))break;return e}toArray(t=!0){return t?this.asValues:this.asNodes}toJSON(){return this.value}#eJ(){return this.#e_=void 0,this.#eW=void 0,this.#eY=void 0,this}get head(){return this.previous?.head||this}get tail(){return this.next?.tail||this}get next(){return this.#eW}get previous(){return this.#eY}get value(){return this.#e_}set value(t){this.#e_=t}get asValues(){return[...this].map(t=>t.value)}get asNodes(){return[...this]}get iterator(){return this[Symbol.iterator]()}*[Symbol.iterator](){yield this,this.#eW&&(yield*this.#eW.iterator)}static wrap(e){return e instanceof t?e:new t(e)}},V=class extends Array{push(t){this.unshift(t)}pop(){return this.shift()}peek(){return this[0]}isEmpty(){return 0===this.length}},_=class extends Array{enqueue(t){this.push(t)}dequeue(){return this.shift()}peek(){return this[0]}isEmpty(){return 0===this.length}},W=class t{value;#eK=null;#eX=null;#eZ;#eQ=!1;#e0=0;constructor(t,e=t,s=null,i=0){this.#eK=t,this.#eX=s,this.#eQ=e?.leaf===!1,this.#e0=s?s.level+1:i,this.#eZ=this.#eQ?[]:void 0,this.value=e}get subtree(){return Array.from(this.up(void 0,!1,!0,!0))}get levelID(){return this.subtree.map(t=>t.level).join(".")}get nodeID(){return this.subtree.map(t=>t.index).join(".")}get path(){return this.subtree.map(t=>t.key).join("/")}get index(){return this.parent?.nodes.indexOf(this)||0}get size(){return this.#eZ?.length||-1}get level(){return this.#e0}get isRoot(){return!this.parent}get isLeaf(){return!this.#eQ}get isFolder(){return this.#eQ}get hasChildren(){return this.#eQ&&this.size>0}get key(){return this.#eK??=this.nodeID,this.#eK}get nodes(){return this.#eZ}get parent(){return this.#eX}get root(){return this.parent?.root||this}get hasMore(){return this.#eX?.size>this.index+1}get firstChild(){return this.hasMore?this.#eZ[0]:void 0}get lastChild(){return this.hasMore?this.#eZ[this.#eZ.length-1]:void 0}get next(){return this.down(this,!1,!1).next().value||this.nextSibling||this.parent?.nextSibling}get previous(){let t=this.previousSibling;return t?.hasChildren?t.lastChild:t||this.up(this,!1,!1).next().value}get nextSibling(){return this.hasMore?this.#eX.#eZ[this.index+1]:void 0}get previousSibling(){return this.index>0?this.#eX.#eZ[this.index-1]:void 0}clear(){this.#eZ&&(this.#eZ.forEach(t=>t.release?.()),this.#eZ=[])}release(){this.clear(),this.#eK=null,this.value=null,this.#eX=null}*down(t=this,e=!1,s=!0,i=!1,r=!1){let a=e?t.value:t;if(s&&!i&&t.level>-1&&(yield a),t.#eZ?.length)for(let s of t.#eZ)yield*this.down(s,e,!0,i,r);if(r){let s=t.nextSibling||t.parent.nextSibling;s&&(yield*this.down(s,e,!0,i,r))}s&&i&&t.level>-1&&(yield a)}*up(t=this,e=!1,s=!0,i=!1,r=!1){let a=e?t.value:t;if(s&&!i&&t.level>-1&&(yield a),r){let s=t.previousSibling;(s=s?.isFolder?s.lastChild:s)&&(yield*this.up(s,e,!0,i,r))}t.parent&&(yield*this.up(t.parent,e,!0,i,r)),s&&i&&t.level>-1&&(yield a)}walk=this.down;forEach(t,e=!1,s=!1){this.every((e,s)=>(t(e,s),!0),e,s)}every(t,e=!1,s=!1){let i=this.iterate(e,s),r=!0,a=0;for(let e of i)if(!(r=t(e,a++)))break;return r}find(t,e=!1,s=!1){let i=this.iterate(e,s),r=0;for(let e of i)if(t(e,r++))return e}filter(t,e,s){return[...this.#e1(t,e,s)]}*#e1(t,e,s){for(let i of this.iterate(e,s))t(i)&&(yield i)}*iterate(t,e){e?yield*this.up(this,!1,!1,!1,t):yield*this.down(this,!1,!1,!1,t)}append(e,s=e){let i;return e instanceof t?(e.#eX=this,e.#e0=this.#e0+1,i=e):i=new t(e,s,this),this.#eQ=!0,this.#eZ??=[],this.#eZ.push(i),i}insert(e,s,i=s){for(let r of this.walk())if(r.key===e){let e=new t(s,i,r);return this.#eQ=!0,this.#eZ??=[],r.#eZ.push(e),e}return!1}remove(t){let e=this;if(t){let s=e.findByKey(t);return s?.remove(),s}if(e.isRoot)throw Error("Root node can't be removed!");let s=e.parent,i=s.#eZ.filter(t=>t!==e);return i.length!==s.#eZ.length&&(s.#eZ=i,e)}findByKey(t){for(let e of this.walk())if(e.key===t)return e}flatten(t,e,s){return[...this.down(this,t,e,s)]}fromJSON(e){return e&&t.from(this,e),this}toJSON(){return this.level<0?this.#eZ?.map(t=>t.toJSON())||{}:this.isLeaf?{key:this.key,value:this.value}:{key:this.key,value:this.value,items:this.#eZ.map(t=>t.toJSON())}}*[Symbol.iterator](){yield*this.down()}static from(e,s){let i=s||e,r=e instanceof t;if(Array.isArray(i)){if(!r)throw Error("Parent required when data is array");return i.forEach(s=>t.from(e,s)),e}let{items:a,...n}=i,l=new t(n.key,n,s?e:void 0);return r&&e.append(l),a&&t.from(l,a),l}},Y=class t{static #e2=Symbol("select");static addSelected(e){return!!e&&(Array.isArray(e)?e[t.#e2]=!0:a.asArray(e).forEach(e=>e[t.#e2]=!0),e)}static removeSelected(e){return!!e&&(delete e[t.#e2],e)}static clearSelected(t){let e=this;a.asArray(t).forEach(t=>e.removeSelected(t))}static getSelected(t=[]){let e=this;return e.isSelected(t)||a.asArray(t).filter(t=>e.isSelected(t))}static isSelected(e){return!!e&&!0===e[t.#e2]}};(class t extends L{static #e5=null;static #e3=Symbol();#e4=new Map;#a=new Map;constructor(e){if(e!=t.#e3)throw Error("Creating new instance not allowed.");super()}addHandler(t,e){this.#e4.set(t,e)}removeHandler(t){this.#e4.delete(t)}getHandler(t){return this.#e4.get(t)}newHandler(t,e,s){let i=this.getHandler(t);return i?new i(e,s):void 0}register(t){this.#e9(t);let e=this.find(t.id);if(e!=t){if(e)throw Error(`Key (${t.id}) already exist in read/write registry!`);this.#a.set(t.id,t),this.emit(`register-${t.id}`,t),this.emit("register",t)}}unregister(t){a.isString(t)&&(t=this.find(t)),this.#e9(t);let e=this.#a.delete(t.id);return e&&(this.emit(`unregister-${t.id}`,t),this.emit("unregister",t)),e}find(t){return this.#a.get(t)}async wait(t="",e,s=!0){if(!t)throw Error("GSReadWrite ID not valid.");if(s){let e=this.find(t);if(e)return e}return await super.wait(`${s?"register":"unregister"}-${t}`,e),this.find(t)}resetRegistry(){this.#e4.clear(),this.#a.clear()}#e9(t){}static get #e6(){return t.#e5||(t.#e5=new t(t.#e3)),t.#e5}static{Object.seal(t),globalThis.GSReadWriteRegistry=t.#e6}});let J=globalThis.GSReadWriteRegistry;var K=class extends L{static #e2=Symbol("select");#i=null;#e7=null;constructor(t,e=!0){super(),this.#i=t||l.next(),e&&this.enable()}addProcessor(t){t&&(this.#e7??=new Set,this.#e7.add(t))}removeProcessor(t){t&&this.#e7?.delete(t)}get id(){return this.#i}enable(){J.register(this),this.emit("enabled")}disable(){J.unregister(this),this.emit("disabled")}get isRegistered(){return!!J.find(this.id)}notify(t,e,s,i){this.emit(i?"error":e,{type:e,error:i,owner:t,data:s},!0)}async read(t){let e=null;try{e=await this.onRead(t),this.#e7?.forEach(t=>t.postRead?.(e)),e&&this.notify(t,"read",e)}catch(s){throw this.notify(t,"read",e,s),s}return e}async write(t,e){let s=null;try{s=await this.onWrite(t,e),this.#e7?.forEach(t=>t.postWrite?.(e)),s&&this.notify(t,"write",e)}catch(s){throw this.notify(t,"write",e,s),s}return s}async onRead(t){throw Error("Extend base GSAbstractReadWrite to implement read operation")}addSelected(t){return!!t&&(Y.addSelected(t),this.emit("selection-add",t),this.emit("select"),t)}removeSelected(t){return!!t&&(Y.removeSelected(t),this.emit("selection-remove",t),this.emit("select"),t)}clearSelected(t){Y.clearSelected(t),this.emit("selection-clear"),this.emit("select")}getSelected(t=[]){return Y.getSelected(t)}isSelected(t){return Y.isSelected(t)}get selected(){return[]}async onWrite(t,e){throw Error("Extend base GSAbstractReadWrite to implement write operation")}reset(){this.#e7=null}},X=class t extends K{static #e8="remote";static #st=["","rest","query","quark"];static #se=["GET","PUT","POST","DELETE"];#ss="";#si={};#sr="GET";#sa="POST";#sn="";#so="";#eK=null;#sl=0;#sh=0;#sc=[];#sd=[];constructor(t,e){super(t,e)}get type(){return t.#e8}get mode(){return a.normalize(this.#so)}set mode(e){if(e=a.normalize(e),!t.#st.includes(e))throw Error(null,`Invalid mode, allowed: ${t.#st}`);return"quark"===this.#so&&this.#so!=e&&(this.#sr="GET",this.#sa="POST"),this.#so=e}get reader(){return this.#sr}set reader(e){if(!(this.isQuark||t.#se.includes(e)))throw Error(null,`Invalid method, allowed: ${t.#se}`);return this.#sr=e}get writer(){return this.#sa}set writer(e){if(!(this.isQuark||t.#se.includes(e)))throw Error(null,`Invalid method, allowed: ${t.#se}`);return this.#sa=e}get headers(){return{...this.#si}}set headers(t={}){t=a.toJson(t),this.#si={...t}}get key(){return this.#eK}set key(t){this.#eK=t}get src(){return this.#ss}set src(t=""){this.#ss=t}get limit(){return this.#sh}set limit(t=10){this.#sh=a.asNum(t,10)}get skip(){return this.#sl}set skip(t=0){this.#sl=a.asNum(t,0)}get filter(){return this.#sd}set filter(t){t=t||[],t=a.isJson(t)?a.toJson(t):t,this.#sd=Array.isArray(t)?t:[t]}get sort(){return this.#sc}set sort(t){t=t||[],t=a.isJson(t)?a.toJson(t):t,this.#sc=Array.isArray(t)?t:[t]}get action(){let t="";switch(this.mode){case"query":t="?limit=${limit}&skip=${skip}&sort=${sort}&filter=${filter}";break;case"rest":t="/${limit}/${skip}?sort=${sort}&filter=${filter}"}return this.#sn||t}set action(t=""){this.#sn=t}get url(){return this.#su(this.#ss,this.#sl,this.#sh,this.#sd,this.#sc)}#su(t,e,s,i,r){if(a.isStringEmpty(t))throw Error('Attribute "src" not set!');r=r?JSON.stringify(r):"",i=i?JSON.stringify(i):"";let n={limit:s,skip:e,sort:encodeURIComponent(r),filter:encodeURIComponent(i)};return t+a.fromLiteral(this.action,n)}get isOffline(){return""===this.mode}get isQuark(){return"quark"===this.mode}get isRemote(){return["rest","query"].includes(this.mode)}async onRead(t){if(this.isOffline)return;if(!this.#sr)return super.onRead(t);if(this.isRemote)return await $.load(this.url,this.#sr,this.#si,!0);if(!this.isQuark)return;let e=n.parseFunction(this.#sr);if(!e)throw Error("Reader quark function not found!");return e(this.skip,this.limit,this.filter,this.sort)}async onWrite(t,e){if(this.isOffline)return;if(!this.#sa)return super.onWrite(t);if(!this.isRemote)return await $.load(this.url,this.#sa,this.#si,!0,e);if(!this.isQuark)return;let s=n.parseFunction(this.#sa);if(!s)throw Error("Writer quark function not found!");return s(e)}reset(){this.#ss="",this.#si={},this.#sr="GET",this.#sa="POST",this.#sn="",this.#so="",this.#eK=null,this.#sl=0,this.#sh=0,this.#sc=[],this.#sd=[]}static register(e){return new t(e,!0)}static{J.addHandler(t.#e8,t)}},Z=class t extends X{static #e8="cached";#sp=[];#sm(t=[]){return Array.isArray(t)?t:Array.isArray(t.data)?t.data:[t]}#sg(t){t=p.sortData(t,this.sort);let e=0===this.limit?t.length:this.limit;return t=t.slice(this.skip,this.skip+e)}clear(){this.clearSelected(this.#sp),this.#sp=[]}append(t){return!!t&&(t=this.#sm(t),this.#sp=this.#sp.concat(t),this.#sp)}remove(t){return this.removeSelected(t),this.#sp=this.#sp.filter(e=>!t),this.#sp}async onRead(t){if(0===this.#sp.length){let t=await super.onRead();this.#sp=this.#sm(t)}let e=p.filterData(this.#sp,this.filter,this.fields,this.limit);return this.#sg(e)}async onWrite(t,e){return this.append(e)}disable(){this.#sp=[],super.disable()}set search(t){this.filter=t?[{value:t}]:[],this.read()}clearSelected(){return super.clearSelected(this.#sp)}get selected(){return super.getSelected(this.#sp)}get type(){return t.#e8}reset(){this.clear(),super.reset()}static register(e){return new t(e,!0)}static{J.addHandler(t.#e8,t)}},Q=class t extends W{#sf=!1;#sy=!1;#sb=!1;#sv=!1;#sC=void 0;#sw=void 0;#sS=void 0;constructor(t,e=t,s=null,i=0){super(t,e,s,i),(e?.select===!0||this.multi&&s?.selected)&&(this.selected=!0),e?.focus===!0&&(this.focused=!0),e?.open===!0&&(this.opened=!0)}addController(t){let e=this.root;(e.#sS??=new Set).add(t)}removeController(t){this.root.#sS?.delete(t)}get multi(){return!0===this.root.#sf}set multi(t){this.root.#sf=!0===t}get visible(){return this.level<0||this.parent?.opened}get opened(){return this.level<0||(this.isLeaf?this.parent?.opened:this.#sy)}set opened(t){(t=!0===t)?this.expand():this.collapse()}get focused(){return this.#sb}set focused(t){t=!0===t;let e=this.root,s=this.#sb!=t,i=e.focusedNode();e.#sC=void 0,this.#sb=t,i&&i!==this&&(i.focused=!1),t&&(e.#sC=this),s&&e.#sS?.forEach(t=>t.onFocusChanged?.(this))}get selected(){return this.#sv}set selected(t){t=!0===t;let e=this.root,s=e.selectedNode(),i=this.#sv!=t;this.#sv=t,t&&(s&&s!==this&&!e.multi&&(s.selected=!1),e.#sw=this),i&&(e.#sS?.forEach(t=>t.onSelectionChanged?.(this,s)),e.multi&&e.#sS?.forEach(t=>t.onSelectionChanged?.(this.parent,s)))}get isPartialySelected(){return this.selected&&this.hasChildren&&this.nodes.length>this.nodes.filter(t=>t.selected).length}selectAll(){let t=this.root;if(!t.multi){this.deselectAll(),this.selected=!0;return}this.#s$(!0),t.#sw=this,t.#sS?.forEach(e=>e.onSelectAll?.(t))}deselectAll(){let t=this.root;this.#s$(!1),t.#sw=void 0,t.#sS?.forEach(e=>e.onDeselectAll?.(t))}focusedNode(){let t=this.root.#sC;return t?.focused?t:void 0}selectedNode(){let t=this.root.#sw;return t?.selected?t:void 0}selectedNodes(){let t=this.root;if(!t.multi){let e=t.selectedNode();return e?.selected?[e]:[]}return Array.from(t.walk().filter(t=>t.selected))}refresh(t){t=t||this.root,t.#sS?.forEach(t=>t.onRefresh?.(this))}loading(t){t=t||this.root,t.#sS?.forEach(t=>t.onLoad?.(this))}expandAll(t){for(let e of(t=t||this.root,this.walk()))e.isLeaf||e.expand(t)}collapseAll(t){for(let e of(t=t||this.root,this.walk()))e.isLeaf||e.collapse(t)}expand(t){t=t||this.root,this.parent?.opened||this.parent?.expand(t);let e=!this.opened;this.#sy=!0,e&&this.#sx(t),this.nodes?.forEach(e=>e.refresh(t))}collapse(t){t=t||this.root;let e=this.#sy||this.parent.#sy;this.nodes?.filter(t=>t.opened||t.parent.opened).forEach(e=>e.collapse(t)),this.#sy=!1,e&&this.#sE(t)}select(t=!0){this.selected=!0===t}#sx(t){t.#sS?.forEach(t=>t.onExpand?.(this))}#sE(t){t.#sS?.forEach(t=>t.onCollapse?.(this))}release(){this.#sv&&(this.selected=!1),super.release()}append(t,e=t){let s=this,i=super.append(t,e);return i&&s.root.#sS?.forEach(t=>t.onAppend?.(s,i)),i}insert(t,e,s=e){let i=this,r=super.insert(t,e,s);return r&&i.root.#sS?.forEach(t=>t.onInsert?.(i,r)),r}remove(){let t=super.remove();return t&&this.root.#sS?.forEach(e=>e.onInsert?.(t)),t}#s$(t=!1){for(let e of(t=!0===t,this.walk()))e.selected=t}fromJSON(e){return e&&t.from(this,e),this}toJSON(){if(this.level<0)return this.nodes?.map(t=>t.toJSON())||{};let t=Object.assign({key:this.key,opened:this.#sy,focused:this.#sb,selected:this.#sv,items:void 0},this.value);return t.items=this.nodes?.map(t=>t.toJSON()),t}reset(){this.#sf=!1,this.#sy=!1,this.#sb=!1,this.#sv=!1,this.#sC=void 0,this.#sw=void 0,this.#sS=void 0}static get root(){return new t(null,null,null,-1)}static from(e,s){let i=s||e,r=e instanceof t;if(Array.isArray(i))return r?(i.forEach(s=>t.from(e,s)),e):t.from(t.root,i);let{items:a,...n}=i;n.leaf=!Array.isArray(a);let l=new t(n.key,n,s?e:void 0);return a&&t.from(l,a),r&&e.append(l),l}},tt=class t extends X{#sp=Q.root;constructor(t,e){super(t,e)}async write(t){throw Error("Writer not available for TreeReader")}async read(t){let e,s=await super.read(t);if(this.#sp){let t=this.filter?.length>0?this.#sp.findByKey(this.filter[0]):this.#sp;t.clear(),e=t.fromJSON(s)}else e=Q.from(s),this.#sp=e;return this.filter=void 0,this.notify(t,"read",e),e}disable(){super.disable(),this.#sp?.release()}notify(t,e,s,i){let r=s instanceof Q;(i||r||"read"!==e)&&super.notify(t,e,s,i)}async onExpand(t){if(!t.hasChildren)return t.loading(),this.filter=t.key,await this.read()}get data(){return this.#sp}resetData(){this.#sp=Q.root}static register(e){return new t(e,!0)}static{J.addHandler("tree",t)}};let te=globalThis.GS_LIT_URL||"/bootstrap-lit/assets/lib/lit-all.min.js",ts=await import(te);ts.ReactiveController,ts.ReactiveElement,ts.AsyncDirective,ts.AsyncReplaceDirective,ts.CSSResult;let ti=ts.Directive,tr=ts.LitElement,ta=ts.PartType;ts.TemplateResultType,ts.UnsafeHTMLDirective,ts.UntilDirective,ts._$LE,ts._$LH,ts.adoptStyles,ts.asyncAppend,ts.asyncReplace,ts.cache,ts.choose;let tn=ts.classMap;ts.clearPart;let to=ts.createRef,tl=ts.css;ts.defaultConverter;let th=ts.directive;ts.getCommittedValue,ts.getCompatibleStyle,ts.getDirectiveClass,ts.guard;let tc=ts.html,td=ts.ifDefined;ts.insertPart,ts.isCompiledTemplateResult,ts.isDirectiveResult,ts.isPrimitive,ts.isServer,ts.isSingleExpression,ts.isTemplateResult,ts.join,ts.keyed,ts.literal,ts.live;let tu=ts.map,tp=ts.noChange;ts.notEqual;let tm=ts.nothing,tg=ts.range,tf=ts.ref;ts.removePart;let ty=ts.render,tb=ts.repeat;ts.setChildPartValue,ts.setCommittedValue,ts.staticHtml,ts.staticSvg,ts.styleMap,ts.supportsAdoptingStyleSheets;let tv=ts.svg,tC=ts.templateContent;ts.unsafeCSS;let tw=ts.unsafeHTML;ts.unsafeSVG,ts.unsafeStatic,ts.until,ts.when,ts.withStatic;let tS={action:"gsAction",anchor:"gsAnchor",attribute:"gsAttribute",call:"gsCall",exec:"gsExec",inject:"gsInject",property:"gsProperty",swap:"gsSwap",target:"gsTarget",template:"gsTemplate",toggle:"gsToggle",trigger:"gsTrigger",value:"gsValue",calls:"gsCall",toggles:"gsToggle",timeout:"gsTimeout",triggers:"gsTrigger"},t$={gsAction:void 0,gsAnchor:void 0,gsAttribute:void 0,gsCall:void 0,gsExec:void 0,gsInject:void 0,gsProperty:void 0,gsSwap:void 0,gsTarget:void 0,gsTemplate:void 0,gsToggle:void 0,gsTrigger:void 0,gsValue:void 0,gsCall:void 0,gsToggle:void 0,gsTimeout:void 0,gsTrigger:void 0},tx=th(class extends ti{render(t){return console.log(t),tm}update(t,[e,s=!0]){if(!e)return tm;let i=t.element.dataset,r=e.dataset||e;return r instanceof DOMStringMap&&Object.assign(i,r),s&&this.#sk(i,e),tm}#sk(t,e){let s=Object.assign({},t$),i=Object.entries(e).filter(t=>Object.hasOwn(tS,t[0]));i.length>0&&(i.forEach(t=>s[tS[t[0]]]=t[1]),Object.keys(s).filter(t=>void 0!==s[t]).forEach(e=>t[e]=s[e]))}});function tE(t){return Object.entries(Object.getOwnPropertyDescriptors(t))}function tk(t,e){var s;let i=Array.from(new Set([...tE(Reflect.getPrototypeOf(s=e)).filter(t=>"function"==typeof t[1].get&&"__proto__"!==t[0]).map(t=>t[0]),...tE(s).filter(t=>"function"!=typeof t[1].value).map(t=>t[0])])),r=i.map(t=>e[t]);return i.push("html"),r.push(tc),Function(...i,`return html\`${t}\`;`)(...r)}let tT=th(class extends ti{constructor(t){if(super(t),t.type!==ta.ATTRIBUTE||"css"!==t.name||t.strings?.length>2)throw Error("`classMap()` can only be used in the `css` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){if(void 0===this._previousClasses){for(let s in this._previousClasses=new Set,void 0!==t.strings&&(this._staticClasses=new Set(t.strings.join(" ").split(/\s/).filter(t=>""!==t))),e)e[s]&&!this._staticClasses?.has(s)&&this._previousClasses.add(s);return this.render(e)}let s=t.element.classList;for(let t of this._previousClasses)t in e||(s.remove(t),this._previousClasses.delete(t));for(let t in e){let i=!!e[t];i===this._previousClasses.has(t)||this._staticClasses?.has(t)||(i?(s.add(t),this._previousClasses.add(t)):(s.remove(t),this._previousClasses.delete(t)))}return tp}}),tA=(t,e)=>t!==e&&t,tL=(t,e)=>t!==e&&Number(t)>0,tN=(t,e)=>t!==e&&Number(t)>=0,tI=(t,e)=>t!==e&&0>Number(t),tR=(t,e)=>t!==e&&0>=Number(t),tM=["","none","off","on","sentences","words","characters"],tD={hasChanged:(t,e)=>t!==e&&tM.includes(t)},tU=["","off","on"],tO={hasChanged:(t,e)=>t!==e&&tU.includes(t)},tF=["","on","off"],tB={hasChanged:(t,e)=>t!==e&&tF.includes(t)};var tH=class t{static values=["button","reset","submit"];static is(e){return t.values.includes(e)}static isReset(e){return t.isType(e,"reset")}static isSubmit(e){return t.isType(e,"submit")}static isType(e,s){return t.#o(e)===s}static #o(t){return a.normalize(t,"submit").toLowerCase()}};let tP={hasChanged:(t,e)=>t!==e&&tH.is(t)},tz=["","primary","secondary","dark","light","info","warning","danger","alert","link","success"],tG={hasChanged:(t,e)=>t!==e&&tz.includes(t)},tq=["","desktop","mobile","tablet","android","linux","windows","macos","ios"],tj={hasChanged:(t,e)=>t!==e&&tq.includes(t)},tV=[{type:"checkbox",ignore:!0},{type:"radio",ignore:!0},{type:"switch",ignore:!0},{type:"range",ignore:!0},{type:"number",native:!0},{type:"email",native:!0},{type:"url",native:!0},{type:"file",native:!0},{type:"text"},{type:"password"}],t_={hasChanged:(t,e)=>t!==e&&1===tV.filter(e=>e.type===t).length},tW=["","pills","tabs","underline"],tY={hasChanged:(t,e)=>t!==e&&tW.includes(t)};var tJ=class t{static values=["","horizontal","vertical","portrait","landscape"];static includes(e){return t.values.includes(e)}static isVertical(e){let s=t.values.indexOf(e);return 2===s||3===s}static isHorizontal(e){let s=t.values.indexOf(e);return 1===s||4===s}};let tK={hasChanged:(t,e)=>t!==e&&tJ.includes(t)};var tX=class t{static values=["center","left","right","start","end","top","bottom"];static includes(e){return t.values.includes(e)}static isVertical(e){return t.values.indexOf(e)>4}static isHorizontal(e){let s=t.values.indexOf(e);return s>0&&s<5}static isCenter(e){return 0===t.values.indexOf(e)}static isBefore(t){return["left","start","top"].includes(t)}static isAfter(t){return["right","end","bottom"].includes(t)}};let tZ={hasChanged:(t,e)=>t!==e&&tX.includes(t)};var tQ=class t{static values=["absolute","fixed","relative","sticky","static"];static includes(e){return t.values.includes(e)}};let t0={hasChanged:(t,e)=>t!==e&&tQ.includes(t)},t1=["","http","https"],t2={hasChanged:(t,e)=>t!==e&&t1.includes(t)},t5={default:"",normal:"",medium:"",small:"sm",large:"lg",big:"lg",extra:"xl"},t3={hasChanged:(t,e)=>t!==e&&Object.hasOwn(t5,t)},t4={fromAttribute:(t,e)=>(t||"").split(","),toAttribute:(t,e)=>(t||[]).join(",")};var t9=class t{#tR;#sT;constructor(t){this.#tR=t,t.addController(this)}hostConnected(){t.#sS.add(this),this.#th()}hostDisconnected(){t.#sS.delete(this),this.#tR.removeController(this),this.#tR=null,this.#sT=null}style(t,e,s=!1){let i=null;return(s?i=v.dynamic:(this.#sT=this.#sT??new b("dynamic"),i=this.#sT),null===e&&i.rules.length>0)?i.removeRule(t):i.setRule(t,e,!0)}#th(t=!1){if(this.#sA&&(t||this.#sL)){let t=[...document.adoptedStyleSheets],e=Array.from(this.#sA);this.#sT&&e.push(this.#sT),this.#sN.adoptedStyleSheets=[...t,...e]}}get #sL(){return document.adoptedStyleSheets.id!==this.#sA?.id}get #sN(){return this.#tR?.renderRoot}get #sA(){return this.#sN?.adoptedStyleSheets}static #sS=new Set;static #sI(e){requestAnimationFrame(()=>{t.#sS.forEach(t=>t.#th())})}static #to(){g.on(window,null,"gs-adopted",t.#sI)}static{this.#to()}},t6=class extends E{constructor(t){super(t),t.addController(this)}hostConnected(){this.attach(this.#sR)}hostDisconnected(){this.host.removeController(this),this.detach(this.#sR)}onNotify(t){this.handle(t)}get #sR(){let t=this.host?.tagName.toLowerCase(),e=this.host?.clazzName,s=m.isFormElement(this.host),i=["gs-form","gs form-group"].includes(t),r=["GSFormGroupElement"].includes(e);return i||r||s?"change":"click"}},t7=class{#tR;#sM;#sD=new Set;constructor(t){this.#tR=t,t.addController(this)}hostDisconnected(){this.#tR.removeController(this),this.#sU(),this.#tR=null,this.#sD=null,this.#sM=null}hostUpdated(){!this.#sO()&&this.#sF&&this.#sD.add(this.#sF)}get contentRef(){return this.#sM}get #sB(){return this.#tR?.renderOptions}get #sF(){return this.#sB?.renderBefore?.previousElementSibling}#sO(){let t=this.#sF,e=this.#tR?.renderRoot;return t===this.#tR?.shadowRoot||t==e}#sU(){this.#tR?.keep||Array.from(this.#sD).filter(t=>!!t).forEach(t=>m.cleanup(t)),this.#sD?.clear()}},t8=class{#tR;#sH;#sP;#sz;#sG;constructor(t){this.#tR=t,this.#sH=this.#sq.bind(this),this.#sP=this.#sj.bind(this),this.#sz=this.#sV.bind(this),this.#sG=this.#s_.bind(this),this.#tR.addController(this)}hostConnected(){this.#sW(!1)}hostDisconnected(){this.#sY(),this.#tR.removeController(this)}async read(t){return this.store?.read(this.#tR)}async write(t){return this.store?.write(this.#tR,t)}async storage(){return J.wait(this.storeID)}sort(t){if(this.store)return this.store.sort=t,this.store.read()}filter(t){if(this.store)return this.store.filter=t,this.store.read()}search(t){this.store&&(this.store.search=t)}firstPage(){this.page=1}lastPage(){this.nextPage()}nextPage(){this.page=this.page+1}prevPage(){this.page=this.page-1}get selected(){return this.store?.selected}isSelected(t){return this.#sJ.isSelected(t)}addSelected(t){return this.#sJ.addSelected(t)}removeSelected(t){return this.#sJ.removeSelected(t)}clearSelected(t){return this.#sJ.clearSelected(t)}getSelected(t){return a.asArray(t).filter(t=>Y.isSelected(t))}get #sJ(){return this.store||Y}get store(){return J.find(this.storeID)}get storeID(){return this.#tR?.storage}get page(){let t=this.store;return t?Math.floor(t.skip/Math.max(t.limit,1))+1:1}set page(t){t=Math.max(1,a.asNum(t,1));let e=this.store;e&&(e.skip=t>0?e.limit*t-e.limit:0,e.read(this.#tR))}async #sW(t=!0){let e=await this.storage();e&&(e.on("read",this.#sH),e.on("write",this.#sP),e.on("error",this.#sz),e.on("select",this.#sG),t&&e.read(this.#tR))}#sY(){let t=this.store;t&&(t.off("read",this.#sH),t.off("write",this.#sP),t.off("error",this.#sz),t.off("select",this.#sG))}#s_(t){this.#tR.requestUpdate?.()}#sq(t){this.#tR.onDataRead?.(t.detail.data),this.#sK("data-read",t.detail.data)}#sj(t){this.#tR.onDataWrite?.(t.detail.data),this.#sK("data-write",t.detail.data)}#sV(t){r.error(this.#tR,t),this.#tR.onDataError?.(t),this.#sK("data-error",t.detail.data)}#sK(t,e){this.#tR.emit(t,e,!0,!1,!0)}},et=class{#tR;#el;#sX=!1;#sZ=0;#sQ=0;#s0;#s1;#s2;constructor(t){this.#tR=t,t.addController(this),this.#s0=this.#s5.bind(this),this.#s1=this.#s3.bind(this),this.#s2=this.#s4.bind(this)}hostDisconnected(){this.#tR.removeController(this),this.#tR=null}attach(t){this.#sX||(this.#el=t,this.#sX=!0,this.#tR.attachEvent(this.#el,"mousedown",this.#s1))}reset(){this.#sZ=0,this.#sQ=0,this.#tR.removeEvent(document,"mouseup",this.#s0),this.#tR.removeEvent(document,"mousemove",this.#s2)}#s3(t){this.#tR.prevent(t),this.#sZ=t.clientX,this.#sQ=t.clientY,this.#tR.onStartMove?.(t,this.#sZ,this.#sQ),this.#tR.attachEvent(document,"mouseup",this.#s0,!0),this.#tR.attachEvent(document,"mousemove",this.#s2)}#s5(t){return this.#tR.prevent(t),this.#tR.removeEvent(document,"mousemove",this.#s2),this.#tR.onEndMove?.(t,this.#sZ,this.#sQ)}#s4(t){this.#tR.prevent(t),this.#tR.onMouseMove?.(t,this.#sZ,this.#sQ),this.#sZ<t.clientX?this.#tR.onCursorRight?.(t,this.#sZ,this.#sQ):this.#sZ>t.clientX&&this.#tR.onCursorLeft?.(t,this.#sZ,this.#sQ),this.#sQ<t.clientY?this.#tR.onCursorUp?.(t,this.#sZ,this.#sQ):this.#sQ>t.clientY&&this.#tR.onCursorDown?.(t,this.#sZ,this.#sQ),this.#sZ=t.clientX,this.#sQ=t.clientY}},ee=class t{#tR;#c;constructor(t){this.#tR=t,this.#c=t.language,t.addController(this)}hostConnected(){t.#sS.add(this)}hostDisconnected(){t.#sS.delete(this),this.#tR.removeController(this),this.#tR=null,this.#c=null}hostUpdate(){this.#c!==this.#tR?.language&&(this.#c,this.#tR?.language,this.updateLanguage(this.#c))}updateLanguageExt(t){this.#c||this.updateLanguage(t)}updateLanguage(t){t&&this.#tR.requestUpdate()}static #sS=new Set;static #s9(e){t.#sS.forEach(t=>t.updateLanguageExt(e.detail))}static #to(){g.on(window,null,"gs-language",t.#s9)}static{t.#to()}},es=class t{static #s6=new Set;#tR;constructor(t){this.#tR=t,t.addController(this)}hostConnected(){t.#s6.add(this),this.update()}hostDisconnected(){t.#s6.delete(this),this.#tR.removeController(this),this.#tR=null}update(){this.#tR.requestUpdate()}static #s7(e){Array.from(t.#s6).forEach(t=>t.update())}static{screen.orientation.addEventListener("change",t.#s7)}};let ei=Symbol.for("GS-TEMPLATE-RENDER");var er=class t{#tR;#s8;#it;static #tn=!1;static #ie=new Set;static #L=new Map;static #sD=new Set;static get isPrefetch(){return globalThis.GS_TEMPLATE_PREFETCH||!1}constructor(t){this.#tR=t,t[ei]=!1,t.addController(this)}hostConnected(){}hostDisconnected(){this.#tR.removeController(this),delete this.#tR[ei],this.#tR=null,this.#it=null,this.#s8=null}hostUpdate(){if(this.#s8)return;let e=this.templateRef;if(this.#it!==e){let s=t.#L.get(this.#is(e));a.isJsonType(s)&&this.#t0(s),this.#it=e,e&&!this.#s8&&t.#ii(this)}}hostUpdated(){let t=this;if(t.#s8){let e=t.#tR;e.removeController(t),e.templateInjected?.(),queueMicrotask(()=>t.hostDisconnected())}}#is(t){return a.isString(t)?`${t}@${this.#tR?.tagName||""}`:t}#ir(e){return t.#sD.has(e)||t.#L.has(e)}#t0({simple:t,slots:e}){let s=this;if(!s.#tR)return;let i=m.isTemplateElement(e),r=m.isTemplateElement(t),a=!0;i&&!1===s.#tR[ei]&&(s.#tR[ei]=!0,Array.from(e.cloneNode(!0).content.children).forEach(t=>s.#tR.appendChild(t))),r&&t.content.childElementCount>0&&(a=!1,s.#s8=t.cloneNode(!0),s.#tR.requestUpdate()),a&&s.#tR.templateInjected?.()}#ia(t){let e=null,s=null,i=Array.from(t.content.children).filter(t=>t.hasAttribute("slot")),r=i.length>0,a=t.content.childElementCount>i.length;return r&&(a?(s=document.createElement("template"),i.forEach(t=>s.content.appendChild(t))):s=t),e=a&&t?.content.childElementCount>0?t:null,s=r&&s?.content.childElementCount>0?s:null,{simple:e=e?.isConnected?e.cloneNode(!0):e,slots:s}}async #io(){let e=this.templateRef;if(!e)return;let s=this.#is(e);if(this.#ir(s))return;t.#sD.add(s);let i=null,r=m.isTemplateElement(e),n=a.isString(e);if(n&&(i=t.#L.get(s)),!i){try{let t=r?e:await x.loadTemplate(!0,e,e);i=this.#ia(t)}catch(e){throw t.#sD.delete(s),e}n&&(i.simple&&(i.simple.dataset.gsCache=!0),t.#L.set(s,i))}t.#sD.delete(s),this.#t0(i)}get isTemplateElement(){return this.#tR?.tagName==="GS-TEMPLATE"}get template(){return this.#s8}get templateRef(){return m.templateRef(this.#tR)}static async #il(t){for(let e of Array.from(t))await e.#io(),t.delete(e)}static #ii(e){t.#ie.add(e),t.#tn||(t.#tn=!0,queueMicrotask(()=>t.#il(t.#ie).finally(t.#tn=!1)))}static clear(){x.clear(),t.#ie.clear(),t.#L.clear(),t.#sD.clear()}},ea=class t{#tR;#ih;constructor(t){this.#tR=t,this.#ih=t.theme,t.addController(this)}hostConnected(){t.#sS.add(this)}hostDisconnected(){t.#sS.delete(this),this.#tR.removeController(this),this.#tR=null,this.#ih=null}hostUpdate(){this.#ih!==this.#tR?.theme&&(this.#ih,this.#tR?.theme,this.updateTheme(this.#ih))}updateThemeExt(t){this.#ih||this.updateTheme(t)}updateTheme(t){t&&(c.set(this.#tR,"data-bs-theme",t),Array.from(this.#tR?.renderRoot?.children||[]).forEach(e=>c.set(e,"data-bs-theme",t)))}static #sS=new Set;static #eP(e){t.#sS.forEach(t=>t.updateThemeExt(e.detail))}static #to(){g.on(window,null,"gs-theme",t.#eP)}static{t.#to()}},en=class{#tR;constructor(t){this.#tR=t,t.addController(this)}hostConnected(){let t=this.#tR.renderRoot||this.#tR;this.#tR.attachEvent(t,"slotchange",this.#ic.bind(this))}hostDisconnected(){this.#tR.removeController(this),this.#tR=null}#ic(t){"function"==typeof t.target.assignedElements&&t.target.assignedElements().forEach(e=>{e.onSlotInjected?.(t.target)})}},eo=class t extends tr{static properties={flat:{type:Boolean},rtl:{type:Boolean,reflect:!0},hide:{type:Boolean,reflect:!0},padding:{type:Number},margin:{type:Number},rounded:{type:Boolean},bordered:{type:Boolean},shadow:{type:Boolean},keep:{type:Boolean},onready:{},css:{},theme:{},os:{},browser:{},language:{reflect:!0,hasChanged:tA},environment:tj,orientation:tK,protocol:t2,template:{}};#id=void 0;#iu=void 0;#ip=void 0;#im=void 0;#ig=void 0;#iy=void 0;#ib=void 0;#s8=void 0;#iv=void 0;#sM=void 0;#sD=void 0;#iC=void 0;constructor(){super(),this.css="",this.language="",this.#id=new t9(this),this.#iv=new t7(this),this.#im=new ee(this),this.#ip=new es(this),this.#ib=new ea(this),this.#iy=new en(this)}attributeChangedCallback(t,e,s){super.attributeChangedCallback(t,e,s)}connectedCallback(){super.connectedCallback(),m.templateRef(this)&&(this.#s8=new er(this)),this.isBindable&&this.binded()}disconnectedCallback(){let t=this;g.detachListeners(this),super.disconnectedCallback(),t.#sM?.clear(),t.#sD?.clear(),t.#iC?.clear(),t.#sM=null,t.#sD=null,t.#iC=null,t.#id=null,t.#iu=null,t.#ip=null,t.#im=null,t.#ig=null,t.#iy=null,t.#ib=null,t.#s8=null,t.#iv=null,t.adoptedStyleSheets=[];let e=this.shadowRoot;e&&(e.adoptedStyleSheets=[],queueMicrotask(()=>m.cleanup(e))),queueMicrotask(()=>m.cleanup(t))}shouldUpdate(t){return this.isConnected}createRenderRoot(){return this.flat?this:super.createRenderRoot()}firstUpdated(){if(super.firstUpdated(),this.onready){let t=this.onready.startsWith("this")?this:window;n.callFunction(this.onready,t)}}willUpdate(t){t.has("storage")&&(this.#ig?.hostDisconnected(),this.#ig=void 0,this.storage&&(this.#ig=new t8(this)))}onSlotInjected(t){}render(){return this.isAllowRender&&!this.hide?this.renderUI():""}renderUI(){return this.renderTemplate()}renderTemplate(){return this.templateRef?tC(this.templateRef):tp}renderClass(){let t={border:this.bordered,"shadow-sm":this.shadow,rounded:this.rounded,[`p-${this.padding}`]:this.padding>=0,[`m-${this.margin}`]:this.margin>=0};return this.mapCSS(this.css,t)}templateInjected(){}binded(){this.#iu??=new t6(this)}handle(t){this.#iu?.handle(t)}mapCSS(t,e,s=!0){return e=e||{},(t||"").split(" ").map(t=>t.trim()).filter(t=>t.length>0).map(t=>e[t.trim()]=s),e}dynamicStyle(t,e,s=!1){return this.#id?.style(t,e,s)}getByID(t=""){return m.getByID(this,t)}closest(t="",e=-1,s=!1){let i=this.#iC?.get(t);return i&&!i.isConnected&&(i=void 0,this.#iC?.delete(t)),(i??=m.closest(this,t,e))&&s&&!this.#sM?.has(t)&&(this.#iC??=new Map,this.#iC.set(t,i)),i}query(t="",e=!1,s=!1){let i=this.#sD?.get(t);return i&&!i.isConnected&&(i=void 0,this.#sD?.delete(t)),(i??=m.query(this,t,!1,e))&&s&&!this.#sM?.has(t)&&(this.#sM??=new Map,this.#sM.set(t,i)),i}queryAll(t="",e=!1,s=!1){let i=this.#sD?.get(t);return i&&!i.isConnected&&(i=void 0,this.#sD?.delete(t)),(i??=m.queryAll(this,t,!1,e))&&s&&!this.#sD?.has(t)&&(this.#sD??=new Map,this.#sD.set(t,i)),i}notify(t=!0,e=!1,s){this.emit("notify",s,t,e,!0)}emit(t,e="",s=!1,i=!1,r=!1){return g.send(this,t,e,s,i,r)}waitEvent(t="",e=0){return g.wait(this,t,e)}once(t,e){return this.listen(t,e,!0)}on(t,e,s=!1){return this.listen(t,e,s)}off(t,e){return this.unlisten(t,e)}prevent(t,e,s,i){return g.prevent(t,e,s,i)}listen(t,e,s=!1){return this.attachEvent(this,t,e,s)}unlisten(t,e){return this.removeEvent(this,t,e)}attachEvent(t,e="",s,i=!1){return g.attach(this,t,e,s,i)}removeEvent(t,e="",s){return g.remove(this,t,e,s)}toggle(){this.hide=!this.hide}translate(t){return D.translate(this.language,t)}get direction(){if(!a.isNull(this.rtl))return this.rtl?"rtl":"ltr"}get isBindable(){return E.isBindable(this)}get isFocused(){return this===document.activeElement}get tag(){return this.tagName.toLowerCase()}get templateRef(){return this.#s8?.template}get contentRef(){return this.#iv?.contentRef}get dataController(){return this.#ig}get isAllowRender(){return this.isValidEnvironment&&this.isValidBrowser&&this.isValidOS&&this.isValidProtocol&&this.isValidOrientation}get isValidEnvironment(){return T.isValidEnvironment(this.environment??"")}get isValidOS(){return T.isDevice(this.os??"")}get isValidOrientation(){return T.isValidOrientation(this.orientation??"")}get isValidBrowser(){return T.isValidBrowser(this.browser??"")}get isValidProtocol(){return T.isValidProtocol(this.protocol??"")}get isGenerated(){return this.hasAttribute("generated")}get parentComponent(){return m.parentAll(this).filter(e=>e instanceof t).next()?.value}get clazzName(){return this.constructor.name}get definitions(){let t=[...m.inheritance(this)].map(t=>t.constructor?.properties).filter(t=>t);return t.push(this.constructor?.properties),p.mergeObjects(t)}get elementStyles(){return this.constructor.elementStyles.filter(t=>t instanceof CSSStyleSheet||t.styleSheet instanceof CSSStyleSheet).map(t=>t.styleSheet||t).pop()}cssRule(t){return Array.from(this.elementStyles?.rules??[]).filter(e=>e.selectorText===t).pop()}setCSSProperty(t,e,s){this.cssRule(t)?.style?.setProperty(e,s)}static allProperties(t){return m.allProperties(t)}static define(t,e,s){return m.define(t,e||this,s)}static{t.define("gs-element",t),y.registerFilter(t=>!0,t=>{m.cleanup(t)},!0,document.body)}},eh=class{#tR;#sX;#sb;constructor(t){this.#tR=t,t.addController(this)}hostDisconnected(){this.#tR.removeController(this),this.#tR=null,this.#sX=!1}get circular(){return this.#tR?.circular===!0}get multiple(){return this.#tR?.multiple===!0}get focused(){return this.#sb}get selected(){return this.#tR.active}init(){}attach(t){let e=this;!e.#sX&&(e.#sX=!0,e.#tR&&(e.#tR.attachEvent(t,"keydown",t=>e.onKeyDown(t)),e.#tR.attachEvent(t,"keyup",t=>e.onKeyUp(t)),e.#tR.attachEvent(t,"click",t=>e.onClick(t)),e.#tR.attachEvent(t,"focusin",t=>e.onFocusIn(t)),e.#tR.attachEvent(t,"focusout",t=>e.onFocusOut(t))))}previous(){let t=this.#sb?.previousElementSibling;for(;t?.disabled;)t=t.previousElementSibling;this.circular&&!t&&(t=this.lastElementChild),t?.focus()}next(){let t=this.#sb?.nextElementSibling;for(;t?.disabled;)t=t.nextElementSibling;this.circular&&!t&&(t=this.firstElementChild),t?.focus()}reset(){let t=this.selected;this.multiple?t.forEach(t=>{t.active=!1,t.blur()}):t&&(t.active=!1,t.blur()),this.#sb=void 0,this.#tR?.emit("group-reset",void 0,!0)}#iw(t){this.#tR?.onSelected?.(t),this.#tR?.emit("group-selected",t,!0)}#iS(t){this.#tR?.onDeselected?.(t),this.#tR?.emit("group-deselected",t,!0)}#i$(t){this.#tR?.onFocused?.(t),this.#tR?.emit("group-focused",t,!0)}#ix(t){return!this.#tR?.isNavigable||this.#tR?.isNavigable(t)}#iE(t){this.#ix(t)&&(this.#sb=t,t&&this.#i$(this.#sb))}#ik(t){t&&this.#ix(t)&&(t.active?this.#iw(t):this.#iS(t))}#iT(t){if(!this.#ix(t))return;let e=this.selected;e&&!this.multiple&&(e.active=!1,this.#ik(e)),this.multiple?t.active=!t.active:t.active=!0,this.#ik(t)}onFocusOut(t){}onFocusIn(t){t.target.isNav&&(t.relatedTarget?.isNav?this.#iE(t.target):this.selected?.focus())}onClick(t){let e=this,s=t.composedPath().filter(t=>t instanceof eo).filter(t=>t.parentComponent===e.#tR).pop();e.#ix(s)&&(t.ctrlKey&&e.reset(),e.#iS(e.selected),e.#iT(s))}onKeyDown(t){if(t.target.isNav)switch(t.code){case"ArrowUp":case"ArrowLeft":this.previous();break;case"ArrowDown":case"ArrowRight":this.next()}}onKeyUp(t){if(t.target.isNav)switch(t.code){case"Space":case"Enter":this.#sb?.click()}}},ec=class{#tR;#iA;#iL;constructor(t){this.#tR=t,t.addController(this)}hostConnected(){this.#tR.group&&(this.#iL=this.#iN.bind(this),this.#iA=N.register(this.#tR.clazzName),this.#iA.on(this.#tR.group,this.#iL))}hostDisconnected(){this.#iA?.off(this.#tR.group,this.#iL),this.#tR.removeController(this),this.#tR=null}#iN(t){this.#tR.onBusEvent?.(t)}notify(t){this.#iA?.emit(this.#tR.group,{owner:this.#tR,item:t})}},ed=class extends eo{#iI=null;static properties={url:{},disabled:{type:Boolean},logging:{type:Boolean}};constructor(){super(),this.logging=!1,this.#iI=new B,this.#iI.log=!1}renderUI(){return""}updated(t){this.#iI.log=this.logging,t.has("url")&&this.#iI.initialize(this.url)}disconnectedCallback(){this.#iI?.disable(),this.#iI=null}static{this.define("gs-router")}},eu=class extends eo{static properties={storage:{},autoclose:{type:Boolean},cssItem:{reflect:!0,attribute:"css-item"},cssHeader:{reflect:!0,attribute:"css-header"},cssBody:{reflect:!0,attribute:"css-body"},data:{type:Array}};constructor(){super(),this.data=this.settings}renderUI(){return tc`<div  dir="${td(this.direction)}"
       @notify="${this.#iR.bind(this)}"
       @click="${this.#iM}" 
       @keyup="${this.#iD}" 
       class="accordion ${tn(this.renderClass())}">
       ${this.#iU()}
       <slot></slot></div>`}get items(){return this.queryAll("gs-accordion-item",!1,!0)}get settings(){let t=this.constructor.properties;return R.collect(this).map(e=>c.proxify(e,t))}close(){this.#iO(!1)}open(){this.#iO(!0)}onDataRead(t){this.data=t}#iU(){return this.data.map(t=>tc`<gs-accordion-item generated
        .opened="${td(!0===t.disabled)}" 
        message="${td(t.message)}" 
        template="${td(t.template)}" 
        title="${td(t.title)}"></gs-accordion-item>`)}#iO(t=!1){this.items.forEach(e=>e.opened=t),this.notify()}#iR(t){this.autoclose&&t.target.opened&&this.items.filter(e=>e!=t.target).forEach(t=>t.opened=!1)}#iM(t){t?.composedPath()[0]?.matches(".accordion-button")&&t.target.toggle?.()}#iD(t){switch(t.code){case"ArrowLeft":t.target.close?.();break;case"ArrowRight":t.target.open?.()}}static{this.define("gs-accordion")}},ep=class extends eo{static properties={cssHeader:{reflect:!0,attribute:"css-header"},cssBody:{reflect:!0,attribute:"css-body"},message:{reflect:!0},title:{reflect:!0},opened:{type:Boolean,reflect:!0}};constructor(){super()}shouldUpdate(t){return this.owner?.tagName==="GS-ACCORDION"}renderUI(){let t=this.owner,e=this.cssHeader||t?.cssHeader,s=this.cssBody||t?.cssBody;return tc`<div class="accordion-item ${this.css}">
             <h2 class="accordion-header">
               <button type="button" 
                class="accordion-button  ${e} ${this.opened?"":"collapsed"}"> 
                 ${this.translate(this.title)}
               </button>
             </h2>
             <div class="accordion-collapse collapse  ${s} ${this.opened?"show":""}">
               <div class="accordion-body">
                   ${this.translate(this.message)}
                   ${this.renderTemplate()}
                   <slot></slot>
               </div>
             </div>      
     </div>`}open(){this.notify(!0)}close(){this.notify(!1)}toggle(){this.notify(!this.opened)}notify(t=!1){this.opened=t,super.notify()}get owner(){return this.closest("gs-accordion")||m.component(this)}static{this.define("gs-accordion-item")}},em=class extends eo{static properties={message:{reflect:!0},color:{...tG},closed:{reflect:!0,type:Boolean},closable:{reflect:!0,type:Boolean},delay:{reflect:!0,type:Number}};#sM;#iF=!1;#iB=0;#iH=0;#sp;constructor(){super(),this.delay=1,this.#sM=to(),this.#sp=this.#iP(this)}disconnectedCallback(){clearInterval(this.#iB),super.disconnectedCallback()}renderUI(){let t=this;return tc`<div role="alert" dir="${td(t.direction)}" ${tf(t.#sM)} 
            @mouseover="${()=>t.#iF=!0}"
            @mouseout="${()=>t.#iF=!1}"
            class="alert fade ${tn(t.renderClass())}" >
            ${t.#iz}
            ${t.renderTemplate()}
            <slot></slot>
            ${t.#iG}
        </div>`}firstUpdated(t){this.#iq(),super.firstUpdated(t)}updated(t){t.has("opened")&&this.#iq()}renderClass(){return{...super.renderClass(),show:!this.closed,"alert-dismissible":this.closable,[`alert-${this.color}`]:this.color}}open(){this.notify(!1)}close(){this.notify(!0)}toggle(){this.notify(!this.closed)}notify(t=!1){let e=this;e.closed=t,e.closed&&setTimeout(()=>{e.#sM.value.classList.toggle("d-none",!0)},250),super.notify()}get isBillboard(){return this.#sp?.length>0}get #ij(){return this.translate(this.message)}get #iz(){return this.rtl?this.#iV:this.#ij}get #iG(){return this.rtl?this.#ij:this.#iV}get #iV(){return this.closable?tc`<button type="button" class="btn-close" aria-label="Close" @click="${this.close}"></button>`:""}#iP(t){return R.collect(t).map(t=>c.proxify(t,{message:{}}))}#iq(){this.closed?(clearInterval(this.#iB),this.#iB=0):this.#i_()}#i_(){let t=this;if(!t.isBillboard)return;let e=t.#sp;t.message?t.#iH=-1:t.message=e[0].message,t.#iB=setInterval(()=>{t.#iF||(t.#iH++,t.#iH>=e.length&&(t.#iH=0),t.message=e[t.#iH].message)},1e3*t.delay)}static{this.define("gs-alert")}};(class extends eo{static properties={type:{...tP},size:{...t3},color:{...tG},clickCss:{attribute:"click-css"},hoverCss:{attribute:"hover-css"},toggleColor:{...tG,attribute:"toggle-color"},autofocus:{type:Boolean},disabled:{type:Boolean,reflect:!0},outline:{type:Boolean,reflect:!0},active:{type:Boolean,reflect:!0},toggling:{type:Boolean},icon:{},title:{},tooltip:{},text:{},url:{}};#iW=to();#iY=to();constructor(){super(),this.type="button"}firstUpdated(t){super.firstUpdated(t),this.autofocus&&!this.disabled&&this.focus()}renderUI(){return tc`<button is="gs-ext-button" part="button" role="button" 
        ${tf(this.#iW)}
        dir="${td(this.direction)}"
        type="${td(this.type)}" 
        class="btn ${tn(this.renderClass())}" 
        title="${td(this.#iJ)}"
        ?disabled=${this.disabled}
        @mouseover="${this.#iK}"
        @mouseout="${this.#iX}"
        @disabled="${this.#iZ}"
        @click="${this.#iM}">
          ${this.#iz} ${this.#iG}</button>`}renderClass(){let t=t5[this.size];return{...super.renderClass(),active:this.active,"focus-ring":document.activeElement===this,[`text-${this.text}`]:this.text,[`btn-${t}`]:t,[`btn-outline-${this.color}`]:this.outline,[`btn-${this.color}`]:!this.outline&&this.color,[`btn-${this.toggleColor}`]:this.active&&this.toggleColor}}click(){this.#iW.value?.click()}focus(){requestAnimationFrame(()=>this.#iW.value?.focus())}toggle(){this.active=!this.active}#iM(t){return(this.toggling&&this.toggle(),this.iconEl?.animate?.(),this.#iQ(t),this.dataset.event)?this.emit(this.dataset.event,null,this.dataset.bubbles,this.dataset.composed,!0):this.isReset?this.form?.reset():this.isSubmit?this.form?.submit():void this.notify()}#iZ(t){this.disabled=this.buttonEl.disabled}#iQ(t){this.url&&(this.url.startsWith("#")?location.hash=this.url:location.href=this.url)}#iK(){this.iconEl?.hover?.(!0)}#iX(){this.iconEl?.hover?.(!1)}get isReset(){return tH.isReset(this.type)}get isSubmit(){return tH.isSubmit(this.type)}get iconEl(){return this.#iY.value}get buttonEl(){return this.#iW.value}get form(){return this.closest("gs-form, form")}get #i0(){return this.translate(this.title)}get #iJ(){return this.translate(this.tooltip)}get #iz(){return this.rtl?this.#i0:this.#i1}get #iG(){return this.rtl?this.#i1:this.#i0}get #i1(){return this.icon?this.#i2:tc`<slot name="icon"></slot>`}get #i2(){return tc`
    <gs-icon ${tf(this.#iY)} 
    name="${this.icon}" 
    click-css="${td(this.clickCss)}" 
    hover-css="${td(this.hoverCss)}" 
    data-delay="1"></gs-icon>`}static{this.define("gs-button")}});var eg=class extends eo{static styles=tl`.year::-webkit-outer-spin-button,.year::-webkit-inner-spin-button {-webkit-appearance: none;margin: 0;} .year {-moz-appearance: textfield;} .day:focus{font-weight: bold;}`;static properties={date:{},target:{},format:{hasChanged:tA},editable:{type:Boolean},range:{type:Number},year:{type:Number},month:{type:Number,hasChanged:tN},day:{type:Number,hasChanged:tN},minYear:{attribute:"year-min",type:Number},maxYear:{attribute:"year-max",type:Number},arrovPrev:{attribute:"arrow-prev"},arrowNext:{attribute:"arrow-next"},cssDays:{attribute:"css-days"},cssToday:{attribute:"css-today"},cssWeeks:{attribute:"css-weeks"},cssMonth:{attribute:"css-month"},cssYear:{attribute:"css-year"},cssNav:{attribute:"css-nav"},cssHeader:{attribute:"css-header"},cssSelected:{attribute:"css-selected"}};#i5;#sv;constructor(){super(),this.#i5=new u,this.#i5.day=1,this.#sv=new u,this.#i5.language=a.language,this.#sv.language=a.language,this.language=a.language,this.day=this.#sv.day,this.month=this.#sv.month,this.year=this.#sv.year,this.editable=!1,this.range=5,this.minYear=1900,this.maxYear=2100,this.arrowPrev="&#10094;",this.arrowNext="&#10095;",this.cssNav="btn-light",this.cssToday="btn-secondary",this.cssSelected="btn-primary",this.cssWeeks="fw-bold text-bg-dark",this.cssYear="form-control fs-5 fw-bold border-0 text-center m-1 p-0",this.cssMonth="form-control fs-3 fw-bold border-0 text-center m-1 p-0"}get date(){let t=this;return new Proxy(this.#i5,{set:(e,s,i)=>("function"!=typeof e[s]&&(e[s]=i,t.#i3()),!0),get(e,s,i){let r=e[s];return r instanceof Function?function(...s){try{return r.apply(this===i?e:this,s)}finally{t.#i3()}}:r}})}previousMonth(){0==this.month?(this.month=11,this.year--):this.month--}nextMonth(){11==this.month?(this.month=0,this.year++):this.month++}previousYear(){this.year--}nextYear(){this.year++}formatted(t){return(t||this.#i5).format(this.format,this.language)}updated(){let t=new u(this.#i5);this.#i4(t),this.emit("date",{type:"calendar",date:t,val:this.formatted(t)},!0,!0)}renderUI(){this.#i5.day=1,this.#i5.month=this.month,this.#i5.year=this.year,this.#i5.day=this.day,this.#i5.language=this.language;let t=u.dayList(!0,this.language).map(t=>tc`<div class="col">${t}</div>`),e=this.#i9(),s=this.#i6();return tc`
          <div class="container-fluid text-center ${tn(this.renderClass())}"
          dir="${td(this.direction)}"
          @keydown="${this.#i7}"
          @click="${this.#i8}">
          <div class="row align-items-center ${this.cssHeader} header">
              <div class="col-auto">
                  <a href="#" @click="${this.previousMonth}" class="btn ${this.cssNav} arrow prev">${tw(this.arrowPrev)}</a>
              </div>
              <div class="col"></div>
              <div class="col-auto">
                  ${e}
                  ${s}
              </div>
              <div class="col"></div>
              <div class="col-auto">
                  <a href="#" @click="${this.nextMonth}" class="btn ${this.cssNav} arrow next">${tw(this.arrowNext)}</a>
              </div>
          </div>
          <div class="row weeks ${this.cssWeeks}">${t}</div>
          ${tw(this.#rt())}
      </div>`}#i4(t){if(!this.target)return;let e=m.query(document.documentElement,this.target);if(e){if(e instanceof HTMLInputElement)return"date"===e.type?e.valueAsDate=t:e.value=this.formatted(t);m.setHTML(e,this.formatted(t))}}#i3(){this.#sv.day=1,this.#sv.month=this.#i5.month,this.#sv.year=this.#i5.year,this.#sv.day=this.#i5.day,this.#sv.language=this.#i5.language,this.day=this.#i5.day,this.month=this.#i5.month,this.year=this.#i5.year,this.language=this.#i5.language}#re(t,e){return t&&a.asNum(t)===e.day&&e.month===this.#i5.month&&this.#i5.year===e.year}#rt(){let t=this,e=new u;e.language=t.language;let s=t.#i5.build(t.language).map(s=>{let i=t.#re(s,e)?t.cssToday:"",r=t.#re(s,t.#sv)?t.cssSelected:"",a=s?`<a tabindex="0" href="#" class="btn shadow-none ${r} ${i} day" data-day="${s}">${s}</a>`:"";return`<div class="col p-0">${a}</div>`}).map((t,e)=>0===e?`<div class="row days">${t}`:e%7==0?`</div><div class="row days">${t}`:t);return s.push("</div>"),s.join("")}#i9(){let t=this.#i5.MMMM,e=u.monthList(!1,this.language),s=e.map((e,s)=>tc`<option value="${s}" selected=${td(t==e||void 0)}>${e}</option>`);return tc`<select @change="${this.#rs}" name="month" class="month ${this.cssMonth}" value="${e.indexOf(t)}">${s}</select>`}#i6(){let t=[],e=this.minYear,s=this.maxYear;if(this.range>0){let i=new u().year;e=i-this.range,s=i+this.range,this.#ri(t,e,s)}if(!this.editable)return tc`<select @change="${this.#rr}" name="year" class="year ${this.cssYear}" data-gs-min="${e}" data-gs-max="${s}">${t}</select>`;let i=this.editable&&this.range&&t.length>0,r=i?l.next:null,a=i?tc`<datalist id="${r}">${t}</datalist>`:"";return tc`<input name="year" 
      type="number" 
      list="${td(r)}"
      class="year ${this.cssYear}" 
      @change="${this.#rr}" 
      min="${e}" 
      max="${s}"
      value="${this.#i5.getFullYear()}">
      ${a}`}#ri(t,e=0,s=0){let i=e;for(;i<=s;)this.editable?t.push(tc`<option value="${i}" selected=${td(i==this.year||void 0)}>`):t.push(tc`<option value="${i}" selected=${td(i==this.year||void 0)}>${i}</option>`),i++;return t}#i8(t){if(g.prevent(t),!t.target.classList.contains("day"))return;let e=a.asNum(t.target.dataset.day,this.day);this.#sv.day=1,this.#sv.month=this.month,this.#sv.year=this.year,this.#sv.day=e,this.day=e}#rs(t){this.month=t.target.selectedIndex}#rr(t){let e=t?.target;e?.validity.valid&&(this.year=e.value)}#i7(t){}static{this.define("gs-calendar")}},ef=class extends eo{static styles=tl`.card-header, .card-footer{ background-color: inherit; color: inherit;}`;static properties={imageStyle:{type:Object,attribute:"image-style",reflect:!0},overlay:{type:Boolean},placement:{...tZ},align:{...tZ},image:{},title:{},subtitle:{},text:{},footer:{},header:{},colorText:{attribute:"color-text"},colorBack:{attribute:"color-back"},colorBorder:{attribute:"color-border"},cssTitle:{attribute:"css-title"},cssSubtitle:{attribute:"css-subtitle"},cssText:{attribute:"css-text"},cssFooter:{attribute:"css-footer"},cssHeader:{attribute:"css-header"},cssBody:{attribute:"css-body"},cssImage:{attribute:"css-image"}};#ra=l.id;constructor(){super(),this.border=!1,this.shadow=!1,this.align="start",this.placement="top",this.imageStyle=this.imageStyle||{},this.dynamicStyle(this.#ra)}renderUI(){let t=this.isVertical?this.#rn():this.#ro();return tc`<div  dir="${td(this.direction)}" class="card ${tn(this.renderClass())}">${t}</div>`}#rn(){return[this.#rl,this.#rh,this.#rc,this.#rd,this.#ru]}#ro(){let t=tX.isBefore(this.placement),e=t?this.#rp:this.#rc,s=t?this.#rc:this.#rp;return tc`<div class="row g-0">
        <div class="${t?"col-4":"col-8"}">
            ${e}
        </div>
        <div class="${t?"col-8":"col-4"}">
          ${s}
        </div>
      </div>`}renderClass(){return{...super.renderClass(),border:this.border||this.colorBorder,[`text-${this.align}`]:this.align,[`text-${this.colorText}`]:this.colorText,[`bg-${this.colorBack}`]:this.colorBack,[`border-${this.colorBorder}`]:this.colorBorder}}get isVertical(){return tX.isVertical(this.placement)}get isHorizontal(){return tX.isHorizontal(this.placement)}get #rc(){return tc`<div class="${this.overlay?"card-img-overlay":"card-body"} ${this.cssBody}">
      <h5 class="card-title  ${this.cssTitle}"><slot name="title">${this.translate(this.title)}</slot></h5>
      <h6 class="card-subtitle  ${this.cssSubtitle}"><slot name="subtitle">${this.translate(this.subtitle)}</slot></h6>
      <p class="card-text ${this.cssText}"><slot name="text">${this.translate(this.text)}</slot></p>
      <slot name="body"></slot>
    </div>    
    `}get #rh(){return this.overlay?"":tc`<div class="card-header  ${this.cssHeader}"><slot name="header">${this.header}</slot></div>`}get #rd(){return this.overlay?"":tc`<div class="card-footer ${this.cssFooter}"><slot name="footer">${this.footer}</slot></div>`}get #rm(){return tc`<slot name="image"></slot>`}get #rg(){let t=this.isHorizontal?"img-fluid":"card-img";return this.dynamicStyle(this.#ra,this.imageStyle),tc`<img src="${this.image}" class="rounded-${this.placement} ${t} ${this.cssImage} ${this.#ra}" alt="...">`}get #rp(){return this.image?this.#rg:this.#rm}get #rl(){return"top"===this.placement?this.#rp:""}get #ru(){return"bottom"===this.placement?this.#rp:""}static{this.define("gs-card")}},ey=class extends eo{constructor(){super()}renderUI(){return tc`<div  dir="${td(this.direction)}"
      class="position-absolute top-50 start-50 translate-middle ${tn(this.renderClass())}">
    ${this.renderTemplate()}<slot></slot></div>`}static{this.define("gs-center")}},eb=class t extends eo{static properties={storage:{},auto:{type:Boolean,reflect:!0},opened:{type:Boolean,reflect:!0},dark:{type:Boolean},reverse:{type:Boolean},offset:{type:Number},data:{type:Array}};static options={name:{},title:{},header:{},color:{},icon:{},url:{default:"#"}};#rf=to();#ra=l.id;#ry=null;constructor(){super(),this.offset=0,this.dynamicStyle(this.#ra),this.data=this.#iP(this),this.#ry=new ec(this)}onBusEvent(t){t.detail.owner!=this&&(this.opened=!1)}willUpdate(t){super.willUpdate(t),t.has("opened")&&!this.opened&&this.#rb()}updated(){this.#rv(),this.opened&&this.#ry.notify()}renderUI(){return tc`<ul 
            ${tf(this.#rf)}
            dir="${td(this.direction)}"
            class="dropdown-menu ${tn(this.renderClass())}"
            data-gs-class="${this.#ra}"
            data-menu="true"
            @mouseover="${this.#iK}"
            @mouseleave="${this.#rC}"
            @keydown="${this.#M}"
            @click="${this.#iM}">
            ${this.#rw(this.data)}
        </ul>`}renderClass(){return{...super.renderClass(),submenu:this.dataset.submenu,"dropdown-menu-dark":this.dark,[this.#ra]:!0,show:this.opened,dropend:!this.reverse,dropstart:this.reverse}}close(){this.opened=!1}open(){this.opened=!0}toggle(){this.opened=!this.opened}popup(t=0,e=0,s){let i=this,r=a.asNum(i.offset,0);if(g.isMouseOrPointerEvent(t)){let s=t;s.target,e=s.clientY,t=s.clientX;let r=m.offsetParent(i);r=r?r.getBoundingClientRect():null,t-=r?.left||0,e-=r?.top||0}let n={clientX:t-r,clientY:e-r};requestAnimationFrame(()=>{let t={position:"fixed",top:"0px",left:"0px",translate:`${n.clientX}px ${n.clientY}px`};Object.assign(i.dynamicStyle(i.#ra).style,t)}),i.open()}onDataRead(t){this.data=t}#rw(t){let e=this;return t.map(t=>e.#rS(t))}#rS(t){return t.items?.length>0?this.#r$(t):t.header||t.name?t.header?this.#rx(t):this.#rE(t):this.#rk()}#rx(t){return tc`<li data-inert="true"><h6 class="dropdown-header">${this.#i2(t)}${t.header}</h6></li>`}#rk(){return tc`<li data-inert="true"><hr class="dropdown-divider"></li>`}#r$(t){return tc`<li>
            <a class="dropdown-item dropdown-toggle" data-toggle="true" href="#">
                <div class="d-inline-block w-100">${this.#i2(t)}${t.name}</div>
            </a>
            <gs-menu auto 
                .data=${t.items} 
                ?dark=${this.dark} 
                ?reverse="${this.reverse}" 
                language="${td(this.language)}" 
                data-submenu="true">
            </gs-menu>
        </li>`}#i2(t){return t.icon?tc`<gs-icon css="mx-1" name="${t.icon}"></gs-icon>`:""}#rE(t){return tc`<li>
                <gs-button css="dropdown-item shadow-none" 
                    ${tx(t,!1)}
                    url="${t.url}"
                    title="${t.name}" 
                    language="${td(this.language)}" 
                    icon="${td(t.icon)}" 
                    text="${td(t.color)}"
                    data-gs-target="${td(t.target||"self")}"
                    data-gs-action="${td(t.action)}">
                </gs-button></li>`}#iP(e){return R.collect(e).map(e=>c.proxify(e,t.options))}#rb(t){m.queryAll(this.renderRoot,"gs-menu",!1,!1).filter(e=>e!=t).forEach(t=>t.close())}#M(t){"Escape"===t.key&&this.close()}#iM(t){g.prevent(t);let e=this.#rT(t);e?.close(),this.auto&&this.close()}#rC(t){g.prevent(t),this.auto&&this.close()}#iK(t){g.prevent(t);let e=this.#rT(t);this.#rb(e),e?.open()}#rT(t){let e=t.target.closest("li");return e?.querySelector("gs-menu")}#rv(){if(!this.opened)return;let t=this.dynamicStyle(this.#ra);if(this.isSubmenu){let e={translate:"0px -25px"};this.reverse?(e.left="inherited",e.right="100%"):(e.right="inherited",e.left="100%"),Object.assign(t.style,e)}else{t.style.translate=null;let e=this.#rA.getBoundingClientRect(),s=window.innerWidth-e.right;this.reverse=s-5<0,this.reverse&&(t.style.translate=`${s-2}px`)}}get isSubmenu(){return this.dataset.submenu}get #rA(){return this.#rf.value}static{this.define("gs-menu")}},ev=class extends eb{static properties={target:{},filter:{},altContext:{type:Boolean,attribute:"altcontext"},disabled:{type:Boolean}};constructor(){super(),this.auto=!0,this.#rL&&(this.slot="extra",this.target="tbody",this.filter="[selected]",this.offset="4")}connectedCallback(){super.connectedCallback(),this.attachEvent(window,"resize",this.close.bind(this)),this.slot||this.#rN()}onSlotInjected(t){this.#rN()}#rN(){let t=this,e=m.parent(t.assignedSlot||t),s=t.target?m.queryAll(e,t.target):[e];s.length||(s=m.queryAll(document.documentElement,t.target)),s.forEach(e=>t.attachEvent(e,"contextmenu",t.#rI.bind(t)))}#rR(t){let e=this;return t.composedPath().filter(t=>t.matches).filter(t=>t.matches(e.filter?e.filter:e.target))}#rI(t){if((!t.shiftKey||!this.altContext)&&0!==this.#rR(t).length)return g.prevent(t),this.popup(t),!0}get #rL(){return this.parentComponent?.tagName==="GS-TABLE"}popup(t=0,e=0,s){return!this.disabled&&super.popup(t,e,s)}static{this.define("gs-context")}},eC=class extends eo{static styles=tl`.slider {
         --gs-position : 50%;
          left : var(--gs-position);
          width: 8px;
          height: 100%;
          border-width: 1px;
          cursor: w-resize;
          border-color: darkgray;
          border-style: solid;
          background-color: lightgray;
      }
      .clipper {
        --gs-position : 50%;
        clip-path: inset(0px var(--gs-position) 0px 0px);
      }
    `;static properties={background:{...tG},width:{type:Number},height:{type:Number},before:{hasChanged:tA},after:{hasChanged:tA}};#ra=l.id;#rM=to();#rD=to();#rU=to();#rO;#rF;constructor(){super(),this.width=0,this.height=0,this.dynamicStyle(this.#ra),this.#rO=new et(this)}firstUpdated(t){this.#rO.attach(this.#rB),super.firstUpdated(t)}willUpdate(t){super.willUpdate(t);let e=this.#sT;e.width=this.width>0?`${this.width}px`:"",e.height=this.height>0?`${this.height}px`:""}renderUI(){return tc`<div ${tf(this.#rM)} 
         dir="${td(this.direction)}"
         @loaded="${this.#rH}" 
         @dblclick="${this.#rP}"
         data-gs-class="${this.#ra}"
         class="${tn(this.renderClass())}">
      <div class="overflow-hidden position-absolute top-0 start-0 overflow-hidden"><slot name="before">${this.#rz}</slot></div>
      <div ${tf(this.#rD)} class="overflow-hidden position-absolute top-0 start-0 overflow-hidden clipper"><slot name="after">${this.#rG}</slot></div>
      <div ${tf(this.#rU)} class="slider position-absolute top-0><slot name="control"></slot></div>
    </div>`}renderClass(){return{...super.renderClass(),"position-relative":!0,"user-select-none":!0,"d-contents":this.isAuto,"h-100":this.isAuto,"w-100":this.isAuto,"overflow-hidden":!0,[`bg-${this.background}`]:this.background,[`${this.#ra}`]:!0}}onStartMove(t){this.#rF=this.#rB.getBoundingClientRect()}onMouseMove(t){let e=this.#rF.left,s=this.#rF.width,i=a.range(t.clientX-e,0,s);this.#i3(i/s*100)}get isAuto(){return 0==this.width||0==this.height}get isFixed(){return!this.isAuto}get #sT(){return this.dynamicStyle(this.#ra).style}get #rz(){return this.before?tc`<img @load="${this.#rH}" src="${me.before}"></img>`:""}get #rG(){return this.after?tc`<img @load="${this.#rH}" src="${me.after}"></img>`:""}get #rq(){return 0===this.width||0===this.height}get #rB(){return this.#rM.value}get #rj(){return this.#rU.value}get #rV(){return this.#rD.value}#rH(t){if(this.#rq){let e=t.target;this.height=this.height||e.height,this.width=this.width||e.width}}#rP(t){this.prevent(t),this.#i3(),this.#rO.reset()}#i3(t=50){this.#rV.style.setProperty("--gs-position",`${100-t}%`),this.#rj.style.setProperty("--gs-position",`${t}%`)}static{this.define("gs-compare")}},ew=class extends eo{static properties={module:{},controller:{}};#r_=!1;constructor(){super()}updated(t){super.updated(t),this.isConnected&&this.isValid&&this.#rW()}get isValid(){return this.parentElement instanceof eo}async #rW(){let t=this.parentElement;if(this.#r_)return;let e=globalThis[this.controller];if(!e&&this.module){let t=$.normalizeURL(this.module);e=(await import(t))[this.controller]}e&&(new e(t),this.#r_=e,globalThis[this.controller]=e)}static{this.define("gs-controller")}},eS=class extends eo{static properties={year:{reflect:!0,type:Number},company:{reflect:!0},url:{reflect:!0}};constructor(){super(),this.flat=!0,this.css="fixed-bottom d-flex justify-content-center align-items-center mt-1 p-2 text-muted"}renderUI(){if(!(this.isCompany&&this.isYear))return"";let t=new Date().getFullYear();return tc`<div  dir="${td(this.direction)}" class="${tn(this.renderClass())}"><a target="_blank" href="${this.url?this.url:"#"}"><small>&copy; ${this.company} ${this.year}. - ${t}.</small></a></div>`}get isCompany(){return a.isStringNonEmpty(this.company)}get isYear(){return a.isStringNonEmpty(this.year)}static{this.define("gs-copyright")}},e$=class extends eo{static properties={storage:{state:!0},src:{reflect:!0},action:{reflect:!0},mode:{reflect:!0},reader:{reflect:!0},writer:{reflect:!0},limit:{type:Number,reflect:!0},skip:{type:Number,reflect:!0},filter:{type:Array,reflect:!0},sort:{type:Array,reflect:!0},type:{},autoload:{type:Boolean},autorefresh:{type:Number,reflect:!0,hasChanged:tL}};#q=0;#rY=null;#rJ=null;#rK=null;#rX=null;constructor(){if(super(),this.storage=this.storage||this.id,this.autorefresh=0,this.autoload=!1,this.flat=!0,this.filter=[],this.sort=[],this.limit=0,this.skip=0,this.src="",this.type="remote",this.mode="query",this.reader="GET",this.writer="POST",this.#rL&&(this.slot="extra"),!this.isGenerated&&!this.id)throw Error("Element ID is required attribute!");R.validate(this,this.tagName)}connectedCallback(){super.connectedCallback(),this.storage=this.storage||this.id;let t=this.isGenerated&&0===this.childElementCount?this.parentComponent:this;this.#rY=R.proxify(t,p.PROPERTIES),this.#rZ(!0),this.#rZ(!1)}disconnectedCallback(){super.disconnectedCallback(),this.#rJ?.disable(),this.#rJ?.removeProcessor(this),this.#rK=null,this.#rX=null,clearTimeout(this.#q)}firstUpdated(){this.#rJ=J.newHandler(this.type,this.storage,!1),this.#rY?.length>0&&this.#rJ?.addProcessor(this),this.#rQ(!0)}willUpdate(t){super.willUpdate(t),this.#rQ(),t.has("autorefresh")&&this.schedule(this.autorefresh)}#rQ(t=!1){this.#rJ&&(this.#rJ.src=this.src,this.#rJ.key=this.key,this.#rJ.mode=this.mode,this.#rJ.action=this.action,this.#rJ.reader=this.reader,this.#rJ.writer=this.writer,this.#rJ.limit=this.limit,this.#rJ.skip=this.skip,this.#rJ.sort=this.formatSort(this.sort),this.#rJ.filter=this.formatFilter(this.filter),this.autoload&&this.read(),t&&(this.#rJ.enable(),this.autoload&&this.dataController?.read()))}get isDebug(){return this.dataset.gsDebug}get handler(){return this.#rJ}get isRegistered(){return this.#rJ?.isRegistered===!0}get isOffline(){return this.#rJ?.isOffline}get isCached(){return this.#rJ?.type=="cached"}set search(t){this.#rJ&&(this.#rJ.search=t)}get key(){return this.#rY.filter(t=>t.key).map(t=>t.name).pop()||null}formatFilter(t){return Array.isArray(t=this.#r0(t))?t:[]}formatSort(t){let e;if("string"==typeof(t=this.#r0(t)))e=[{col:t}];else if(Array.isArray(t))e=t;else if(a.isNumber(t)){let s=Math.abs(t);(e=Array(s))[s-1]={ord:t}}return e||[]}schedule(t=0){let e=this;t=1e3*a.asNum(t),clearInterval(e.#q),t>0&&(e.#q=setInterval(()=>{e.read(e)},t))}read(){return this.#rK()}write(t,e=!1){return this.#rX(t,e)}load(){return this.read()}save(t){return this.write(t)}get selected(){return this.#rJ?.selected}addSelected(t){return this.#rJ?.addSelected(t)}removeSelected(t){return this.#rJ?.removeSelected(t)}clearSelected(t){return this.#rJ?.clearSelected()}onDataRead(t){this.isDebug&&r.log(this,"Data Read: "+JSON.stringify(t))}onDataWrite(t){this.isDebug&&r.log(this,"Data write: "+JSON.stringify(t))}postRead(t){let e=this;Array.isArray(t)||(t=[t]),t.forEach(t=>{e.#rY.forEach(e=>{let s=t[e.name];a.isNull(s)||(s=p.format(e,s),t[e.name]=s)})})}onDataError(t){this.isDebug&&r.log(this,"Data error: "+JSON.stringify(t))}#r1(){if(!this.isOffline&&!this.isRegistered)throw Error("Data handler not initialized!")}#rZ(t=!0){t?this.#rK=n.callOnceLifo(this.#r2,this):this.#rX=n.callOnceLifo(this.#r5,this)}#r2(){return this.#rZ(!0),this.#r3(!0)}#r5(t,e){return this.#rZ(!1),this.#r3(!1,t,e)}#r3(t=!0,e,s){return(this.#r1(),t)?this.#rJ?.read(this):(s||this.#rJ.clear(),this.#rJ?.write(this,e))}#r0(t){return a.isJsonString(t)?JSON.parse(t):t}get #rL(){return this.parentComponent?.tagName==="GS-TABLE"}static{this.define("gs-data-handler")}},ex=class t extends eo{static CSS="rounded shadow-sm";static HEADER_CSS="p-3";static TITLE_CSS="fs-5 fw-bold text-muted";static ALIGN="end";static CANCEL="Cancel";static CONFIRM="Ok";static #r4=[];static styles=tl`dialog {
      --bs-modal-width: 500px;
      width:var(--bs-modal-width);
      outline:none;
    }
    dialog::backdrop {
      backdrop-filter: blur(4px);
      backdrop-filter: blur(var(--gs-backdrop-blur));      
      background-color: var(--gs-backdrop-color);
      display: var(--gs-backdrop-display);
    }`;static properties={standard:{reflect:!0,type:Boolean},opened:{reflect:!0,type:Boolean},cancelable:{reflect:!0,type:Boolean},closable:{reflect:!0,type:Boolean},escapable:{reflect:!0,type:Boolean},disabled:{reflect:!0,type:Boolean},size:t3,title:{reflect:!0},message:{reflect:!0},cancelText:{reflect:!0,attribute:"text-cancel"},confirmText:{reflect:!0,attribute:"text-confirm"},minWidth:{reflect:!0,type:Number,attribute:"min-width"},buttonAlign:{reflect:!0,attribute:"button-align"},iconCancel:{reflect:!0,attribute:"icon-cancel"},iconConfirm:{reflect:!0,attribute:"icon-confirm"},colorCancel:{attribute:"color-cancel"},colorConfirm:{attribute:"color-confirm"},cssCancel:{attribute:"css-cancel"},cssConfirm:{attribute:"css-confirm"},cssTitle:{attribute:"css-title"},cssHeader:{attribute:"css-header"},cssFooter:{attribute:"css-footer"},cssBody:{attribute:"css-body"},cssContent:{attribute:"css-content"}};#r9=!1;#ra=l.id;#r6=to();#r7=to();#r8=to();constructor(){super(),this.opened=!1,this.standard=!1,this.cancelable=!1,this.closable=!1,this.escapable=!1,this.disabled=!1,this.shadow=!1,this.rounded=!1,this.minWidth=0,this.css=t.CSS,this.cssTitle=t.TITLE_CSS,this.cssHeader=t.HEADER_CSS,this.buttonAlign=t.ALIGN,this.cancelText=t.CANCEL,this.confirmText=t.CONFIRM,this.colorCancel="secondary",this.colorConfirm="primary",this.dynamicStyle(this.#ra)}disconnectedCallback(){super.disconnectedCallback(),t.#at()}firstUpdated(){super.firstUpdated(),this.#r9=!0}_shouldUpdate(t){return!0===this.opened||this.#r9}shouldUpdate(t){let e=this,s=!0===e.opened||e.#r9;return s||a.timeout(1e3).then(()=>{queueMicrotask(()=>{!(!0===e.opened||e.#r9)&&(e.#r9=!0,e.isConnected&&e.requestUpdate())})}),s}updated(t){super.updated(t),t.has("opened")&&this.#ae()}#ae(){let e=null;this.opened?(t.#r4.push(this),e="opening",this.standard?this.#as?.open():this.#as?.showModal(),this.#ai()?.focus()):(e="closing",this.isHashed&&(location.hash=""),t.#r4.pop(),this.#as?.close()),this.notify(!0,!1,e)}#ar(){return this.closable?tc`<gs-button  ${tf(this.#r7)} 
      @click="${this.#aa.bind(this)}" 
      icon="${td(this.iconConfirm)}"
      language="${td(this.language)}"
      .disabled="${this.disabled}"  
      css="${td(this.cssConfirm)}" 
      color="${td(this.colorConfirm)}" 
      title="${this.confirmText}">
      </gs-button>`:""}#an(){return this.cancelable?tc`<gs-button ${tf(this.#r8)}
      @click="${this.#ao.bind(this)}" 
      icon="${td(this.iconCancel)}"
      language="${td(this.language)}"
      css="${td(this.cssCancel)}" 
      color="${td(this.colorCancel)}" 
      title="${this.cancelText}">
      </gs-button>`:""}#al(){return this.cancelable||this.closable?tc`<div class="card-footer d-flex user-select-none justify-content-${this.buttonAlign} ${this.cssFooter}">
       <slot name="actions"></slot>
      ${this.#an()} &nbsp;${this.#ar()}
      </div>`:""}#ah(){let t={card:!0,[`p-${this.padding}`]:this.padding>=0,[`m-${this.margin}`]:this.margin>=0};return this.cssContent?.match(/[^ ]+/g).forEach(e=>t[e]=!0),t}renderClass(){let t=t5[this.size];return{dialog:!0,"p-0":!0,border:this.bordered,"border-0":!this.bordered,"shadow-sm":this.shadow,rounded:this.rounded,[this.#ra]:!0,[`modal-${t}`]:!!t}}renderUI(){let t={"min-width":this.minWidth>0?`${this.minWidth}px`:void 0};return this.dynamicStyle(this.#ra,t),tc`
        <dialog tabindex="-1" ${tf(this.#r6)} 
            dir="${td(this.direction)}"
            @close="${this.#ao.bind(this)}"
            @cancel="${this.#ao.bind(this)}"
            @keydown="${this.#M.bind(this)}"
            @form="${this.#ac.bind(this)}"
            @confirm="${this.#aa.bind(this)}"
            @submit="${this.#ad.bind(this)}"
            class="${tn(this.renderClass())}">
            <div class="${tn(this.#ah())}">
                <div class="card-header user-select-none ${this.cssHeader}">
                  <div class="card-title ${this.cssTitle}">
                    <slot name="title">${this.translate(this.title)}</slot>
                  </div>
                </div>
                <div class="card-body ${this.cssBody}">
                  <slot name="body">
                  ${this.translate(this.message)}
                  ${this.renderTemplate()}
                  </slot>
                  </div>
                  ${this.#al()}
                  </div>
                  <slot name="extra"></slot>
                  <div class="toast-container position-fixed"></slot></div>
                  </dialog>
                  `}info(t="",e="",s=!1,i=!1){if(this.title=t,this.message=e,this.closable=s,this.cancelable=i,this.escapable=i,this.open(),s||i)return this.waitEvent("click-action")}confirm(t="",e=""){return this.info(t,e,!0,!1)}prompt(t="",e=""){return this.info(t,e,!0,!0)}reset(t,e=0){e=a.asNum(e,0),this.forms?.forEach?.(e=>{e.reset(),e.data=t});let s=this.tab;s&&e>-1&&(s.index=e)}open(){this.opened=!0}close(){this.opened=!1}toggle(){this.opened=!this.opened}get isHashed(){return a.asBool(this.dataset.gsHashed)}get form(){return this.query("gs-form",!0,!0)}get forms(){return this.queryAll("gs-form",!0,!0)}get tab(){return this.query("gs-tab",!0,!0)}get #as(){return this.#r6.value}get #au(){return this.#r7.value}get #ap(){return this.#r8.value}#ai(){let t=this.queryAll(m.QUERY_INPUT,!0).filter(t=>m.isVisible(t)).shift();return t||(this.cancelable?this.#ap:this.closable?this.#au:this)}async #aa(t){!this.disabled&&0>(await Promise.all(this.forms?.map?.(t=>t.submit()))).indexOf(!1)&&this.close()}#ao(t){this.close()}#M(t){"Escape"===t.key&&(g.prevent(t),(this.cancelable||this.escapable)&&this.close())}#ac(t){let e=!0,s=t.detail;switch(s.type){case"submit":(e=this.emit("data",s.data,!1,!1,!0))||g.prevent(t);break;case"valid":this.disabled=!1===s.data}return e}#ad(t){}static #at(){t.#r4=t.#r4.filter(t=>t.isConnected)}static get size(){return t.#r4.length}static get top(){t.#at();let e=t.size;return 0===e?null:t.#r4[e-1]}static get opened(){return t.#at(),Array.from(t.#r4)}static{this.define("gs-dialog")}},eE=class extends eo{static properties={autoclose:{reflect:!0,type:Boolean},closable:{reflect:!0,type:Boolean},backdrop:{reflect:!0,type:Boolean},expanded:{reflect:!0,type:Boolean},scroll:{reflect:!0,type:Boolean},min:{reflect:!0,type:Number},max:{reflect:!0},fingers:{reflect:!0,type:Number},placement:{...tZ},transition:{reflect:!0},duration:{reflect:!0,type:Number},title:{reflect:!0},cssTitle:{reflect:!0,attribute:"css-title"},cssHead:{reflect:!0,attribute:"css-head"},cssBody:{reflect:!0,attribute:"css-body"}};constructor(){super(),this.placement="start",this.cssTitle="fs-5",this.transition="linear",this.duration=.2,this.min=0,this.max="auto",this.fingers=2,this.on("mouseleave",this.#am.bind(this)),this.on("mouseenter",this.#ag.bind(this))}renderUI(){return tc`${tw(this.#af)}
    <div tabindex="-1" dir="${td(this.direction)}"
     class="offcanvas overflow-hidden anime ${tn(this.renderClass())}">
      ${this.#rh}
      <div class="offcanvas-body  ${this.cssBody}">
        ${this.renderTemplate()}
        <slot name="body"></slot>
      </div>
    </div>${this.#ay}`}renderClass(){return{...super.renderClass(),show:!0,"anime-open":this.expanded,"anime-close":!this.expanded,[`offcanvas-${this.placement}`]:this.placement}}get #af(){let t=this.isHorizontal?"width":"height";return`<style>
    .anime {
      transition-property: ${t} !important;
      transition-duration: ${this.duration}s  !important;
      transition-timing-function: ${this.transition} !important;
    }
    .anime-open {
        ${t} : ${this.max}${a.isNumber(this.max)?"px":""} !important;
    }
    .anime-close {
      ${t} : ${this.min}${a.isNumber(this.min)?"px":""} !important;
    }    
    </style>`}get #ay(){return this.backdrop?tc`<div class="offcanvas-backdrop fade ${this.expanded?"show":"invisible"}" @click="${this.close}"></div>`:""}get #iV(){return this.closable?tc`<button type="button" class="btn-close text-reset" @click="${this.close}"></button>`:""}get #i0(){return this.title?tc`<div class="offcanvas-title ${this.cssTitle}">${this.translate(this.title)}</div>`:""}get #rh(){return this.#ab?tc`<div class="offcanvas-header ${this.cssHead}"><slot name="header">${this.#i0}${this.#iV}</slot></div>`:""}get #av(){return this.querySelector('[slot="header"]',!1,!0)}get #ab(){return this.title||this.closable||this.#av}#sK(t){this.expanded=!0==t,this.notify()}#am(){this.autoclose&&this.close()}#ag(){this.min>0&&this.open()}open(){this.#sK(!0)}close(){this.#sK(!1)}toggle(){this.#sK(!this.expanded)}get isHorizontal(){return!this.isVertical}get isVertical(){return tX.isVertical(this.placement)}static{this.define("gs-drawer")}},ek=class extends eb{static properties={icon:{},text:{...tG},color:{...tG},size:{},title:{},tooltip:{},group:{},simple:{type:Boolean}};constructor(){super(),this.auto=!0}renderUI(){return tc`<div class="dropdown"  dir="${td(this.direction)}">
                ${this.#aC()}
                ${super.renderUI()}
            </div>`}#aw(){return{...super.renderClass(),btn:!0,[`btn-${this.color}`]:!!this.color,"dropdown-toggle":!this.simple,"shadow-none":!0}}#aC(){return tc`<gs-link css="${tT(this.#aw())}"
            url="#"         
            icon="${td(this.icon)}"
            text="${td(this.text)}"
            size="${td(this.size)}"
            title="${td(this.title)}"
            tooltip="${td(this.tooltip)}"
            @notify="${this.toggle}">
            </gs-link>`}static{this.define("gs-dropdown")}},eT=class extends eo{static shadowRootOptions={mode:"closed"};static style=tl`.e-mail:before {
    content: attr(data-website) "\0040" attr(data-user);
    unicode-bidi: bidi-override;
    direction: rtl;
    }`;static properties={user:{reflect:!0},domain:{reflect:!0},dev:{type:Boolean}};#aS;#a$;constructor(){super()}willUpdate(t){super.willUpdate(t),this.#ax(),this.#aE()}renderUI(){return tc`${tw(this.#af)}<a @click="${this.#iM}" class="e-mail" data-user="${this.#aS}" data-website="${this.#a$}"  href="mailto://"></a>`}get #af(){return'<style>.e-mail:before { content: attr(data-website) "@" attr(data-user); unicode-bidi: bidi-override; direction: rtl; }</style>'}get #eS(){return`mailto://${a.reverse(this.dataset.user)}@${a.reverse(this.dataset.domain)}`}#ax(){let t=this.dataset;this.user&&(this.#aS=t.user||a.reverse(this.user),this.dev&&(t.user=this.#aS),this.user="")}#aE(){let t=this.dataset;this.domain&&(this.#a$=t.domain||a.reverse(this.domain),this.dev&&(t.domain=this.#a$),this.domain="")}#iM(t){this.prevent(t),window.location.href=this.#eS}static{this.define("gs-email")}};(class extends eo{static properties={storage:{},data:{type:Object},disabled:{reflect:!0,type:Boolean},url:{reflect:!0},name:{reflect:!0},rel:{reflect:!0},acceptCharset:{reflect:!0,attribute:"accept-charset"},autocapitalize:{reflect:!0},autocomplete:{reflect:!0},autocopy:{reflect:!0,type:Boolean},autofocus:{reflect:!0,type:Boolean},autoselect:{reflect:!0,type:Boolean},autovalidate:{reflect:!0,type:Boolean},autoreport:{reflect:!0,type:Boolean},action:{reflect:!0},enctype:{reflect:!0},method:{reflect:!0},novalidate:{reflect:!0,type:Boolean},target:{reflect:!0},block:{reflect:!0,type:Boolean},beep:{reflect:!0,type:Boolean},timeout:{reflect:!0,type:Number}};#ak=to();#aT=void 0;constructor(){super(),this.data={},this.disabled=!1,this.method="dialog"}renderUI(){return tc`<form is="gs-ext-form"
      ${tf(this.#ak)}
      id="${td(this.name)}"
      name="${td(this.name)}"
      dir="${td(this.direction)}"
      class="${tn(this.renderClass())}"
      
      @blur="${this.#aA}"
      @change="${this.#aL}"
      @invalid="${this.#aN}"
      @submit="${this.submit}"
      @reset="${this.reset}"
      
      method="${this.method}"      
      url="${td(this.url)}"
      
      rel="${td(this.rel)}"
      acceptCharset="${td(this.acceptCharset)}"
      autocapitalize="${td(this.autocapitalize)}"
      autocomplete="${td(this.autocomplete)}"
      action="${td(this.action)}"
      enctype="${td(this.enctype)}"
      target="${td(this.target)}"

      ?novalidate="${this.novalidate}">
      ${tC(this.#aI)}
      <slot></slot>
    </form>`}firstUpdated(t){super.firstUpdated(t),this.dataController?.read()}updated(t){t.has("data")&&(a.isNull(this.data)?this.reset():this.asJSON=Object.assign(this.asJSON,this.data))}templateInjected(){}async reset(t){this.form?.reset(),this.data={},await this.dataController?.read(this.asJSON)}async submit(t){if(g.prevent(t,!0,!1,!1),this.disabled||!this.validate())return;let e=this.asJSON;return await this.dataController?.write(e),this.emit("form",{type:"submit",data:e,source:t,owner:this},!0,!0,!0)}get submitButton(){return this.form?.submitButton}get resetButton(){return this.form?.resetButton}get form(){return this.#ak.value}get elements(){return this.form?.elements||[]}get fields(){return this.form?.fields||[]}get inputs(){return this.form?.inputs||[]}get invalid(){return this.form?.invalid}get isValid(){return this.form?.isValid}get asJSON(){return this.form?.asJSON}set asJSON(t){this.form&&(this.form.asJSON=t,this.validate())}field(t){return this.form?.field(t)}checkValidity(){return this.form?.checkValidity()}reportValidity(){return this.form?.reportValidity()}validate(t){let e=this.form?.validate();return e=this.onValidate(e),this.#sK(e,t),this.invalid[0]?.focus(),e}disable(t=!1){this.form?.disable(t)}enable(t=!1){this.form?.enable(t)}onDataRead(t){let e=this;Array.isArray(t)?t.forEach(t=>e.asJSON=t):e.asJSON=t}onDataWrite(t){}onDataError(t){r.error(this,t)}onValidate(t){return t}#aN(t){this.prevent(t,!1,!0,!1),this.#sK(!1,t)}#aA(t){this.prevent(t,!1,!0,!1),this.#sK(this.isValid,t)}#aL(t){this.#sK(this.isValid,t)}#sK(t=!1,e){this.#aT!==t&&(this.#aT=t,this.emit("form",{type:"valid",data:t,owner:this,event:e},!0,!0))}get #aI(){let t=this.firstElementChild;return m.isTemplateElement(t)?t:void 0}static{this.define("gs-form")}});var eA=class t extends eo{static CSS_LABEL_CELL="col-md-4 col-sm-4 col-xs-2";static CSS_LABEL="user-select-none fw-small fw-light text-secondary";static CSS_ICON="text-primary me-2 fs-5";static ICON="info-circle-fill";static formAssociated=!0;static #aR={name:{},value:{},selected:{type:Boolean}};static properties={icon:{reflect:!0},layout:{reflect:!0},placement:{reflect:!0},label:{reflect:!0},description:{reflect:!0},placeholder:{reflect:!0},pattern:{reflect:!0},mask:{reflect:!0},form:{reflect:!0},wrap:{reflect:!0},spellcheck:{reflect:!0},type:{reflect:!0,...t_},name:{reflect:!0},list:{reflect:!0},accept:{reflect:!0},value:{noAccessor:!0},values:{},lang:{reflect:!0},title:{reflect:!0},rows:{type:Number,reflect:!0,hasChanged:tL},cols:{type:Number,reflect:!0,hasChanged:tL},step:{type:Number,reflect:!0,hasChanged:tL},min:{type:Number,reflect:!0,hasChanged:tN},max:{type:Number,reflect:!0,hasChanged:tL},minLength:{type:Number,reflect:!0,hasChanged:tN},maxLength:{type:Number,reflect:!0,hasChanged:tL},reverse:{reflect:!0,type:Boolean},selectable:{reflect:!0,type:Boolean},autoid:{type:Boolean,reflect:!0},autocopy:{type:Boolean,reflect:!0},autoselect:{type:Boolean,reflect:!0},autocapitalize:{...tD,reflect:!0},autocorrect:{...tB,reflect:!0},autocomplete:{reflect:!0},autofocus:{type:Boolean,reflect:!0},autoselect:{type:Boolean,reflect:!0},autovalidate:{type:Boolean,reflect:!0},autoreport:{type:Boolean,reflect:!0},disabled:{type:Boolean,reflect:!0},checked:{type:Boolean,reflect:!0},multiple:{type:Boolean,reflect:!0},reveal:{type:Boolean,reflect:!0},readonly:{type:Boolean,reflect:!0},required:{type:Boolean,reflect:!0},invalidMessage:{reflect:!0,attribute:"invalid-message"},cellField:{reflect:!0,attribute:"cell-field"},cellLabel:{reflect:!0,attribute:"cell-label"},cssLabel:{reflect:!0,attribute:"css-label"},cssField:{reflect:!0,attribute:"css-field"},block:{reflect:!0,type:Boolean},beep:{reflect:!0,type:Boolean},timeout:{reflect:!0,type:Number}};#ra=l.id;#aM=to();#aD=to();#aU=[];#sB=[];#aO=null;constructor(){super(),this.#aO=this.attachInternals(),this.#aF(),this.dynamicStyle(this.#ra),this.rows=0,this.cols=0,this.type="text",this.placement="top",this.layout="horizontal",this.invalidMessage="Invalid input",this.icon=t.ICON,this.cssLabel=t.CSS_LABEL,this.cellLabel=t.CSS_LABEL_CELL}connectedCallback(){let e=this.formComponent;this.layout=c.get(e,"layout",this.layout),!this.form&&e&&(this.form=e.name),this.selectable?this.#sB=R.proxify(this,t.#aR):this.#aU=R.collect(this).filter(t=>t.dataset.pattern).map(t=>new RegExp(t.dataset.pattern)),super.connectedCallback()}updated(t){this.emit("input")}renderUI(){switch(this.layout){case"floating":return this.#aB();case"vertical":return this.#rn();default:return this.#ro()}}#aB(){return tc`
    <div  dir="${td(this.direction)}" class="row ${tn(this.renderClass())}">
       <div class="form-floating ${this.#aH} ${this.#aP}">
          ${this.#az()}
          ${this.#aG()}
          ${this.#aq()}
       </div>
       ${this.#aj()}
    </div>
    <slot></slot>`}#rn(){return tc`
    <div  dir="${td(this.direction)}" class="row ${tn(this.renderClass())}">
      <div class="col-12 text-md-start ${this.cellLabel}">
          ${this.#aq()}
      </div>
       <div class="${this.#aH} ${this.#aP}">
          ${this.#az()}
          ${this.#aG()}
       </div>
       ${this.#aj()}   
    </div>      
    <slot></slot>`}#ro(){return tc`
    <div  dir="${td(this.direction)}" class="row form-group ${tn(this.renderClass())}">    
       <slot name="header"></slot>
       ${this.#aV()}
       ${this.#a_()}
       ${this.#aj()}
       <slot name="footer"></slot>
    </div>
    <slot></slot>`}#aq(){return tc`<label class="${this.#aW} ${this.cssLabel} user-select-none" for="${this.name}">${this.translate(this.label)}</label>`}#aV(){return tc`<div class=" text-md-end ${this.cellLabel}">${this.#aq()}</div>`}#i2(){return this.#aY?tc`<gs-icon size="5" css="${t.CSS_ICON}}" name="${this.icon}"></gs-icon>`:tc`<slot name="icon"></slot>`}#aJ(){let t=this.#aY?"@parent":`[name='${this.name}']`;return this.description?tc`<gs-tooltip local language="${td(this.language)}" placement="${this.placement}" title="${this.description}" target=${td(t)}></gs-tooltip>`:""}#aj(){let t=this.#aJ();return t&&this.#aY?tc`
    <div class="col-auto">
       ${t}
       ${this.#i2()}
    </div>`:t}#a_(){return tc`
    <div class="${this.#aH} ${this.#aP}">
       <slot name="body">${this.#az()}${this.#aG()}</slot>
    </div>`}#aG(){return this.isRange?tc`<span ${tf(this.#aD)} class="position-absolute px-1">${this.value}</span>`:""}#az(){let t=this,e=t.autoid?t.name:void 0,s=t.isFieldset?t.values.split(","):t.value;if(Array.isArray(s)){let e="vertical"===t.dataset.radioLayout;return s.map((e,s)=>({v:e,id:`${t.name}_${s}`})).map((s,i)=>t.#aK(t.name+i,s.v,t.#aX(s.id,t.name,s.v),e))}return t.selectable?t.#aZ(e,t.name,t.value):t.#aQ?t.#a0(e,t.name,t.value):t.#aX(e,t.name,t.value)}#aK(t,e,s,i=!1){return i?tc`<div class="me-3">${s}<label for="${t}" class="ms-1">${this.translate(e)}</label></div>`:tc`<span class="me-3">${s}<label for="${t}" class="ms-1">${this.translate(e)}</label></span>`}#a1(){let t={transform:this.reverse&&this.isRange?"rotateY(180deg)":""};this.dynamicStyle(this.#ra,t)}#a2(t){let e=t.name||t.innerText||t.value;return tc`<option ${tx(t,!1)} value="${t.value}" ?selected="${t.selected}">${e}</option>`}#a5(){let t=this;return t.#sB.map(e=>t.#a2(e))}#aZ(t,e,s){return this.#a1(),tc`<select ais="gs-ext-select"
            ${tf(this.#aM)}
            ${tx(this,!1)}

            @change="${this.#aL.bind(this)}"
            @blur="${this.#aA.bind(this)}"
        
            name="${e}"             
            form="${td(this.form)}"
            class="${this.#a3} ${this.cssField} ${this.#ra}" 

            ?autofocus="${this.autofocus||this.form?.autofocus}"
            ?autocopy="${this.autocopy||this.form?.autocopy}"
            ?autoselect="${this.autoselect||this.form?.autoselect}"
            ?autovalidate="${this.autovalidate||this.form?.autovalidate}"
            ?autoreport="${this.autoreport||this.form?.autoreport}"

            ?readonly="${this.readonly}"
            ?required="${this.required}"
            ?disabled="${this.disabled}">
              ${this.#a5()}
            </select>`}get #aQ(){return(this.rows>0||this.cols>0)&&"text"===this.type}get #a4(){let t="";if(this.list){let e=this.parentComponent||this.parentElement,s=m.query(e,`datalist[id="${this.list}"]`,!0,!0);s&&(t=tc`${tw(s.outerHTML)}`)}return t}get #a9(){return this.block||this.formComponent?.block||!1}get #a6(){return this.beep||this.formComponent?.beep||!1}#a7(){return this.timeout||this.formComponent?.timeout||0}#a0(t,e,s){this.#a1();let i=this.placeholder?this.translate(this.placeholder,!1):null,r=this.title?this.translate(this.title,!1):null;return tc`<textarea is="gs-ext-textarea" 
            ${tf(this.#aM)}
            ${tx(this,!1)}
            @input="${this.#a8.bind(this)}"
            @change="${this.#aL.bind(this)}"
            @blur="${this.#aA.bind(this)}"
            @invalid="${this.#aN.bind(this)}"
            lang="${td(this.lang)}"
            minlength="${td(this.minLength)}"
            maxlength="${td(this.maxLength)}"
            cols="${this.cols}"
            rows="${this.rows}"

            ?block="${this.#a9}"
            ?beep="${this.#a6}"
            timeout="${this.#a7()}"

            spellcheck="${td(this.spellcheck)}" 
            wrap="${td(this.wrap)}" 
            form="${td(this.form)}" 
            name="${e}" 
            value="${td(s)}"
            placeholder="${td(i)}"
            title="${td(r)}"
    
            class="${this.#a3} ${this.cssField} ${this.#ra}" 

            autocomplete="${td(this.autocomplete)}"
            autocorrect="${td(this.autocorrect)}"
            autocapitalize="${td(this.autocapitalize)}"

            ?autofocus="${this.autofocus||this.form?.autofocus}"
            ?autocopy="${this.autocopy||this.form?.autocopy}"
            ?autoselect="${this.autoselect||this.form?.autoselect}"
            ?autovalidate="${this.autovalidate||this.form?.autovalidate}"
            ?autoreport="${this.autoreport||this.form?.autoreport}"

            ?readonly="${this.readonly}"
            ?required="${this.required}"
            ?disabled="${this.disabled}"      
      ></textarea>`}#aX(t,e,s){let i=this.isSwitch?"checkbox":this.type,r=this.isRange?this.defaultValue:this.title;r=r?this.translate(this.title,!1):r;let a=this.placeholder?this.translate(this.placeholder,!1):null,n=this.description?this.translate(this.description,!1):null;return this.#a1(),tc`<input is="gs-ext-input"
            ${tf(this.#aM)}
            ${tx(this,!1)}

            @input="${this.#a8.bind(this)}"
            @change="${this.#aL.bind(this)}"
            @blur="${this.#aA.bind(this)}"
            @invalid="${this.#aN.bind(this)}"
        
            name="${e}" 
            type="${i}" 
            form="${td(this.form)}"
            value="${td(s)}"
            title="${td(r)}"


            ?block="${this.#a9}"
            ?beep="${this.#a6}"
            timeout="${this.#a7()}"

            class="${this.#a3} ${this.cssField} ${this.mask?"font-monospace":""} ${this.#ra}" 

            placeholder="${td(a)}"
            description="${td(n)}"

            .multipattern="${td(this.#aU)}"
            mask="${td(this.mask)}"
            pattern="${td(this.pattern)}"
            list="${td(this.list)}"
            accept="${td(this.accept)}"
             
            step="${td(this.step)}"
            min="${td(this.min)}"
            max="${td(this.max)}"
            lang="${td(this.lang)}"

            minlength="${td(this.minLength)}"
            maxlength="${td(this.maxLength)}"

            autocomplete="${td(this.autocomplete)}"
            autocorrect="${td(this.autocorrect)}"
            autocapitalize="${td(this.autocapitalize)}"

            ?autofocus="${this.autofocus||this.form?.autofocus}"
            ?autocopy="${this.autocopy||this.form?.autocopy}"
            ?autoselect="${this.autoselect||this.form?.autoselect}"
            ?autovalidate="${this.autovalidate||this.form?.autovalidate}"
            ?autoreport="${this.autoreport||this.form?.autoreport}"            

            ?multiple="${this.multiple}"
            ?checked="${this.checked}"
            ?readonly="${this.readonly}"
            ?required="${this.required}"
            ?disabled="${this.disabled}"
            ?reveal="${this.reveal}"
            >${this.#a4}`}get #a3(){return this.selectable?"form-select ms-0":this.isCheckable?"form-check-input ms-0":this.isRange?"form-range":"form-control"}get #aW(){return this.isCheckable?"form-check-label":this.isFloating?"ms-2":this.isVertical?"form-label":""}get #aH(){return this.isCheckable?this.isSwitch?"form-check form-switch ps-3 fs-5":this.isFieldset?"":"form-check":""}get #aP(){let t=this.isHorizontal?"6":"11";return this.cellField||`col-md-${t} col-sm-${t} col-xs-11`}get #aY(){return a.isStringNonEmpty(this.icon)}#a8(t){t.composed||this.emit(t.type,t)}#aA(t){t.composed||this.emit(t.type,t,!0,!0)}#aL(t){let e=this.field;this.#aO?.setFormValue(e.value),this.#aO?.setValidity(e.validity,e.validationMessage,e),t.composed||this.emit(t.type,t,!0,!0),this.requestUpdate()}#aN(t){t.composed||this.emit("invalid",t,!0,!0)}#aF(){let t=["header","body","footer"],e=Array.from(this.children).filter(e=>e.slot&&!t.includes(e.slot));if(e.length>0)throw Error(`Custom element injection must contain slot="header|body|footer" attribute! Element: ${this.tagName}, ID: ${this.id}`);e=Array.from(this.children).filter(t=>!t.slot);let s=["GS-ITEM","DATALIST"];if(!m.isAllowed(e,s))throw Error(m.toValidationError(this,s))}translate(t="",e){return t=super.translate(t),e?a.sanitize(t):t}reset(){this.field?.reset?.()}get isFloating(){return"floating"===this.layout}get isHorizontal(){return"horizontal"===this.layout}get isVertical(){return"vertical"===this.layout}get isFieldset(){return"radio"===this.type&&this.values?.includes(",")}get isCheckable(){return this.isCheck||this.isRadio||this.isSwitch}get isChecked(){return this.field?.checked}get isCheck(){return"checkbox"===this.type}get isRadio(){return"radio"===this.type}get isSwitch(){return"switch"===this.type}get isNumber(){return"number"===this.type}get isRange(){return"range"===this.type}get isText(){return"text"===this.type}get isPassword(){return"passsword"===this.type}get isEmail(){return"email"===this.type}get isURL(){return"url"===this.type}get isFile(){return"file"===this.type}get isDate(){return"date"===this.type}get field(){return this.#aM.value}get value(){return this.field?this.field?.value:this.defaultValue}set value(t){this.field&&(this.field.value=t)}get defaultValue(){return this.field?this.field.defaultValue:c.get(this,"value","")}set defaultValue(t){this.field&&(this.field.defaultValue=t),c.set(this,"value",t)}get validity(){return this.#aO.validity}get formComponent(){return m.closest(this,"gs-form")}static{this.define("gs-form-group")}},eL=class extends eo{static properties={storage:{},data:{type:Array}};#ak=to();constructor(){super(),this.data=this.#iP}renderUI(){let t=this.data||{},e=this.#nt();return tc`<gs-form ${tf(this.#ak)}

      storage="${td(t.storage)}" 
      disabled=${td(t.disabled)}.
      data="${td(t.data)}"
      
      name="${td(t.name)}"
      rel="${td(t.rel)}"
      acceptCharset="${td(t.acceptCharset)}"
      autocapitalize="${td(t.autocapitalize)}"
      autocomplete="${td(t.autocomplete)}"

      action="${td(t.action)}"
      enctype="${td(t.enctype)}"
      method="${td(t.method)}"
      novalidate="${td(t.novalidate)}"
      target="${td(t.target)}"

      block="${td(t.block)}"
      beep="${td(t.beep)}"
      timeout="${td(t.timeout)}"

      flat="${td(t.flat)}"
      rtl="${td(t.rtl)}"
      hide="${td(t.hide)}"
      padding="${td(t.padding)}"
      margin="${td(t.margin)}"
      rounded="${td(t.rounded)}"
      bordered="${td(t.bordered)}"
      shadow="${td(t.shadow)}"
      keep="${td(t.keep)}"
      css="${td(t.css)}"
      theme="${td(t.theme)}"
      os="${td(t.os)}"
      browser="${td(t.browser)}"
      language="${td(t.language)}"
      environment="${td(t.environment)}"
      orientation="${td(t.orientation)}"
      protocol="${td(t.protocol)}"
      template="${td(t.template)}"      
      >${e}</gs-form>`}#nt(){let t=document.createElement("template");return ty(this.#ah(),t.content),t}#ah(){let t=this,e=t.data?.items||[];return tc`${tb(e,e=>t.#ne(t.data,e))}`}#ne(t,e){return tc`<gs-form-group 
      icon="${td(e.icon)}"
      layout="${td(e.layout)}"
      placement="${td(e.placement)}"

      label="${td(e.label)}"
      description="${td(e.description)}"
      placeholder="${td(e.placeholder)}"
      
      pattern="${td(e.pattern)}"
      mask="${td(e.mask)}"

      form="${td(e.form)}"
      formaction="${td(e.formaction)}"
      formenctype="${td(e.formenctype)}"
      formmethod="${td(e.formmethod)}"
      formnovalidate="${td(e.formnovalidate)}"
      formtarget="${td(e.formtarget)}"
      wrap="${td(e.wrap)}"
      spellcheck="${td(e.spellcheck)}"

      type="${td(e.type)}"
      name="${td(e.name)}"
      list="${td(e.list)}"
      accept="${td(e.accept)}"
      value="${td(e.value)}"
      
      lang="${td(e.lang)}"
      title="${td(e.title)}"
      cols="${td(e.cols)}"
      rows="${td(e.rows)}"
      step="${td(e.step)}"
      min="${td(e.min)}"
      max="${td(e.max)}"
      maxlength="${td(e.maxlength)}"
      minlength="${td(e.minlength)}"

      reverse="${td(e.reverse)}"
      selectable="${td(e.selectable)}"

      autoid="${td(e.autoid)}"
      autocopy="${td(e.autocopy)}"
      autoselect="${td(e.autoselect)}"

      autocapitalize="${td(e.autocapitalize)}"
      autocorrect="${td(e.autocorrect)}"
      autocomplete="${td(e.autocomplete)}"

      autofocus="${td(e.autofocus)}"
      autoselect="${td(e.autoselect)}"

      disabled="${td(e.disabled)}"
      checked="${td(e.checked)}"
      multiple="${td(e.multiple)}"
      reveal="${td(e.reveal)}"
      readonly="${td(e.readonly)}"
      required="${td(e.required)}"

      invalidMessage="${td(e.invalidMessage)}"  
      
      block="${td(e.block||t.block)}"
      beep="${td(e.beep||t.beep)}"
      timeout="${td(e.timeout||t.timeout)}"

      flat="${td(e.flat)}"
      rtl="${td(e.rtl)}"
      hide="${td(e.hide)}"
      padding="${td(e.padding)}"
      margin="${td(e.margin)}"
      rounded="${td(e.rounded)}"
      bordered="${td(e.bordered)}"
      shadow="${td(e.shadow)}"
      keep="${td(e.keep)}"
      css="${td(e.css)}"
      theme="${td(e.theme)}"
      os="${td(e.os)}"
      browser="${td(e.browser)}"
      language="${td(e.language||t.language)}"
      environment="${td(e.environment)}"
      orientation="${td(e.orientation)}"
      protocol="${td(e.protocol)}"
      template="${td(e.template)}">
      </gs-form-group>`}get form(){return this.#ak.value}onDataRead(t){this.data=t}onDataError(t){r.error(this,t)}get #iP(){return R.collect(this).map(t=>c.proxify(t,eA.properties))}static{this.define("gs-form-panel")}},eN=class extends eo{static properties={group:{},storage:{},circular:{type:Boolean},multiple:{type:Boolean},data:{type:Array}};#rM=to();#ry;#ns;constructor(){super(),this.data=this.initData(),this.#ry=new eh(this),this.#ns=new ec(this)}connectedCallback(){super.connectedCallback();let t=this;Array.from(t.children).forEach(e=>{E.clone(t,e,!1)})}#ni(){let t=this;if(t.queryAll("[generated]").forEach(t=>t.remove()),t.data.length>0){let e=t.renderItems(),s=document.createElement("template");ty(e,s),Array.of(...s.children).forEach(e=>m.appendChild(t,e))}}firstUpdated(t){this.#ry.init(),this.#ry.attach(this.#rM.value),super.firstUpdated(t)}willUpdate(t){t.has("data")&&this.#ni(),super.willUpdate(t)}renderUI(){return tc`<div ${tf(this.#rM)} 
      dir="${td(this.direction)}"
      class="${tn(this.renderClass())}">
      ${this.renderWrappedUI()}
      </div>`}renderWrappedUI(t){return tc`<div 
      class="${tn(this.renderWrappedClass())}">
      <slot name="${td(t)}"></slot>
      </div>`}renderWrappedClass(){return{}}renderItems(){return""}initData(){return this.settings(R)}previous(){this.#ry.previous()}next(){this.#ry.next()}reset(){this.#ry.reset()}isNavigable(t){return t?.tagName===this.childTagName}onDataRead(t){this.data=t}onBusEvent(t){let e,s;({owner:e,item:s}=t.detail),e!=this&&(!s?.disabled||e?.selectable)&&this.reset()}onSelected(t){this.#ns.notify(t)}get focused(){return this.#ry.focused}get selected(){return this.#ry.selected}get childTagName(){return""}get items(){return this.queryAll(this.childTagName,!0)}get generated(){return this.items.filter(t=>t.hasAttribute("generated"))}get active(){let t=this.items.filter(t=>t.hasAttribute("active"));return this.multiple?t:t.pop()}childByName(t="",e=!1){return this.query(`${this.childTagName}[name="${t}"]`,e,!0)}settings(t){let e=customElements.getName(t)?.toUpperCase()||"GS-ITEM",s=eo.allProperties(t),i=Array.from(this.children).filter(t=>t.tagName===e).map(t=>c.proxify(t,s));return i.filter(t=>t.active).forEach((t,e)=>t.active=0===e),i}static{this.define("gs-group")}},eI=class extends eo{static styles=tl`
    :host {
      --gs-icon-super-color : cornflowerblue;
      --gs-icon-content : '';
    }
    i::after {
      top: -8px;
      font-size: 0.7em;
      position: relative;
      content: var(--gs-icon-content);
      content: attr(data-super);
      color: var(--gs-icon-super-color);
    }`;static properties={name:{reflect:!0,hasChanged:tA},size:{reflect:!0,type:Number,hasChanged:tL},color:{reflect:!0,...tG},superColor:{attribute:"super-color"},super:{reflect:!0},clickCss:{attribute:"click-css"},hoverCss:{attribute:"hover-css"},_clicked:{attribute:!1},_hovered:{attribute:!1}};#sM=to();constructor(){super()}updated(t){t.has("_clicked")&&this._clicked&&this.#nr()}renderUI(){return this.setCSSProperty(":host","--gs-icon-super-color",this.superColor),tc`<i  ${tf(this.#sM)}
       class="bi ${tn(this.renderClass())}"
       data-super="${td(this.super)}"
       @click="${this.animate}"
       @mouseover="${this.#iK}"
       @mouseout="${this.#iX}"></i>`}renderClass(){return{...super.renderClass(),[`text-${this.color}`]:this.color,[`bi-${this.name}`]:this.name,fs:this.size>0,[`fs-${this.size}`]:this.size>0,[this.clickCss]:this._clicked,[this.hoverCss]:this._hovered}}async #nr(){let t=a.asNum(this.dataset.delay,1);t>0&&(await a.timeout(1e3*t),this._clicked=!1)}#iK(t){this.hover(!0)}#iX(t){this.hover(!1)}animate(){this._hovered=!1,this._clicked=!0}hover(t=!1){t&&(this._clicked=!1),this._hovered=t}static{this.define("gs-icon")}},eR=class extends eo{static styles=tl`.indent {
      --gs-indent : 10px;
      margin-left: var(--gs-indent);
      margin-right: var(--gs-indent);
    }`;static properties={flat:{type:Boolean},size:{type:Number,hasChanged:tL},multiplier:{type:Number,hasChanged:tL}};constructor(){super(),this.size=1,this.multiplier=10}renderUI(){let t=this.size*this.multiplier;return tc`<span class="indent" style="--gs-indent: ${t}px;"></span>`}static{this.define("gs-indent")}};let eM={reflect:!0,type:Number,hasChanged:tN};var eD=class extends eo{static properties={src:{hasChanged:tA},width:eM,height:eM,opacity:eM,invert:eM,grayscale:eM,brightness:eM,blur:eM,contrast:eM,saturate:eM,hue:eM,sepia:eM,alt:{},loading:{}};#na=to();#ra=l.id;constructor(){super(),this.dynamicStyle(this.#ra)}shouldUpdate(t){return this.#i3(),this.src}renderUI(){return tc`<img ${tf(this.#na)} 
            @load="${this.#rH}"
            src="${this.src}" 
            alt="${this.alt}" 
            loading="${td(this.loading)}" 
            class="${this.#ra}" 
            data-gs-class="${this.#ra}">
          </img>`}get complete(){return this.#na.value?.complete||!1}get #sT(){return this.dynamicStyle(this.#ra).style}#nn(){let t=this.#no();return{width:this.width>0?this.width:void 0,height:this.height>0?this.height:void 0,filter:t.length>0?t.join(" "):""}}#no(){let t=[];return this.blur>0&&t.push(`blur(${this.blur}px)`),this.invert>0&&t.push(`invert(${this.invert})`),this.opacity>0&&t.push(`opacity(${this.opacity})`),this.contrast>0&&t.push(`contrast(${this.contrast})`),this.grayscale>0&&t.push(`grayscale(${this.grayscale})`),this.brightness>0&&t.push(`brightness(${this.brightness})`),this.hue>0&&t.push(`hue-rotate(${this.hue}deg)`),this.sepia>0&&t.push(`sepia(${this.sepia}%)`),this.saturate>0&&t.push(`saturate(${this.saturate}%)`),t}#i3(){let t=this.#sT;t.filter=this.#no().join(" ").trim(),t.width=this.width>0?`${this.width}px`:"",t.height=this.height>0?`${this.height}px`:""}#rH(t){let e=t.target;e&&(this.height=this.height||e.height,this.width=this.width||e.width,this.emit("loaded",{width:e.width,height:e.height,element:e},!0))}static{this.define("gs-image")}},eU=class t extends eo{static properties={type:{...tK}};static options={id:{},type:{},min:{type:Number},max:{type:Number},size:{type:Number},resizable:{type:Boolean},autofit:{type:Boolean},vPos:{attribute:"h-pos"},hPos:{attribute:"v-pos"}};constructor(){super();let t=this;t.autofit=!0,t.#rw(t).map((e,s,i)=>t.#nl(e,s,i,0))}connectedCallback(){super.connectedCallback(),this.autofit&&m.root(this)===document.body&&document.body.classList.add("vh-100")}renderUI(){let t=this,e=t.#rw(t).map((e,s,i)=>t.#nh(e,s,i));return tc`<div  dir="${td(t.direction)}" class="d-flex flex-fill w-100 h-100 ${tn(t.renderClass())}">${e}</div>`}renderClass(){let t=tJ.isHorizontal(this.type);return{...super.renderClass(),"flex-column":t}}#rw(e){return R.collect(e).map(e=>c.proxify(e,t.options))}#nc(t){return t.size>0||t.min>0||t.max>0||t.resizable}#nl(t,e,s,i=0){let r=this;r.#rw(t.self).map((t,e,s)=>r.#nl(t,e,s,i+1)),r.#nc(t)&&r.dynamicStyle(`gsd-${i}-${e}`)}#nh(t,e,s,i=0){let r=this,a=t.self.parentElement.type||"vertical",n=r.#rw(t.self).map((t,e,s)=>r.#nh(t,e,s,i+1)),l=t.min,h=t.max,c=t.template,d=r.#aI(t),u=`#${d?.id}`!==c,p=t.type||a||"vertical",m=tJ.isHorizontal(p),g=n.length>0&&m?"flex-column":"",f=`gsd-${i}-${e}`,y=r.#nd(t,g,f),b=r.#nu(t,m);r.dynamicStyle(f,b);let v=t.name?tc`<slot name="${t.name}"></slot>`:"",C=tc`<div id="${td(t.id)}" class="d-flex ${tn(y)}">
            ${n}
            ${tC(d)}
            ${c&&u?tc`<gs-template flat src="${c}"></gs-template>`:""}
            ${v}
            </div>`;if(!t.resizable)return C;let w=e===s.length-1?"end":"start",S=r.#rB(l,h,a,w);return e===s.length-1?[S,C]:[C,S]}#aI(t){let e=t.self.firstElementChild;return m.isTemplateElement(e)?e:void 0}#nd(t,e,s){let i=this.#nc(t),r=i?"":"flex-grow-1",a=t.vPos,n=t.hPos;return n=n?`align-items-${n}`:"",a=a?`justify-content-${a}`:"",this.mapCSS(t.css,{[s]:i,[e]:e,[r]:r,[n]:n,[a]:a})}#nu(t,e){let s=t.size||t.min,i=t.max||t.size,r={};return e?(r["min-height"]=s>0?`${s}px`:void 0,r["max-height"]=i>0?`${i}px`:void 0):(r["min-width"]=s>0?`${s}px`:void 0,r["max-width"]=i>0?`${i}px`:void 0),r}#rB(t,e,s,i){return tc`<gs-splitter split="${s}" resize="${i}" min="${t}" max="${e}"></gs-splitter>`}static{this.define("gs-layout")}},eO=class extends eo{static properties={clickCss:{attribute:"click-css"},hoverCss:{attribute:"hover-css"},autofocus:{type:Boolean},disabled:{type:Boolean,reflect:!0},size:{type:Number},text:{...tG},color:{...tG},url:{},ping:{},icon:{},title:{},tooltip:{},target:{}};#iW=to();#iY=to();constructor(){super(),this.url="#"}firstUpdated(t){super.firstUpdated(t),this.autofocus&&!this.disabled&&this.focus()}renderUI(){return tc`
      <a ${tf(this.#iW)}  
        dir="${td(this.direction)}"
        title="${td(this.translate(this.tooltip))}" 
        href="${td(this.url)}" 
        ping="${td(this.ping)}" 
        target="${td(this.target)}"
        class="${tn(this.renderClass())}" 
        ?disabled=${this.disabled} 
        @mouseover="${this.#iK}"
        @mouseout="${this.#iX}"        
        @click="${this.#iM}">
        ${this.#iz}${this.#iG}
        </a>`}renderClass(){return{...super.renderClass(),active:this.active,[`fs-${this.size}`]:this.size>0,[`text-${this.text}`]:this.text,[`bg-${this.color}`]:this.color}}click(){this.#iW.value?.click()}focus(){requestAnimationFrame(()=>this.#iW.value?.focus())}get iconEl(){return this.#iY.value}#iM(t){if(this.iconEl?.animate(),this.notify(),"#"===this.url||a.isStringEmpty(this.url))return g.prevent(t),this.handle(t),!1}#iK(){this.iconEl?.hover(!0)}#iX(){this.iconEl?.hover(!1)}get #i0(){return this.translate(this.title)}get #iz(){return this.rtl?this.#i0:this.#i1}get #iG(){return this.rtl?this.#i1:this.#i0}get #i1(){return this.icon?this.#i2:tc`<slot name="icon"></slot>`}get #i2(){return tc`
    <gs-icon css="mx-1" ${tf(this.#iY)} 
    name="${this.icon}" 
    size="${this.size}" 
    click-css="${td(this.clickCss)}" 
    hover-css="${td(this.hoverCss)}" 
    data-delay="1"></gs-icon>`}static generate(t,e,s,i){return tc`<a class="${tn(e)}"
        tabindex="0"    
        ${tx(t,!0)}
        part="${td(t.part)}"
        tooltip="${td(t.tooltip)}"
        href="${td(t.url)}">        
        ${s||""}
        ${td(t.title)}
        <slot></slot> 
        ${i||""}
    </a>`}static{this.define("gs-link")}},eF=class extends eN{static properties={selectable:{reflect:!0,type:Boolean}};constructor(){super(),this.circular=!1,this.multiple=!1,this.selectable=!1}shouldUpdate(t){return this.data.length>0||this.items.length>0}renderClass(){return{...super.renderClass(),"list-group":!0}}renderWrappedUI(){return tc`<slot></slot>`}reset(){this.items.forEach(t=>t.reset()),this.notify()}renderItems(){return this.data.map(t=>tc`<gs-list-item generated
        .active="${td(!0===t.active)}"
        .autofocus="${td(!0===t.autofocus)}"
        .disabled="${td(!0===t.disabled)}" 
        icon="${td(t.icon)}" 
        href="${td(t.href)}" 
        target="${td(t.target)}" 
        title="${td(t.title)}"></gs-list-item>`)}isNavigable(t){return super.isNavigable(t)&&this.selectable}get childTagName(){return"GS-LIST-ITEM"}static{this.define("gs-list")}},eB=class extends eo{static properties={url:{},target:{},title:{},icon:{},size:{type:Number},autofocus:{type:Boolean,reflect:!0},disabled:{type:Boolean,reflect:!0},active:{type:Boolean,reflect:!0}};#np;#iW=to();constructor(){super(),this.binded()}connectedCallback(){super.connectedCallback(),this.#np=this.active}shouldUpdate(t){return this.parentComponent?.tagName==="GS-LIST"}firstUpdated(t){this.isMatchHashBang&&(this.active=!0)}renderUI(){return tc`<a  tabindex="0" ${tf(this.#iW)}
       href="${td(this.href)}" 
       target="${td(this.target)}" 
       class="${tn(this.renderClass())}">
        ${this.#nm()} 
        ${this.#ng()}
        <slot>${this.renderTemplate()}</slot>
      </a>`}renderClass(){let t={...super.renderClass(),"list-group-item":!0,"list-group-item-action":!0,[`fs-${this.size}`]:this.size>0,[this.#nf]:!0,active:this.isActive};return this.mapCSS(this.#ny,t)}get isActive(){return this.active&&this.isSelectable}get isSelectable(){return!a.asBool(this.disabled)||a.asBool(this.parentComponent.selectable)}get isMatchHashBang(){return a.isStringNonEmpty(this.url)&&this.url===location.hash}#i2(){return this.icon?tc`<gs-icon name="${this.icon}" size="${this.size}"></gs-icon>`:tc`<slot name="icon"></slot>`}#nb(){return this.title?tc`<span>${this.translate(this.title)}</span>`:tc`<slot name="title"></slot>`}#nm(){return this.rtl?this.#nb():this.#i2()}#ng(){return this.rtl?this.#i2():this.#nb()}toggle(){this.active=!this.active}reset(){this.active=this.autofocus||this.#np||!1}click(){this.#iW.value?.click()}focus(){requestAnimationFrame(()=>this.#iW.value?.focus())}get href(){return this.url?this.url:"#"}get #nv(){return this.parentComponent.dataset?.cssActive||""}get #nC(){return this.parentComponent.dataset?.cssInactive||""}get #nf(){return this.parentComponent.dataset?.cssItem||""}get #ny(){return this.isActive?this.#nv:this.#nC}static{this.define("gs-list-item")}},eH=class extends eo{static properties={pageX:{type:Number},pageY:{type:Number},screenX:{type:Number},screenY:{type:Number},clientX:{type:Number},clientY:{type:Number},offsetX:{type:Number},offsetY:{type:Number}};constructor(){super()}connectedCallback(){super.connectedCallback(),this.attachEvent(window,"mousemove",this.#nw.bind(this))}renderUI(){return tc`
    Offset(${this.offsetX}, ${this.offsetY}) 
    Viewport(${this.clientX}, ${this.clientY}) 
    Page(${this.pageX}, ${this.pageY}) 
    Screen(${this.screenX}, ${this.screenY})`}#nw(t){this.offsetX=t.offsetX,this.offsetY=t.offsetY,this.clientX=t.clientX,this.clientY=t.clientY,this.pageX=t.pageX,this.pageY=t.pageY,this.screenX=t.screenX,this.screenY=t.screenY}static{this.define("gs-mouse")}},eP=class extends eo{static styles=tl`
  :host {
      --gs-width : inherited;
      --gs-height : inherited;
      --gs-min-width: inherited;
      --gs-max-width: inherited;
      --gs-min-height: inherited;
      --gs-max-height: inherited;
  }
  .gs-movable {
    left: var(--mouse-x) !important;
    top: var(--mouse-y) !important;
   }`;static properties={shadow:{type:Boolean},border:{type:Boolean},color:{reflect:!0,...tG}};#ra=l.id;#iW=to();#eD=!1;constructor(){super(),this.dynamicStyle(this.#ra)}connectedCallback(){super.connectedCallback();let t=document.documentElement;this.attachEvent(t,"mousemove",this.#nS.bind(this)),this.attachEvent(t,"mousedown",this.#s3.bind(this)),this.attachEvent(t,"mouseup",this.#s5.bind(this))}firstUpdated(){super.firstUpdated(),Object.assign(this.dynamicStyle(this.#ra).style,{cursor:"move"})}renderUI(){let t=this;return tc`<div ${tf(t.#iW)} 
      data-gs-class="${t.#ra}"
      class="${tn(t.renderClass())}"
      @mousedown="${()=>t.#eD=!0}"
      @mouseup="${()=>t.#eD=!1}">
      <slot></slot>
      </div>`}renderClass(){return{...super.renderClass(),"gs-movable":!0,[this.#ra]:!0,"position-absolute":!0,border:this.border,"shadow-sm":this.shadow,[`text-${this.color}`]:this.color}}#n$(t){Object.assign(this.dynamicStyle(this.#ra).style,{"user-select":t?"none":""})}#nS(t){if(this.#eD){let e=this.#iW.value.style;e?.setProperty("--mouse-x",t.clientX+"px"),e?.setProperty("--mouse-y",t.clientY+"px")}}#s3(t){this.#n$(!0)}#s5(t){this.#n$(!1)}static{this.define("gs-movable")}},ez=class extends eN{static properties={type:tY,placement:tZ,vertical:{type:Boolean}};constructor(){super(),this.circular=!0,this.multiple=!1,this.type="pills",this.placement="start"}shouldUpdate(t){return this.data.length>0||this.query("gs-nav-item",!1,!0)}renderWrappedClass(){let t=tX.isBefore(this.placement),e="tabs"===this.type;return{nav:!0,[`nav-${this.type}`]:this.type,"flex-column":this.vertical,"border-bottom-0":this.vertical,"border-end":e&&t&&this.vertical,"border-start":e&&!t&&this.vertical,[`justify-content-${this.placement}`]:!this.vertical}}renderItems(){return this.data.map(t=>tc`<gs-nav-item generated
        .active="${!0===t.active}"
        .autofocus="${!0===t.autofocus}"
        .disabled="${td(!0===t.disabled)}" 
        icon="${td(t.icon)}" 
        href="${td(t.href)}" 
        target="${td(t.target)}" 
        title="${td(t.title)}">
        </gs-nav-item>`)}onFocused(t){}get childTagName(){return"GS-NAV-ITEM"}static{this.define("gs-nav")}},eG=class extends eo{static properties={href:{},target:{},title:{},icon:{},disabled:{type:Boolean},autofocus:{type:Boolean},active:{type:Boolean,reflect:!0},tooltip:{},badge:{type:Boolean},badgeColor:{...tG},badgeValue:{}};#iW=to();constructor(){super(),this.badgeColor="danger",this.badgeValue="!"}disconnectedCallback(){delete this[Symbol.for("gs-element")],super.disconnectedCallback()}shouldUpdate(t){return this.parentComponent?.tagName===this.parentType}firstUpdated(t){super.firstUpdated(t),this.autofocus&&!this.disabled&&this.focus()}renderUI(){return tc`<div class="nav-item position-relative ${tn(this.renderClass())}">${this.#iV}${this.#nx}</div>`}renderClass(){return this.mapCSS(this.#nE,super.renderClass())}reset(){this.active=this.autofocus||!1}click(){this.#iW.value?.click()}focus(){requestAnimationFrame(()=>this.#iW.value?.focus())}get parentType(){return"GS-NAV"}get isNav(){return!0}get vertical(){return this.parentComponent.vertical||!1}get placement(){return this.parentComponent.placement}get url(){return this.href&&this.target?this.href:"#"}get #i0(){return tc`<slot>${this.translate(this.title)}</slot>`}get #nk(){return this.icon?tc`<gs-icon name="${this.icon}"></gs-icon>`:tc`<slot name="icon"></slot>`}get #iz(){return this.rtl?this.#i0:this.#nk}get #iG(){return this.rtl?this.#nk:this.#i0}get #iV(){let t=this.mapCSS(this.#nT,{});return this.active&&(t=this.mapCSS(this.#nA+" "+this.#nv,t)),tc`<a tabindex="0" type="button" role="nav" 
     ${tf(this.#iW)}
     class="nav-link ${tn(t)}"
     href="${td(this.url)}" 
     target="${td(this.target)}"
     title="${td(this.tooltip)}"> 
        ${this.#iz} 
        ${this.#iG}
      </a>`}get #nx(){if(!this.badge)return"";let t={"top-0":!0,"end-0":!0,"translate-middle-y":!0,[`text-bg-${this.badgeColor}`]:this.badgeColor};return tc`<span class="badge rounded-pill position-absolute ${tn(t)}">${this.badgeValue}</span>`}get #nE(){return this.parentComponent.dataset?.cssItem||""}get #nT(){return this.parentComponent.dataset?.cssButton||""}get #nv(){return this.parentComponent.dataset?.cssActive||""}get #nL(){return tW.indexOf(this.parentComponent.type)}get #nA(){let t=this.vertical,e=tX.isBefore(this.placement);switch(this.#nL){case 1:return"rounded text-bg-primary";case 2:if(t)if(e)return"shadow-none border border-end-0";else return"shadow-none border border-start-0";return"shadow-none border border-bottom-0";case 3:return"shadow-none border-bottom border-3 fw-medium";default:return""}}static{this.define("gs-nav-item")}},eq=class extends eo{static properties={color:{},target:{},autoremove:{type:Boolean},opened:{type:Boolean},opacity:{type:Number},padding:{type:Number},radius:{type:Number}};#ra=l.id;#nN=l.id;constructor(){super(),this.color="#000",this.opacity=.7,this.padding=1,this.radius=6,this.dynamicStyle(this.#ra),this.dynamicStyle(this.#nN)}connectedCallback(){super.connectedCallback();let t=this;t.attachEvent(window,"resize",()=>t.requestUpdate())}renderUI(){if(!this.opened)return"";let t=this.#nI;return t?tc`<svg xmlns="http://www.w3.org/2000/svg" xmlns:space="preserve"
            xmlnsXlink="http://www.w3.org/1999/xlink"
            version="1.1" preserveAspectRatio="xMinYMin slice"
            viewBox="0 0 ${window.innerWidth} ${window.innerHeight}"
            class="gs-overlay gs-overlay-animated ${this.#ra}"
            @click="${this.reset.bind(this)}">
            ${t}
        </svg>`:""}async firstUpdated(t){this.dynamicStyle(this.#ra,{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",zIndex:"10000",position:"fixed",top:"0",left:"0",width:"100%",height:"100%"}),super.firstUpdated(t)}open(){this.opened=!0}close(){this.opened=!1}toggle(){this.opened=!this.opened}reset(){this.autoremove&&this.close()}get #nI(){let t=m.query(this.target);if(!this.target)return"";let e=this.#nR(t),s={fill:this.color,opacity:this.opacity,pointerEvents:"auto",cursor:"auto"};return this.dynamicStyle(this.#nN,s),tv`<path class="${this.#nN}"  d="${e}"></path>`}#nR(t){let e=window.innerWidth,s=window.innerHeight,i=t.getBoundingClientRect(),r=this.padding,a=this.radius,n=i.width+2*r,l=i.height+2*r,h=Math.floor(Math.max(Math.min(a,n/2,l/2),0)),c=i.x-r+h,d=i.y-r,u=n-2*h,p=l-2*h;return`M${e},0L0,0L0,${s}L${e},${s}L${e},0Z
            M${c},${d} 
            h${u} 
            a${h},${h} 0 0 1 ${h},${h} 
            v${p} 
            a${h},${h} 0 0 1 -${h},${h} 
            h-${u} 
            a${h},${h} 0 0 1 -${h},-${h} 
            v-${p} 
            a${h},${h} 0 0 1 ${h},-${h} z`.replace(/[\t\n]/g," ")}static{this.define("gs-overlay")}},ej=class extends eo{static properties={storage:{},size:{...t3},first:{type:Boolean},last:{type:Boolean},next:{type:Boolean},previous:{type:Boolean},pages:{type:Number},labelFirst:{attribute:"label-first"},labelLast:{attribute:"label-last"},labelNext:{attribute:"label-next"},labelPrevious:{attribute:"label-previous"},cssItem:{attribute:"css-item"}};#sM=to();constructor(){super(),this.pages=5,this.labelFirst="&laquo;",this.labelLast="&raquo;",this.labelNext="&rsaquo;",this.labelPrevious="&lsaquo;",this.#rL&&(this.slot="extra")}renderUI(){let t=this,e=Math.floor((t.pages-1)/2),s=t.dataController?.page||0,i=s>0?s+e:t.pages;return tc`<nav 
        dir="${td(t.direction)}"
        @click="${t.#iM}"
        @keyup="${t.#iD}"
        @keydown="${t.#M}">
        <ul ${tf(t.#sM)} class="${tn(t.renderClass())}">
        ${t.#nm()}
        ${t.#nM()}
        ${tu(tg(s-e<1?1:s-e,i+1),e=>t.#nD(e,"","",e===s))}
        ${t.#nU()}
        ${t.#nO()}
        </ul></nav>`}renderClass(){let t=this.size?t5[this.size]||this.size:"";return{...super.renderClass(),pagination:!0,[`pagination-${t}`]:t}}updated(){let t=this.#sM.value;t&&this.isFocused&&t.querySelector(".active > a")?.focus()}onDataRead(){this.requestUpdate()}#nm(){return this.first?this.#nD(this.labelFirst,"first","First page"):""}#nO(){return this.last?this.#nD(this.labelLast,"last","Last page"):""}#nM(){return this.previous?this.#nD(this.labelPrevious,"previous","Previous page"):""}#nU(){return this.next?this.#nD(this.labelNext,"next","Next page"):""}#nD(t="",e="",s="",i=!1){return t=a.decodeHTMLEntities(t),tc`<li class="page-item ${i?"active":""}">
              <a class="page-link ${this.cssItem}" 
                 name="${e}" 
                 title="${this.translate(s)}" 
                 href="#">${this.translate(t)}</a>
            </li>`}#iM(t){let e=this.#nF(t,"a");if(!e)return;let s=this.dataController;if(!s)return;let i=e.name||e.text;switch(this.emit(i,e),i){case"first":return s.firstPage();case"last":return s.lastPage();case"next":return s.nextPage();case"previous":return s.prevPage()}s.page=i}#M(t){let e=this.#nF(t,"li"),s=null;switch(t.code){case"ArrowLeft":s=e?.previousElementSibling;break;case"ArrowRight":s=e?.nextElementSibling}s=s?.querySelector("a"),s?.focus()}#iD(t){"Space"===t.code&&this.#nF(t,"a")?.click()}#nF(t,e){let s=t.target.closest(e)||t.target;return s.tagName===e.toUpperCase()?s:void 0}get #rL(){return this.parentComponent?.tagName==="GS-TABLE"}static{this.define("gs-pagination")}},eV=class extends eo{static properties={placement:{...tZ},position:{...t0},trigger:{},target:{},autoclose:{type:Boolean},autofocus:{type:Boolean},opened:{type:Boolean},hPos:{type:Number,attribute:"h-pos"},vPos:{type:Number,attribute:"v-pos"},wMin:{type:Number,attribute:"w-min"},wMax:{type:Number,attribute:"w-max"},hMin:{type:Number,attribute:"h-min"},hMax:{type:Number,attribute:"h-max"}};#nB=null;#nH=to();#ra=l.id;constructor(){super(),this.autofocus=!0,this.autoclose=!0,this.trigger="click",this.position="absolute",this.placement="bottom",this.dynamicStyle(this.#ra)}connectedCallback(){super.connectedCallback(),this.#rN(),this.attachEvent(window,"resize",this.close.bind(this)),this.on("mouseleave",this.#nP.bind(this))}firstUpdated(t){let e=this;requestAnimationFrame(()=>{e.#nz(),e.#nG()}),super.firstUpdated()}updated(){this.#nG(),this.autofocus&&this.focus(),this.notify(),this.#nq()}willUpdate(t){return t.has("opened")&&this.#nq(),super.willUpdate(t)}renderUI(){return tc`<div 
      ${tf(this.#nH)}
      dir="${td(this.direction)}"
      class="fade ${tn(this.renderClass())}"
      data-gs-class="${this.#ra}"
      @keydown="${this.#M}">
      ${this.renderTemplate()}
      <slot></slot>
    </div>`}renderClass(){return{...super.renderClass(),show:this.opened,[this.#ra]:!0,[`position-${this.position}`]:this.position}}focus(){this.query("[tabindex], input, select, textarea, button, a",!0)?.focus()}open(){this.opened=!0}close(){this.opened=!1}toggle(){this.opened=!this.opened}popup(t=0,e=0){let s={top:"0px",left:"0px",translate:`${t}px ${e}px`};this.#nz(s)}#M(t){"Escape"===t.key&&this.close()}#nG(){if(this.vPos||this.hPos){let t={top:"0px",left:"0px",translate:`${this.hPos}px ${this.vPos}px`};Object.assign(this.dynamicStyle(this.#ra).style,t)}else if(this.target){let t=m.query(document.documentElement,this.target);t=t.renderRoot?.firstElementChild||t,U.popupFixed(this.placement,this.#nj,t)}}#nz(t={}){let e=this.dynamicStyle(this.#ra);this.wMax&&(t["max-width"]=`${this.wMax}px`),this.wMin&&(t["min-width"]=`${this.wMin}px`),this.hMax&&(t["max-height"]=`${this.hMax}px`),this.hMin&&(t["min-height"]=`${this.hMin}px`),Object.assign(e.style,t)}#rI(t){if(this.#nB=t,t instanceof Event&&(g.prevent(t),this.#nB=t.composedPath().filter(t=>!(t instanceof HTMLSlotElement)).shift()),this.placement){U.popupFixed(this.placement,this.#nj,this.#nB),this.opened=!0;return}let e=t.clientX,s=t.clientY,i=this.#nj.getBoundingClientRect(),r=e+i.width>window.innerWidth,a=s+i.height>window.innerHeight;return r&&(e=window.innerWidth-i.width),a&&(s=window.innerHeight-i.height),this.popup(e,s),!0}#nq(){Object.assign(this.dynamicStyle(this.#ra).style,{display:this.opened?"":"none"})}#rN(){let t=this,e=m.queryAll(document.documentElement,t.target);t.trigger.split(" ").forEach(s=>{e.forEach(e=>t.attachEvent(e,s,t.#rI.bind(t)))})}#nP(t){this.autoclose&&this.close()}get #nj(){return this.#nH.value}static{this.define("gs-popup")}},e_=class extends eo{static properties={placement:{...tZ},target:{},trigger:{},title:{},content:{},opened:{type:Boolean}};#nV=to();#nH=to();#ra=l.id;#n_=l.id;constructor(){super(),this.placement="top",this.trigger="hover",this.content="",this.dynamicStyle(this.#ra),this.dynamicStyle(this.#n_)}firstUpdated(t){super.connectedCallback(),this.#nW(),this.#nG(),super.firstUpdated(t)}willUpdate(t){super.willUpdate(t),this.#nG()}renderUI(){let t=this.title?tc`<div class="popover-header ${this.cssHead}">${this.translate(this.title)}</div>`:"";return tc`
    <div ${tf(this.#nH)} 
        dir="${td(this.direction)}"
        data-popper-placement="${this.placement}"
        class="${tn(this.renderClass())}" 
        data-gs-class="${this.#ra}" 
        role="tooltip">
        <div ${tf(this.#nV)} 
          class="popover-arrow ${this.#n_}" 
          data-gs-class="${this.#n_}">
        </div>
        ${t}
        <div class="popover-body">
          ${this.renderTemplate()}
          ${this.content}
          <slot></slot>
        </div>
    </div>            
    `}renderClass(){return{...super.renderClass(),popover:!0,"bs-popover-auto":!0,fade:!0,show:this.opened,[this.#ra]:!0}}open(){this.opened=!0}close(){this.opened=!1}toggle(){this.opened=!this.opened}get isFocusTrigger(){return this.trigger.includes("focus")}get isHoverTrigger(){return this.trigger.includes("hover")}get #sM(){switch(this.target){case"@parent":return this.parentElement;case"@previous":return this.previousElementSibling;case"@next":return this.nextElementSibling;default:return m.query(document.body,this.target)}}#nG(){let t=this.#nj;t&&(this.opened?U.popupAbsolute(this.placement,t,this.#sM,this.#nY):this.dynamicStyle(this.#ra,{top:"-1000px",left:"-1000px"}))}#nW(){let t=this.#sM;this.isHoverTrigger&&(g.attach(this,t,"mouseover",this.open.bind(this)),g.attach(this,t,"mouseleave",this.close.bind(this))),this.isFocusTrigger&&(g.attach(this,t,"click",this.#nJ.bind(this)),g.attach(this,this.#nj,"mouseleave",this.close.bind(this)),g.attach(this,window,"click",this.close.bind(this)))}#nJ(t){g.prevent(t),this.toggle()}get #nY(){return this.#nV.value}get #nj(){return this.#nH.value}static{this.define("gs-popover")}},eW=class extends eo{static properties={min:{reflect:!0,type:Number},max:{reflect:!0,type:Number},step:{reflect:!0,type:Number},value:{reflect:!0,type:Number},label:{reflect:!0}};#ra=l.id;constructor(){super(),this.min=0,this.step=1,this.max=100,this.value=0,this.styles={width:"0%"},this.dynamicStyle(this.#ra)}renderClass(){return{...super.renderClass(),"progress-bar":!0,[this.#ra]:!0}}renderUI(){this.#nK();let t={min:this.min,max:this.max,step:this.step,value:this.value,percentage:this.percentage};return tc`
    <div class="progress" @keydown="${this.#nX}" dir="${td(this.direction)}">
        <div class="${tn(this.renderClass())}" 
             
             role="progressbar"
             tabindex="0">
             ${tk(this.label,t)}
        </div>
    </div>    
    `}willUpdate(t){if(super.willUpdate(t),t.has("value")){let e=this.step+t.get("value");e=this.#i3(e,e),t.set("value",e)}}updated(t){t.has("value")&&this.notify()}increase(t){return t=a.isNumber(t)?t:this.step,this.value=this.#i3(this.value+t,this.value),!0}decrease(t){return t=a.isNumber(t)?t:this.step,this.value=this.#i3(this.value-t,this.value),!0}get percentage(){return Math.trunc(this.value/this.max*100)}#nK(){this.styles.width=`${this.percentage}%`,this.dynamicStyle(this.#ra,this.styles)}#i3(t,e=0){return(t=a.asNum(t,a.asNum(e)))>this.max&&(t=this.max),t<this.min&&(t=this.min),t}#nX(t){switch(t.code){case"ArrowUp":case"ArrowRight":return this.increase();case"ArrowLeft":case"ArrowDown":return this.decrease()}}static{this.define("gs-progress")}},eY=class extends eo{static styles=tl`.spinner-border { border: var(--bs-spinner-border-width) solid currentcolor; border-right-color: transparent; }`;static properties={color:{...tG,reflect:!0},small:{type:Boolean,reflect:!0},pulsar:{type:Boolean}};constructor(){super()}renderUI(){return tc`<div class="${tn(this.renderClass())}" role="status"></div>`}renderClass(){return{...super.renderClass(),"spinner-border":!this.pulsar,"spinner-grow":this.pulsar,[`text-${this.color}`]:this.color,"spinner-border-sm":!this.pulsar&&this.small,"spinner-grow-sm":this.pulsar&&this.small}}static{this.define("gs-spinner")}},eJ=class extends eo{static properties={split:{reflect:!0},resize:{...tZ,hasChanged:tA},size:{type:Number,hasChanged:tL}};#nZ=0;#ra=l.id;#nQ=l.id;#rM=to();#rO;constructor(){super(),this.size=8,this.resize="start",this.dynamicStyle(this.#ra),this.#io(),this.#rO=new et(this)}disconnectedCallback(){super.disconnectedCallback()}firstUpdated(t){super.firstUpdated(t),this.#rO.attach(this.#rB)}renderUI(){return tc`<div ${tf(this.#rM)} 
            @dblclick="${this.#rP}"
            data-gs-class="${this.#ra}" 
            class="${tn(this.renderClass())}">
            <slot></slot>
        </div>`}renderClass(){return{...super.renderClass(),splitter:!0,[this.#ra]:!0}}updated(t){this.#n0()}onStartMove(t){this.#nZ=this.isVertical?t.clientX:t.clientY,this.#n1(!0),g.send(globalThis,"gs-split",{start:!0})}onMouseMove(t){let e=this.isVertical?t.clientX:t.clientY;this.#n2(e)}onEndMove(t){this.#n5(),this.#n1(!1),g.send(globalThis,"gs-split",{stop:!0})}get isVertical(){return"vertical"===this.split}get isHorizontal(){return!this.isVertical}get start(){return this.previousElementSibling}get end(){return this.nextElementSibling}get target(){let t=this.#n3?this.start:this.end;return t=t||this.parentElement,(t=m.isGSElement(t)?t.self:t)instanceof ShadowRoot&&(t=Array.from(t.children).filter(t=>!m.isStyleValue(t,"display","none")).pop()),t.classList?.add(this.#nQ),t}get #n3(){let t=this.resize;return"start"===t||"top"===t}get #rB(){return this.#rM.value}get #n4(){return this.target.style}get #n9(){let t="iframe,embed,portal";return[...m.queryAll(this.previousElementSibling,t),...m.queryAll(this.nextElementSibling,t)]}#io(){if(!this.id)return;let t=l.hashCode(location.origin+location.pathname),e=localStorage.getItem(`gs-splitter-${t}-${this.id}`);e=a.asNum(e),this.#i3(e)}#n5(){if(!this.id)return;let t=d.getComputedStyledMap(this.target),e=this.isVertical?t.get("width"):t.get("height");if(!e)return;let s=l.hashCode(location.origin+location.pathname);localStorage.setItem(`gs-splitter-${s}-${this.id}`,e)}#rP(t){let e=0,s="";this.isVertical?(s="width",e=this.target.clientWidth):(s="height",e=this.target.clientHeight);let i=d.styleValue(this.target,`min-${s}`),r=d.styleValue(this.target,`max-${s}`);i=a.asNum(i.value),e=((r=a.asNum(r.value))-i)/2>e?r:i,this.#i3(e)}#n1(t=!0){let e="pe-none";t?this.#n9.filter(t=>!m.hasClass(t,"pe-none")).forEach(t=>{m.toggleClass(t,e,!0),t.dataset.gsSplitter=!0}):this.#n9.filter(t=>t.dataset.gsSplitter).forEach(t=>{m.toggleClass(t,e,!1),delete t.dataset.gsSplitter})}#n2(t){let e=this;requestAnimationFrame(()=>{e.isVertical?e.#n6(t):e.#n7(t)})}#n6(t){let e=this.target,s=this.#n3?1:-1,i=(t-this.#nZ)*s;i+=e.clientWidth,i=i<0?0:i,this.#n4.width=i+"px",this.#nZ=t}#n7(t){let e=this.target,s=this.#n3?1:-1,i=(t-this.#nZ)*s;i+=e.clientHeight,i=i<0?0:i,this.#n4.height=i+"px",this.#nZ=t}#i3(t=0){if(t<=0)return;this.#nZ=t;let e=this.isVertical?"width":"height";this.#n4[e]=t+"px"}#n0(){let t=this.isVertical?"width":"height",e=this.isVertical?"height":"width",s=this.isVertical?"w-resize":"n-resize",i={[t]:`${this.size}px`,[e]:"100%","border-width":"1px",cursor:s,"border-color":"darkgray","border-style":"solid","background-color":"lightgray"};this.dynamicStyle(this.#ra,i)}static{this.define("gs-splitter")}},eK=class extends eG{static properties={name:{}};constructor(){super(),this.css=this.#n8+this.css}get #n8(){return this.shouldUpdate()?a.normalize(this.parentComponent?.tabCSS):""}get parentType(){return"GS-TAB-GROUP"}get panel(){return this[Symbol.for("gs-element")]||this.owner.panelByName(this.name)}static{this.define("gs-tab-header")}},eX=class extends eo{static properties={name:{},template:{},active:{type:Boolean,reflect:!0}};constructor(){super(),this.active=!1}disconnectedCallback(){delete this[Symbol.for("gs-element")],super.disconnectedCallback()}shouldUpdate(t){return this.parentComponent?.tagName===this.parentType}renderUI(){return tc`<div  
      dir="${td(this.direction)}" 
      class="${tn(this.renderClass())}">
      <slot>
      ${this.renderTemplate()}
      </slot></div>`}renderClass(){return{...super.renderClass(),"tab-pane":!0,"d-none":!this.active}}get parentType(){return"GS-TAB-GROUP"}get owner(){return this.closest(this.parentType.toLowerCase(),-1,!0)||m.component(this)}get form(){return this.closest("form",-1,!0)}get tab(){return this[Symbol.for("gs-element")]||this.owner.tabByName(this.name)}get tabs(){return this.owner.tabs}static{this.define("gs-tab-panel")}},eZ=class extends ez{static properties={panelCSS:{attribute:"css-panel"},tabCSS:{attribute:"css-tab"}};constructor(){super()}firstUpdated(t){super.firstUpdated(t);let e=this;e.items.forEach(t=>e.#ot(t)),e.onSelected(e.active)}shouldUpdate(t){return this.data.length>0||this.items.length>0}willUpdate(t){let e=this;t.has("data")&&e.items.forEach(t=>e.#ot(t)),super.willUpdate(t)}renderClass(){return{...super.renderClass(),"d-flex":this.vertical}}renderWrappedUI(){let t=tX.isAfter(this.placement),e=[super.renderWrappedUI("tabs"),tc`<div class="tab-content flex-fill ${this.panelCSS}"  dir="${td(this.direction)}">
        <slot name="panels"></slot>
      </div>
      <slot class="d-none"></slot>`];return t?e.reverse():e}renderWrappedClass(){let t=super.renderWrappedClass();return this.mapCSS(this.tabCSS,t)}renderItems(){let t=this.#oe(),e=this.#os();return t.concat(...e)}#oe(){return this.data.map(t=>(t.name||(t.name=l.id),tc`<gs-tab-header generated slot="tabs"
        .active="${td(!0===t.active)}"
        .autofocus="${td(!0===t.autofocus)}"
        .disabled="${td(!0===t.disabled)}" 
        icon="${td(t.icon)}"
        title="${td(t.title)}"
        name="${t.name}"></gs-tab-header>`))}#os(){return this.data.map(t=>(t.name||(t.name=l.id),tc`<gs-tab-panel generated  
        slot="panels" name="${t.name}" 
        .active="${td(t.active)}"
        template="${td(t.template)}"></gs-tab-panel>`))}onSelected(t){t?.click();let e=this.#ot(t);e&&(e.active=!0)}onDeselected(t){let e=this.#ot(t);e&&(e.active=!1)}get childTagName(){return"GS-TAB-HEADER"}get tabs(){return this.items}get panels(){return this.queryAll("gs-tab-panel",!1,!0)}tabByName(t="",e=!1){return super.childByName(t,e)}panelByName(t="",e=!1){return this.query(`gs-tab-panel[name="${t}"]`,e,!0)}#ot(t){if(!t)return null;let e=this.data?.length>0,s=Symbol.for("gs-element"),i=t[s]||this.panelByName(t.name,e);return i&&!t[s]&&(t[s]=i,i[s]=t),i}static{this.define("gs-tab-group")}},eQ=class t extends eo{static #oi=["sort-up","arrow-down-up","sort-down-alt"];static styles=tl`th:hover { opacity: 50% !important; }`;static CELLS={align:{},width:{},width:{},css:{},title:{},colspan:{},storage:{},ref:{},list:{type:Boolean},filter:{type:Boolean},hidden:{type:Boolean},fixed:{type:Boolean},filterType:{attribute:"filter-type"},cssFilter:{attribute:"css-filter"},cssHeader:{attribute:"css-header"},color:{...tG},...p.PROPERTIES};static properties={storage:{},color:{...tG},colorFilter:{...tG,attribute:"filter-color"},colorHead:{...tG,attribute:"head-color"},colorSelect:{...tG,attribute:"select-color"},colorSort:{...tG,attribute:"sort-color"},stripedColumn:{type:Boolean,attribute:"striped-column"},cssFilter:{attribute:"css-filter"},cssHeader:{attribute:"css-header"},divider:{type:Boolean},striped:{type:Boolean},hover:{type:Boolean},small:{type:Boolean},grid:{type:Boolean},borderless:{type:Boolean},sort:{type:Array,state:!0},columns:{type:Array,state:!0},key:{type:Number,state:!0},data:{type:Array},datacolumn:{type:Boolean},multisort:{type:Boolean},multiselect:{type:Boolean},protected:{type:Boolean},selectable:{type:Boolean},toggle:{type:Boolean},sortable:{type:Boolean}};#rY=[];#or=[];#oa=!1;constructor(){super(),this.headColor="secondary",this.colorSelect="info",this.columns=[],this.data=[],this.sort=[],this.key=0}get selected(){return this.dataController?.selected}set search(t){if(this.storage&&this.dataController)return this.dataController.search=t}connectedCallback(){this.#rY=R.proxify(this,t.CELLS),0===this.columns.length&&(this.columns=this.#rY.map(t=>t.name)),super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.dataController?.clearSelected(this.data),this.data=[]}renderClass(){return{...super.renderClass(),"user-select-none":this.protected,table:!0,"table-sm":this.small,"table-hover":this.hover,"table-striped":this.striped,"table-bordered":this.grid,"table-borderless":this.borderless,"table-striped-columns":this.stripedColumns,[`table-${this.color}`]:this.color}}firstUpdated(){this.dataController?.read()}willUpdate(t){this.columns.length!=this.sort.length&&(this.sort=Array(this.columns.length).fill(0)),this.datacolumn&&this.data.length>0&&(this.columns=this.data[0],this.data=this.data.slice(1)),t.has("multiselect")&&!this.multiselect&&this.dataController?.clearSelected(),t.has("selectable")&&!this.selectable&&this.dataController?.clearSelected(),(t.has("sortable")||t.has("multisort"))&&(this.sort=Array(this.columns.length).fill(0),this.#or=[]),super.willUpdate(t)}renderUI(){let t=this,e=t.colorHead?`table-${t.colorHead}`:"";return tc`
      <table  
       dir="${td(t.direction)}"
       @keyup="${t.#iD}"
       @keydown="${t.#M}"
       class="${tn(t.renderClass())}">
        <thead class="${td(e)}">
          ${t.#on()}
          <tr @click=${t.#oo}>
            ${t.columns.map((e,s)=>t.#ol(e,s))}
          </tr>
        </thead>
        <tbody @click=${t.#s_} @contextmenu=${t.#s_} class="${t.divider?"table-group-divider":""}" role="button">
          ${t.data.map((e,s)=>t.#oh(e,s))}
          ${t.#oc()}
        </tbody>
      </table>
      <slot name="extra">${t.#od()}</slot>
    `}#od(){return this.#oa?tc`<gs-data-handler type="cached" mode="" id=${this.#oa} generated></gs-data-handler>`:""}onDataRead(t){let e=this;e.data=t,t.length>0&&e.#Y&&e.#rY.forEach((t,s)=>{t.columnType=e.#ou(s)})}clear(){this.#op.forEach(t=>t.value=""),this.dataController?.filter([])}valueAt(t,e){return this.data.length>t?this.data[t][e]:void 0}get #op(){return this.queryAll("th > input, th > select",!0,!0)}get #Y(){return this.#rY.filter(t=>t.filter).length>0}#ou(t){let e=this.#rY[t],s=this.valueAt(0,this.columns[t]);e.type=e.type||"text";let i={string:"text",currency:"number",timestamp:"datetime-local"}[e.type],r=s instanceof Date?"date":typeof s;return s?r:i||e.type}#on(){let t=this;return t.#Y?tc`<tr>${t.columns.map((e,s)=>t.#om(e,s))}</tr>`:""}#om(t,e){let s,i,r=this.#rY[e];if(!r?.filter)return tc`<th></th>`;let n=r.childElementCount>0,l="date"===r.columnType;l&&(s=r.format||a.getDateFormat(r.language||a.language));let h=`${a.normalize(this.cssFilter)} ${a.normalize(t.cssFilter)}`,c=`text-bg-${a.normalize(t.color||this.colorFilter)}`;if((n||r.list)&&r.fixed)return tc`<th .index=${e} @change="${this.#og}">
          <select is="gs-ext-select" .index=${e}
              class="form-select ${h} ${c}" 
              name="${t}"
              storage="${td(r.list?this.storage:null)}"
              key="${td(r.list?r.name:null)}"> 
              ${this.#a2(r)}
              </select>
          </th>`;let d="";return(n||r.list)&&(d=`${this.id}-list-${e}`,i=tc`<datalist id="${d}" is="gs-ext-datalist"
              storage="${td(r.list?this.storage:null)}"
              key="${td(r.list?r.name:null)}"> 
              ${this.#a2(r)}</datalist>`),tc`<th .index=${e} @change="${this.#og}">
    <input is="gs-ext-input" .index=${e}
      class="form-control ${h} ${c}" 
      mask="${td(s)}"
      list="${td(d)}"
      name="${t}" 
      placeholder="${td(r.title)}" 
      type="${r.filterType||r.columnType}"
      data-slots="${td(l?"DMY":void 0)}"/>
    ${i}
    </th>`}#a2(t){return 0==t.childElementCount?"":R.proxify(t).map(e=>tc`<option value="${e.value}">${t.fixed?e.map:""}</option>`)}#ol(t,e){let s=this.#rY[e];if(s?.hidden)return"";let i=`${a.normalize(this.cssHeader)} ${a.normalize(t.cssHeader)}`;return tc`
      <th .index=${e} class="${i}" 
        colspan="${td(s?.colspan)}"
        width="${td(s?.width)}">
        <div class="d-flex justify-content-between"> 
          <span>${s?.title||t}</span>
          ${this.#i2(e)}
        </div>
      </th>
    `}#i2(e){if(!this.sortable)return"";let s=t.#oi,i=this.sort[e],r=this.multisort?this.#or.indexOf(e)+1:"";return tc`<gs-icon name="${s[i+1]}" super="${r>0?r:""}" color="${td(this.colorSort)}"></gs-icon>`}#oh(t,e){let s=this,i=s.dataController||Y,r=i?.isSelected(t),a=s.colorSelect&&r?`table-${s.colorSelect}`:"",n=s.#of(t);return tc`
        <tr .index=${e} class="${a}" tabindex="0" ?selected=${r}>
          ${n.map((t,e)=>s.#oy(t,e))}
        </tr>
      `}#oy(t,e){let s=this.#rY[e];return s?.hidden?"":tc`<td class="text-${s?.align}" colspan="${td(s?.colspan)}" ><span>${t}</span></td>`}#of(t){let e=this;return Array.isArray(t)||(t=e.columns.map(e=>t[e])),t.map((t,s)=>e.#rY[s]?p.format(e.#rY[s],t):t)}#oc(){return this.data.length>0?"":tc`<tr data-ignore="true"><td colspan="${this.columns.length}" class="text-center fw-bold text-muted">${this.translate("No Data")}</td></tr>`}#ob(t){if(!t.value)return;let e="date"===t.type?t.valueAsDate:t.value,s=this.#rY[t.index];return{name:t.name,value:e,language:s?.language}}#og(t){let e=this,s=e.#op.map(t=>e.#ob(t)).filter(t=>t?.value);e.storage&&e.dataController?.filter(s)}#oo(t){if(!this.sortable)return;let e="GS-ICON"===t.target.tagName?t.target:t.target.closest("gs-icon"),s=t.target.closest("th");if(!e||!s)return;let i=void 0!==s.index?s.index:m.getElementIndex(s),r=this.sort[i],a=1===r?-1:r+1;this.multisort?0==a?this.#or=this.#or.filter(t=>t!=i):this.#or.includes(i)||this.#or.push(i):(this.sort=Array(this.columns.length).fill(0),this.#or=[i]),this.sort[i]=a;let n=this.#ov(this.sort,this.#or);this.storage?this.dataController?.sort(n):this.data=p.sortData(this.data,n),this.emit("sort")}#ov(t,e){let s=this;0===t.filter(t=>t).length&&((t=Array(s.columns.length).fill(0))[s.key]=1);let i=s.data[0]&&!Array.isArray(s.data[0]),r=t.map((t,r)=>t?{name:i?s.columns[r]:void 0,col:r,ord:t,idx:e.indexOf(r)}:null).filter(t=>t);return t=p.sortData(r,[{name:"idx",ord:1}])}#s_(t){if(!this.selectable)return;let e="TR"===t.target.tagName?t.target:t.target.closest("tr");if(!e||2===t.button&&!this.query("gs-context",!1,!0))return;let s=this.dataController||Y;if(!s)return;let i=this.data[e.index],r=s.isSelected(i);this.multiselect?r?s.removeSelected(i):s.addSelected(i):this.toggle?(s.clearSelected(this.data),r||s.addSelected(i)):(s.clearSelected(this.data),s.addSelected(i)),this.requestUpdate(),this.emit("select")}#M(t){if(!t.target.matches("tbody tr"))return;let e=null;switch(t.code){case"ArrowUp":e=t.target.previousElementSibling;break;case"ArrowDown":e=t.target.nextElementSibling}e&&(e.focus(),this.emit("focus",e))}#iD(t){"Space"===t.code&&this.#s_(t)}static{this.define("gs-table")}};(class t extends eo{static #oC=["Enter","NumpadEnter","Comma","Space"];static styles=tl`
        .tag-input:focus-visible {
            outline:none;
        }
        .tag .btn-close {
            background: none;
        }            
        .tag .btn-close::after {
            content: 'x';
        }`;static properties={placeholder:{},max:{type:Number},size:{type:Number},name:{},data:{type:Array},values:{type:Array,reflect:!0,converter:t4},appendable:{type:Boolean},color:{...tG},closeColor:{...tG,attribute:"close-color"},cssClose:{attribute:"css-close"},cssTag:{attribute:"css-tag"}};static options={name:{}};#ow=to();#aM=to();constructor(){super(),this.name="",this.data=this.#rw,this.closeColor="light",this.color="primary"}renderUI(){let t=this.#oS();return tc`
        <div  dir="${td(this.direction)}" 
            class="${tn(this.renderClass())}"
            @click="${this.#iM.bind(this)}">
            ${t}
            <input type="text" 
            @keydown="${this.#M.bind(this)}"
            @input="${this.#a8.bind(this)}"
            ${tf(this.#aM)}
            name="${this.name}" 
            list="${this.name}_list"
            class="form-control d-flex w-auto flex-grow-1" 
            placeholder="${this.#o$}">
            <datalist ${tf(this.#ow)} id="${this.name}_list">${this.#ox()}</datalist>
        </div>`}renderClass(){return{...super.renderClass(),"d-flex":!0,"flex-wrap":!0,"align-items-center":!0,"gap-1 ":!0}}get #o$(){let t=this.max>0?`Add max ${this.max} tags...`:"";return this.placeholder?this.placeholder:t}#a8(t){t.inputType||this.#oE(t)}#M(e){t.#oC.includes(e.code)&&this.#oE(e)}#iM(t){t.srcElement===t.target&&t.target instanceof HTMLButtonElement&&this.#ok(t.target.parentElement)}#oE(t){g.prevent(t),this.#oT(this.#sv)}get #oA(){return this.max>0&&this.data.length>=this.max}get #sB(){return Array.from(this.#oL.children)}get #sv(){let t=this;return t.#sB.filter(e=>e.value.toLowerCase()===t.#op.value.toLowerCase()).pop()}#oT(t){let e=this.#op;if(this.#oA||!t&&!1==this.appendable){e.value="";return}this.values.includes(e.value)||(this.values.push(e.value),e.value="",this.requestUpdate())}#ok(t){if(!t)return;let e=t.dataset.value;this.values=this.values.filter(t=>t!=e)}#oS(){let t=this;return t.values.map(e=>t.#oN(e))}#oN(t=""){return t?(this.size>0&&this.size,tc`<div class="${tn(this.#oI)}" data-value="${t}">${t}<button type="button" class="${tn(this.#oR)}"></button></div>`):""}get #oI(){let t={badge:!0,tag:!0,[`fs-${this.size}`]:this.size>0,[`text-bg-${this.color}`]:!!this.color};return this.mapCSS(this.cssTag,t)}get #oR(){let t={"btn-close":!0,"ms-1":!0,[`text-bg-${this.closeColor}`]:!!this.closeColor};return this.mapCSS(this.cssClose,t)}#ox(){return this.data.map(t=>tc`<option value="${t}">`)}#iP(t){return R.collect(t).map(t=>c.proxify(t))}get #rw(){return this.#iP(this).map(t=>t.name).filter(t=>!!t)}get #op(){return this.#aM.value}get #oL(){return this.#ow.value}static{this.define("gs-tag")}});var e0=class extends eo{#oM="";constructor(){super(),this.flat=!0,this.#oM=this.innerText,this.innerText=""}renderUI(){return this.translate(this.#oM)}static{this.define("gs-text")}},e1=class extends eo{static properties={placement:{...tZ},title:{},target:{},opened:{type:Boolean},local:{type:Boolean}};#nV=to();#nH=to();#ra=l.id;#oD=l.id;constructor(){super(),this.placement="top",this.dynamicStyle(this.#ra),this.dynamicStyle(this.#oD)}firstUpdated(t){super.connectedCallback(),this.#nW(),this.#nG(),super.firstUpdated(t)}willUpdate(t){super.willUpdate(t),this.#nG()}renderUI(){return tc`
    <div ${tf(this.#nH)} 
      dir="${td(this.direction)}"
      role="tooltip"
      data-popper-placement="${this.placement}"
      data-gs-class="${this.#ra}"
      class="${tn(this.renderClass())}">
      <div ${tf(this.#nV)} 
          class="tooltip-arrow ${this.#oD}" 
          data-gs-class="${this.#oD}">
      </div>
      <div class="tooltip-inner">${this.translate(this.title)}</div>
    </div>`}renderClass(){return{...super.renderClass(),tooltip:!0,"bs-tooltip-auto":!0,fade:!0,show:this.opened,[this.#ra]:!0}}open(){this.opened=!0}close(){this.opened=!1}toggle(){this.opened=!this.opened}#nW(){this.attachEvent(this.#sM,"mouseenter",this.open.bind(this)),this.attachEvent(this.#sM,"mouseleave",this.close.bind(this))}#nG(){let t=this.#nY,e=this.#nj;e&&(this.opened?U.popupFixed(this.placement,e,this.#sM,t):this.dynamicStyle(this.#ra,{top:"-1000px",left:"-1000px"}))}get #sM(){switch(this.target){case"@parent":return this.parentElement;case"@previous":return this.previousElementSibling;case"@next":return this.nextElementSibling;default:return this.local?this.#oU:this.#oO}}get #oU(){let t=m.root(this);return m.query(t,this.target)}get #oO(){return m.query(document.body,this.target)}get #nY(){return this.#nV.value}get #nj(){return this.#nH.value}static{this.define("gs-tooltip")}},e2=class extends eo{static properties={src:{reflect:!0,hasChanged:tA}};constructor(){super()}createRenderRoot(){return this.flat?(this.renderOptions.renderBefore=this,this.parentElement):super.createRenderRoot()}renderUI(){return tc`${this.renderTemplate()}`}templateInjected(){this.emit("template-injected",null,!0,!0)}static{this.define("gs-template")}},e5=class{#tR;#oF;#oB;constructor(t){this.#tR=t,this.#oF=this.onClick.bind(this),this.#oB=this.onCopy.bind(this),t.addController?.(this)}hostConnected(){this.#tR.on?.("click",this.#oF),this.#tR.on?.("copy",this.#oB)}hostDisconnected(){this.#tR.removeController?.(this),this.#tR.off?.("click",this.#oF),this.#tR.off?.("copy",this.#oB)}onCopy(t){a.writeToClipboard(this.#tR.value)}onClick(t){this.#tR.autocopy&&this.onCopy(t),this.#tR.autoselect&&this.#tR.select()}},e3=class t{static #oH=".^$*+?()[]{}|";static #oP={x:/[0-9a-fA-F]/g,n:/[0-9]/g,y:/[0-9]/g,m:/[0-9]/g,d:/[0-9]/g,h:/[0-9]/g,s:/[0-9]/g,".":/[0-9]/g,"#":/[a-zA-Z]/g,"*":/[0-9a-zA-Z]/g,_:/./g};#oz=!1;#oG;#oq;#iz;#oj;#oV;#tR;constructor(t){this.#tR=t,t.addController(this)}hostConnected(){this.initRules()}hostDisconnected(){this.#tR.removeController(this)}initRules(){let t=this;if(t.pattern){let e;t.#oG=t.#o_(),e=0,t.#oq=Array.from(t.pattern,(s,i)=>t.#oG.has(s)?e=i+1:e),t.#iz=[...t.pattern].findIndex(e=>t.#oG.has(e)),t.#oj=t.#oW(),t.#oY()}}validate(){let t=!!this.isEmpty||this.isMatch;return this.setCustomValidity(t?"":"Mask not matched!"),t}setCustomValidity(t){return this.#tR.setCustomValidity(t)}setSelectionRange(t,e){this.#tR.setSelectionRange(t,e)}select(){this.#tR.select()}get isEmpty(){return a.isStringEmpty(this.raw)}get isValid(){return this.#tR.validity.valid}get disabled(){return this.#tR.disabled}get required(){return this.#tR.required}get value(){let[t,e]=this.#oJ();return this.raw.substring(0,e)}set value(t){this.#tR.value=t}get raw(){return this.#tR.raw}get required(){return this.#tR.required}get pattern(){return this.#tR.mask}get dataset(){return this.#tR.dataset}get selectionStart(){return this.#tR.selectionStart}get selectionEnd(){return this.#tR.selectionEnd}get autoselect(){return this.#tR.autoselect}get isMatch(){let t=!0;return this.#oV&&(this.#oV.lastIndex=0,t=this.#oV.test(this.raw)),t}onInput(t){this.#oK()}onKeyDown(t){this.#oz="Backspace"===t.key,"Tab"===t.key&&(this.#oK(),this.validate())}onFocus(t){this.#oK(),this.autoselect&&this.select()}onChange(t){this.#oK()}onBlur(t){this.validate()}#o_(){let e=this.dataset.slots;if(!e){let s=t.#oP;e=[...new Set(this.pattern)].filter(t=>s[t.toLowerCase()]).join("")}return new Set(e||"_")}#oW(){let e=this.dataset.accept;if(!e){let s=t.#oP;if((e=[...new Set(this.pattern)].map(t=>s[t.toLowerCase()]).filter(t=>t)).length>0){let t={};return e.forEach(e=>t[e.src]=e),1===(e=Object.values(t)).length?e.pop():e}}return RegExp(e||"\\d","g")}#oJ(){let t=this,e=t.raw;return[t.selectionStart,t.selectionEnd].map(s=>(s=t.#oX(e.slice(0,s)).findIndex(e=>t.#oG.has(e)))<0?t.#oq[t.#oq.length-1]:t.#oz?t.#oq[s-1]||t.#iz:s)}#oK(){let[t,e]=this.#oJ(),s=this.#oX(this.#tR.raw);this.value=s.join``,this.setSelectionRange(t,e),this.#oz=!1}#oX(t){let e=this;return t=t.match(e.#oj)||[],Array.from(e.pattern,(s,i)=>(t[i]===s||e.#oG.has(s))&&t.shift()||s)}#oY(){let e=this;if(0===e.pattern.length)return;let s=e.pattern.split(""),i=["^"],r=t.#oP,a=t.#oH,n=0;s.forEach((t,l)=>{let h=e.#oG.has(t)?r[t.toLowerCase()]:null;return h?(s[l]=RegExp(h,"g"),0===i.length)?i.push(h.source):i[i.length-1]===h.source?n++:void(n>0&&i.push(`{${++n}}`),n=0,i.push(h.source)):(n>0&&i.push(`{${++n}}`),n=0,a.includes(t)&&i.push("\\"),i.push(t))}),n>0&&i.push(`{${++n}}`),i.push("$"),e.#oV=RegExp(i.join(""),"g")}},e4=class{#tR;constructor(t){this.#tR=t,t.addController(this)}hostConnected(){}hostDisconnected(){this.#tR.removeController(this)}validate(){let t=!!this.isEmpty||this.isMatch;return this.setCustomValidity(t?"":"Pattern not matched!"),t}setCustomValidity(t){return this.#tR.setCustomValidity(t)}get isEmpty(){return a.isStringEmpty(this.raw)}get isValid(){return this.#tR.validity.valid}get value(){return this.#tR.value}set value(t){this.#tR.value=t}get raw(){return this.#tR.raw}get required(){return this.#tR.required}get disabled(){return this.#tR.disabled}get dataset(){return this.#tR.dataset}get patterns(){let t=this.#tR.multipattern;if(t instanceof RegExp)return[t];if(Array.isArray(t))return t.filter(t=>t instanceof RegExp);throw Error("Invalid multipattern value. Expected RegExp object or array.")}get isMatch(){let t=!0;for(let e of this.patterns)if(t=e.test(this.value))break;return t}onKeyDown(t){"Tab"===t.key&&this.validate()}onBlur(t){this.validate()}onChange(t){this.validate()}},e9=class{#tR;constructor(t){this.#tR=t,t.addController(this)}hostConnected(){}hostDisconnected(){this.#tR.removeController(this)}get maxLength(){return a.asNum(this.#tR.maxLength,0)}get value(){return this.#tR.value}set value(t){this.#tR.value=t}get type(){return this.#tR?.type}onInput(t){"number"===this.type&&this.maxLength>0&&this.value.length>this.maxLength&&(this.value=this.value.substring(0,this.maxLength))}},e6=class{#tR;#oZ=!1;constructor(t){this.#tR=t,t.addController(this)}hostConnected(){}hostDisconnected(){this.#tR.removeController(this)}get reveal(){return this.#tR.reveal}get type(){return this.#tR?.type}set type(t){this.#tR&&(this.#tR.type=t)}#oQ(t){return this.reveal&&"Shift"===t.key&&t.altKey&&t.ctrlKey&&t.shiftKey&&"password"===this.type}onKeyUp(t){"Shift"===t.key&&this.#oZ&&(this.type="password")}onKeyDown(t){this.#oQ(t)&&(this.#oZ=!0,this.type="text")}},e7=class{#tR;constructor(t){this.#tR=t,t.addController(this)}hostConnected(){}hostDisconnected(){this.#tR.removeController(this)}get raw(){return this.#tR.raw}get value(){return this.#tR.value}set value(t){this.#tR.value=t}get type(){return this.#tR?.type}onInput(t){let e=t.target,s=e.selectionStart,i=e.selectionEnd;e.value=this.#o0(),e.setSelectionRange(s,i)}onChange(t){this.value=this.#o0()}onBlur(t){this.value=this.#o0()}#o0(){if("text"===this.type){let t=d.styleValue(this.#tR,"text-transform");if(t)return a.textTransform(t.value,this.raw)}return this.value}},e8=class{#tR;#o1;constructor(t){this.#tR=t,this.#o1=this.#o2.bind(this),t.addController(this)}hostConnected(){this.list&&this.#tR.attachEvent(this.filter,"change",this.#o1)}hostDisconnected(){this.#tR.removeController(this),this.#tR.removeEvent(this.filter,"change",this.#o1)}hostUpdated(){this.#tR.hasUpdated||this.onChange()}get component(){return this.#tR}get value(){return this.#tR.value}set value(t){this.#tR.value=t}get list(){return this.#tR}get filter(){let t=c.get(this.#tR,"data-filter");return m.getByID(this.owner,t)}get owner(){return this.#tR.form||m.closest(this.#tR,"form")}get formElements(){return m.formElements(this.owner,!0)}get strict(){return c.get(this.#tR,"strict","")}onBlur(t){this.#o5()||g.send(this.#tR,"strict",{ok:!1,source:t})}onChange(t){let e=this,s=e.owner,i=!1,r=m.query(e.list,`option[value="${e.value}"]`);r||(r=e.list?.querySelector("option"),i=!0),Object.entries(r?.dataset||{}).forEach(t=>{let r=i?"":t[1],a=t[0];if("id"===a||"group"===a)return void c.set(e.#tR,`data-${a}`,t[1]);let n=`[data-${a}]:not([data-${a}=""]`;Array.from(m.queryAll(s,n)).filter(t=>"OPTION"!==t.tagName).filter(t=>"GS-ITEM"!==t.tagName).filter(t=>t!==e.#tR).filter(t=>t!==e.filter).filter(t=>!m.closest(t,"gs-form-group")).forEach(t=>e.#o3(t,a,r))})}#o2(t){let e=this,s=e.list;e.value="",e.#tR.disabled=!1;let i=c.get(e.filter,"data-group"),r=i?`option[data-group="${i}"]`:`option[data-id="${t.target.value}"]`;m.queryAll(s,"option").forEach(t=>e.#o4(t,!0)),m.queryAll(s,r).forEach(t=>e.#o4(t,!1))}#o4(t,e){c.toggle(t,"disabled",e),m.toggleClass(t,"d-none",e)}#o3(t,e="",s=""){let i=c.get(t,`data-${e}`,"").split(/[,;;]/),r=s.length>0&&i.includes(s);m.isFormElement(t)||m.isButtonElement(t)||"GS-FORM-GROUP"===t.tagName?c.toggle(t,"disabled",!r):r?m.show(t):m.hide(t),c.set(t,"data-ignore",!r||null),m.queryAll(t,"input,textarea,select").forEach(t=>c.set(t,"data-ignore",!r||null))}#o5(){let t=this.list;return!(t&&this.strict&&t.querySelector("option"))||null!=t.querySelector(`option[value="${this.value}"]`)}},st=class extends e8{constructor(t){super(t)}get list(){return this.component}},se=class extends e8{constructor(t){super(t)}get list(){if(this.component.list)return this.component.list;let t=c.get(this.component,"list");return m.getByID(this.owner,t)}},ss=class{#tR=void 0;#o9=!1;constructor(t){this.#o9=!1,this.#tR=t,t.addController?.(this)}hostConnected(){}hostDisconnected(){this.#tR.removeController?.(this),this.#tR=void 0,this.#o9=!1}get autoreport(){return this.#tR.autoreport}get autovalidate(){return this.#tR.autovalidate}get isValid(){return this.#tR.validity.valid}get disabled(){return this.#tR.disabled}get required(){return this.#tR.required}get value(){return this.#tR.value}get beep(){return this.#tR.beep}get block(){return this.#tR.block}get timeout(){return this.#tR.timeout}get isVisible(){return m.isVisible(this.#tR)}validate(){let t=this.isValid||this.disabled;return this.#o6(t),t}onFocus(t){this.validate()}onKeyDown(t){"Tab"!==t.key||this.validate()||(this.#o7(t),this.#o8())}onInvalid(t){this.validate()}onChange(t){this.#lt(t)}onBlur(t){this.#o7(t),this.#lt(t)}#o7(t){!this.isValid&&this.isVisible&&this.block&&(g.prevent(t,!1,!0,!1),this.#iE())}#lt(t){return this.autoreport?this.#le():this.autovalidate?this.#ls():this.validate()}#iE(){return this.#tR.focus()}#ls(){return this.validate(),this.#tR.checkValidity()}#le(){return this.validate(),this.#tR.reportValidity()}async #o8(){if(!this.#o9&&!this.isValid&&this.isVisible){if(this.#o9=!0,this.beep)try{await this.#li(),await a.timeout(this.timeout)}catch(t){console.error(t)}this.#o9=!1}}#o6(t){let e=this;requestAnimationFrame(()=>{m.toggleClass(e.#tR,"is-invalid",!t)})}#li(){return k.beep(100,1200,150,"triangle")}};let si={[Symbol.for("gs-owner")](){let t=m.root(this);return m.unwrap(t)},[Symbol.for("gs-parent")](){return m.parentAll(this).filter(t=>t instanceof eo).next()?.value},closest(t=""){return m.closest(this,t)},query(t="",e=!1){return m.query(this,t,!1,e)},queryAll(t="",e=!1){return m.queryAll(this,t,!1,e)},notify(t=!0,e=!1,s){this.emit("notify",s,t,e,!0)},emit(t,e="",s=!1,i=!1,r=!1){return g.send(this,t,e,s,i,r)},waitEvent(t="",e=0){return g.wait(this,t,e)},once(t,e){return this.listen(t,e,!0)},on(t,e,s=!1){return this.listen(t,e,s)},off(t,e){return this.unlisten(t,e)},prevent(t,e=!0,s=!0,i=!0){g.prevent(t,e,s,i)},listen(t,e,s=!1){return this.attachEvent(this,t,e,s)},unlisten(t,e){return this.removeEvent(this,t,e)},attachEvent:(t,e="",s,i=!1)=>g.attach(void 0,t,e,s,i),removeEvent(t,e="",s){return g.remove(this,t,e,s)}},sr=t=>Object.assign(t.prototype||t,si);var sa=class{#tR=void 0;#o9=!1;constructor(t){this.#tR=t,this.#o9=!1,t.addController(this)}hostConnected(){}hostDisconnected(){this.#tR.removeController(this),this.#tR=void 0,this.#o9=!1}hostUpdated(){this.#tR.hasUpdated}onReset(t){}onSubmit(t){}onFormData(t){}onInvalid(t){}onChange(t){}onBlur(t){}get form(){return this.#tR.form}get inputs(){return this.form?.inputs}},sn=class{#tR=void 0;#e4=void 0;#sS=void 0;#lr=void 0;#la=void 0;#ln=void 0;#lo=void 0;#ll=void 0;#ig=void 0;constructor(t){this.#tR=t}connectedCallback(){let t=this.#tR;this.isForm?(t.on("reset",this.#lh.bind(this)),t.on("submit",this.#ad.bind(this)),t.on("formdata",this.#lc.bind(this))):(t.on("keydown",this.#M.bind(this)),t.on("keyup",this.#iD.bind(this)),t.on("input",this.#a8.bind(this)),t.on("focus",this.#nJ.bind(this))),t.on("change",this.#aL.bind(this)),t.on("blur",this.#aA.bind(this)),t.on("invalid",this.#aN.bind(this)),this.#ld(t=>t.hostConnected?.())}disconnectedCallback(){g.detachListeners(this.#tR),this.#ld(t=>t.hostDisconnected?.()),this.#sS?.clear(),this.#tR=void 0,this.#e4=void 0,this.#sS=void 0,this.#lo=void 0,this.#ll=void 0,this.#ig=void 0,this.#lr=void 0,this.#la=void 0,this.#ln=void 0}hostUpdated(t){this.#tR.hostUpdated||(this.#lu(),this.#tR.checkValidity?.()),this.#ld(e=>e.hostUpdated?.(t))}validate(){this.#ld(t=>t.validate?.())}addController(t){t&&(this.#sS??=new Set,this.#sS.add(t),this.#lp(),this.#tR.isConnected&&t.hostConnected?.())}removeController(t){this.#sS?.delete(t),this.#lp()}#lp(){this.#e4=this.#sS?Array.from(this.#sS).reverse():[]}#ld(t){"function"==typeof t&&this.#e4?.forEach(t)}validate(t){return!this.#e4||this.#e4.every(e=>!e.validate||e.validate(t))}#aN(t){this.#ld(e=>e.onInvalid?.(t))}#M(t){this.#ld(e=>e.onKeyDown?.(t))}#iD(t){this.#ld(e=>e.onKeyUp?.(t))}#a8(t){this.#ld(e=>e.onInput?.(t))}#nJ(t){this.#ld(e=>e.onFocus?.(t))}#aL(t){this.#ld(e=>e.onChange?.(t))}#aA(t){this.#ld(e=>e.onBlur?.(t))}#lh(t){this.#ld(e=>e.onReset?.(t))}#ad(t){this.#ld(e=>e.onSubmit?.(t))}#lc(t){this.#ld(e=>e.onFormData?.(t))}#lu(){let t=this.#tR;this.isForm?this.#ll??=new sa(t):(this.#ln??=new ss(t),this.isInput&&this.#lm(),this.isTextArea&&this.#lg(),this.isSelect&&(this.#lo??=new st(t))),t.storage&&(this.isSelect||this.isDataList)&&(this.#ig??=new t8(t))}#lg(){let t=this.#tR;this.#la??=new e7(t),this.#lr??=new e5(t)}#lm(){let t=this.#tR,e=!1;switch(t.type){case"text":e=!0,this.#la??=new e7(t);break;case"password":e=!0,this.#la??=new e6(t);break;case"number":e=!0,this.#la??=new e9(t)}e&&(this.#lr??=new e5(t))}get tagName(){return this.#tR?.tagName}get isForm(){return"FORM"===this.tagName}get isTextArea(){return"TEXTAREA"===this.tagName}get isInput(){return"INPUT"===this.tagName}get isSelect(){return"SELECT"===this.tagName}get isDataList(){return"DATALIST"===this.tagName}};(class t extends HTMLButtonElement{static{sr(t),m.define("gs-ext-button",t,{extends:"button"}),Object.seal(t)}static get observedAttributes(){return["disabled"]}#lf=!1;#ly=void 0;#lb=void 0;constructor(){super()}connectedCallback(){this.#ly?.connectedCallback(),this.#lb=this.form,this.#lv()}disconnectedCallback(){g.detachListeners(this),this.#ly?.disconnectedCallback(),this.#ly=void 0,this.#lb=void 0}attributeChangedCallback(t,e,s){this.#lv(t),this.willUpdate(t,e,s),this.#ly?.hostUpdated(t)}#lv(t){this.#lf||(this.firstUpdated(t),this.#ly?.hostUpdated(t),this.#lf=!0)}firstUpdated(t){let e=this.#lb;this.isSubmit&&e&&(this.attachEvent(e,"change",this.#lC.bind(this)),this.attachEvent(e,"invalid",this.#lC.bind(this)),this.on("click",this.#iM.bind(this)))}willUpdate(t,e,s){"disabled"===t&&this.emit("disabled",this.disabled,!0,!0,!0)}addController(t){this.#ly?.addController(t)}removeController(t){this.#ly?.removeController(t)}get owner(){return this[Symbol.for("gs-owner")]()}get parentComponent(){return this[Symbol.for("gs-parent")]()}get hasUpdated(){return this.#lf}get form(){return super.form||this.owner?.form||this.closest?.("form")}get isSubmit(){return tH.isSubmit(this.type)}get isReset(){return tH.isReset(this.type)}get isValid(){let t=this.#lb?.elements;return!t||0===Array.from(t).filter(t=>m.isFormElement(t)).filter(t=>t.validity?.valid===!1).length}#lC(t){this.#lb&&this.isSubmit&&(this.disabled=!1===this.isValid)}#iM(t){this.#lb&&this.isSubmit&&(this.isValid?(this.isSubmit&&this.#lb.requestSubmit(),this.isReset&&this.#lb.reset()):(g.prevent(t),this.disabled=!0))}});var so=class t extends HTMLInputElement{static{sr(t),m.define("gs-ext-input",t,{extends:"input"}),Object.seal(t)}static get observedAttributes(){return["multipattern","mask","required","disabled"]}#ly=void 0;#lw=void 0;#lS=void 0;#l$=void 0;#oV=void 0;#lf=!1;constructor(){super(),this.#ly=new sn(this)}connectedCallback(){let t=this;t.#ly?.connectedCallback(),t.#lv(),t.dataset.value=t.value,t.on("change",e=>t.dataset.value=t.value)}disconnectedCallback(){this.#ly?.disconnectedCallback(),this.#ly=void 0,this.#lw=void 0,this.#lS=void 0,this.#l$=void 0,this.#oV=void 0,g.detachListeners(this)}attributeChangedCallback(t,e,s){if(this.isCheckBox&&"required"===t&&this.required)return this.required=!1;this.#lv(t),this.willUpdate(t,e,s),this.#ly?.hostUpdated(t)}addController(t){this.#ly?.addController(t)}removeController(t){this.#ly?.removeController(t)}get owner(){return this[Symbol.for("gs-owner")]()}get parentComponent(){return this[Symbol.for("gs-parent")]()}get hasUpdated(){return this.#lf}get autocopy(){return this.hasAttribute("autocopy")}get autofocus(){return this.hasAttribute("autofocus")}get autoselect(){return this.hasAttribute("autoselect")}get autoreport(){return this.hasAttribute("autoreport")}get autovalidate(){return this.hasAttribute("autovalidate")}get beep(){return this.hasAttribute("beep")}get block(){return this.hasAttribute("block")}get mask(){return c.get(this,"mask")}get multipattern(){return this.#oV}get reveal(){return this.hasAttribute("reveal")}get timeout(){return c.getAsNum(this,"timeout",0)}set autocopy(t){c.toggle(this,"autocopy",t)}set autofocus(t){c.toggle(this,"autocopy",t)}set autoselect(t){c.toggle(this,"autocopy",t)}set autoreport(t){c.toggle(this,"autoreport",t)}set autovalidate(t){c.toggle(this,"autovalidate",t)}set beep(t){c.toggle(this,"beep",t)}set block(t){c.toggle(this,"block",t)}set mask(t){c.set(this,"mask",t)}set multipattern(t){let e=t;a.isJsonType(t)&&(e=JSON.stringify((Array.isArray(t)?t:[t]).map(t=>t.source||t.toString?.()||t))),c.set(this,"multipattern",e)}set reveal(t){"password"===this.type&&c.toggle(this,"reveal",t)}set timeout(t){c.setAsNum(this,"timeout",t)}get required(){return super.required}set required(t){super.required=!this.isCheckBox&&a.asBool(t)}get raw(){return super.value}get value(){return this.#lw?this.#lw.value:super.value}set value(t){super.value=this.mask===t?"":t}get isFocused(){return this===document.activeElement}get isCheckBox(){return"checkbox"===this.type}get form(){return super.form||this.owner?.form||this.closest?.("form")}reset(){return this.setCustomValidity(""),m.reset(this),this.validate()}checkValidity(){return this.validate(),super.checkValidity()}reportValidity(){return this.validate(),super.reportValidity()}validate(t){return this.#ly.validate(t)}closest(t=""){return m.closest(this,t)}firstUpdated(t){this.autofocus&&this.focus();let e=this.formComponent?.data;e&&m.fromObject2Element(this,e)}willUpdate(t,e,s){"mask"===t&&this.#lx(),"multipattern"===t&&this.#lE(s),"list"===t&&this.#lk(),("required"===t||"disabled"===t)&&this.validate()}#lv(t){this.#lf||(this.#lx(),this.#lE(this.pattern),this.#lk(),this.firstUpdated(t),this.#ly?.hostUpdated(t),this.#lf=!0,this.validate())}#lx(){this.mask&&"text"===this.type?(this.placeholder=this.mask,this.#lw??=new e3(this)):(this.removeController(this.#lw),this.#lw=null)}#lE(t){if(a.isJsonString(t)){let e=a.toJson(t,[]);this.#oV=(Array.isArray(e)?e:[]).map(t=>new RegExp(t))}else this.#oV=void 0;let e=Array.isArray(this.#oV)&&this.#oV.length>0,s=["text","password"].includes(this.type);e&&s?this.#lS??=new e4(this):(this.removeController(this.#lS),this.#lS=null)}#lk(){this.list?this.#l$??=new se(this):(this.removeController(this.#l$),this.#l$=null)}},sl=class t extends HTMLTextAreaElement{static{sr(t),m.define("gs-ext-textarea",t,{extends:"textarea"}),Object.seal(t)}#lf=!1;#ly=void 0;constructor(){super(),this.#ly=new sn(this)}connectedCallback(){this.#ly?.connectedCallback(),this.#lv()}disconnectedCallback(){this.#ly?.disconnectedCallback(),this.#ly=void 0,g.detachListeners(this)}attributeChangedCallback(t,e,s){this.#lv(t),this.willUpdate(t,e,s),this.#ly?.hostUpdated(t)}#lv(t){this.#lf||(this.firstUpdated(t),this.#ly?.hostUpdated(t),this.#lf=!0)}firstUpdated(t){let e=this.formComponent?.data;e&&m.fromObject2Element(this,e),this.autofocus&&this.focus()}willUpdate(t,e,s){("required"===t||"disabled"===t)&&this.validate()}addController(t){this.#ly?.addController(t)}removeController(t){this.#ly?.removeController(t)}reset(){this.setCustomValidity(""),m.reset(this),this.validate()}checkValidity(){return this.validate(),super.checkValidity()}reportValidity(){return this.validate(),super.reportValidity()}validate(t){return this.#ly.validate(t)}get owner(){return this[Symbol.for("gs-onwner")]()}get parentComponent(){return this[Symbol.for("gs-parent")]()}get hasUpdated(){return this.#lf}get autoreport(){return this.hasAttribute("autoreport")}get autovalidate(){return this.hasAttribute("autovalidate")}get autoselect(){return this.hasAttribute("autoselect")}get autocopy(){return this.hasAttribute("autocopy")}get block(){return this.hasAttribute("block")}get beep(){return this.hasAttribute("beep")}get timeout(){return c.getAsNum(this,"timeout",0)}set autoreport(t){c.toggle(this,"autoreport",t)}set autovalidate(t){c.toggle(this,"autovalidate",t)}set autoselect(t){c.toggle(this,"autoselect",t)}set autocopy(t){c.toggle(this,"autocopy",t)}set block(t=!1){c.toggle(this,"block",t)}set beep(t=!1){c.toggle(this,"beep",t)}set timeout(t=0){return c.setAsNum(this,"timeout",t)}get form(){return super.form||this.owner?.form||this.closest?.("form")}async load(t=""){t&&(this.value=await $.loadSafe(t,"GET",null,!0))}},sh=class t extends HTMLSelectElement{static{sr(t),m.define("gs-ext-select",t,{extends:"select"}),Object.seal(t)}#sp=[];#ly=void 0;#lf=!1;constructor(){super(),this.#ly=new sn(this)}static get observedAttributes(){return["url"]}connectedCallback(){this.#ly?.connectedCallback(),this.#lv()}disconnectedCallback(){this.#ly?.disconnectedCallback(),this.#ly=void 0,g.detachListeners(this)}attributeChangedCallback(t,e,s){this.#lv(t),this.willUpdate(t,e,s),this.#ly?.hostUpdated(t)}#lv(t){this.#lf||(this.firstUpdated(t),this.#ly?.hostUpdated(t),this.#lf=!0)}firstUpdated(t){let e=this.form?.data;e&&m.fromObject2Element(this,e),this.autofocus&&this.focus(),this.on("reset",this.#lh)}willUpdate(t,e,s){"url"===t&&this.load(s),("required"===t||"disabled"===t)&&this.validate()}addController(t){this.#ly?.addController(t)}removeController(t){this.#ly?.removeController(t)}get owner(){return this[Symbol.for("gs-owner")]()}get parentComponent(){return this[Symbol.for("gs-parent")]()}get asJSON(){return this.query("option").forEach(t=>m.fromElement2Object(t,{}))}set asJSON(t){this.apply(t)}get key(){return c.get(this,"key",0)}get storage(){return c.get(this,"storage")}get form(){return super.form||this.owner?.form||this.closest?.("form")}get values(){return Array.from(this.selectedOptions).map(t=>t.value)}set values(t){t??=[],a.isString(t)&&(t=t.split(",")),Array.from(el.options).forEach(e=>e.selected=t.indexOf(e.value)>-1)}checkValidity(){return this.validate(),super.checkValidity()}reportValidity(){return this.validate(),super.reportValidity()}validate(t){return this.#ly.validate(t)}reset(){m.resetSelect(this)}onDataRead(t=[]){let e=this.key;t=(t=Array.isArray(t)?t:[t]).map(t=>a.isString(t)?t:t[e]).filter(t=>t).map(t=>({text:t,value:t})),this.apply(t)}async load(t=""){if(t)try{let e=await $.loadSafe(t,"GET",null,!0);this.apply(e)}catch(t){console.error("Failed to load data:",t),r.error(this,t)}}apply(t){if(!Array.isArray(t))return!1;let e=this;return queueMicrotask(()=>{let s=[];t.forEach(t=>{s.push(e.#lT(t))}),m.setHTML(e,s.join("\n"))}),!0}#lT(t){let e=["<option"];return Object.entries(t).forEach(t=>{let s=t[0],i=t[1];if("text"!==s){if("selected"===s)return e.push(s);e.push(`${s}="${i}"`)}}),e.push(">"),e.push(t.text),e.push("</option>"),e.join(" ")}#lh(t){this.reset()}},sc=class t extends HTMLDataListElement{static{sr(t),m.define("gs-ext-datalist",t,{extends:"datalist"}),Object.seal(t)}#sp=[];#ly=void 0;#lf=!1;constructor(){super(),this.#ly=new sn(this)}static get observedAttributes(){return["url"]}connectedCallback(){l.setIf(this),this.#ly?.connectedCallback(),this.#lv()}disconnectedCallback(){this.#ly?.disconnectedCallback(),this.#ly=void 0,g.detachListeners(this)}attributeChangedCallback(t,e,s){this.#lv(t),this.willUpdate(t,e,s),this.#ly?.hostUpdated(t)}#lv(t){this.#lf||(this.firstUpdated(t),this.#ly?.hostUpdated(t),this.#lf=!0)}firstUpdated(t){this.autofocus&&this.focus();let e=this.form?.data;e&&m.fromObject2Element(this,e)}willUpdate(t,e,s){"url"===t&&this.load(s),("required"===t||"disabled"===t)&&this.validate()}addController(t){this.#ly?.addController(t)}removeController(t){this.#ly?.removeController(t)}get owner(){return this[Symbol.for("gs-owner")]()}get parentComponent(){return this[Symbol.for("gs-parent")]()}get asJSON(){return this.query("option").forEach(t=>m.fromElement2Object(t,{}))}set asJSON(t){this.apply(t)}get storage(){return c.get(this,"storage")}get key(){return c.get(this,"key",0)}onDataRead(t=[]){let e=this.key;t=(t=Array.isArray(t)?t:[t]).map(t=>a.isString(t)?t:t[e]).filter(t=>t).map(t=>({value:t})),this.apply(t)}async load(t=""){if(t)try{let e=await $.loadSafe(t,"GET",null,!0);this.apply(e)}catch(t){console.error("Failed to load data:",t),r.error(this,t)}}apply(t){if(!Array.isArray(t))return!1;let e=this;return queueMicrotask(()=>{let s=[];t.forEach(t=>{s.push(e.#lT(t))}),m.setHTML(e,s.join("\n"))}),!0}#lT(t){let e=["<option"];return a.isString(t)&&(t={value:t}),Object.entries(t).forEach(t=>{let s=t[0],i=t[1];if("text"!==s){if("selected"===s)return e.push(s);e.push(`${s}="${i}"`)}}),t.text?(e.push(">"),e.push(t.text),e.push("</option>")):e.push(">"),e.join(" ")}};(class t extends HTMLFormElement{static{sr(t),m.define("gs-ext-form",t,{extends:"form"}),Object.seal(t)}static get observedAttributes(){return["disabled","url"]}#lf=!1;#ly=void 0;constructor(){super(),this.#ly=new sn(this)}connectedCallback(){this.#ly?.connectedCallback?.(),this.#lv()}disconnectedCallback(){this.#ly?.disconnectedCallback?.(),this.#ly=void 0,g.detachListeners(this)}attributeChangedCallback(t,e,s){this.#lv(t),this.willUpdate(t,e,s),this.#ly?.hostUpdated?.(t)}#lv(t){this.#lf||(this.firstUpdated(t),this.#ly?.hostUpdated?.(t),this.#lf=!0)}firstUpdated(t){let e=this.formComponent?.data;e&&m.fromObject2Element(this,e),this.autofocus&&this.focus()}willUpdate(t,e,s){"url"===t&&this.load(s),"disabled"===t&&(this.disable?this.disable(!0):this.enable(!0))}addController(t){this.#ly?.addController(t)}removeController(t){this.#ly?.removeController(t)}reset(){super.reset(),this.inputs.filter(t=>m.isShadowed(t)).forEach(t=>m.reset(t)),this.validate()}checkValidity(){return this.validate(),super.checkValidity()}reportValidity(){return this.validate(),super.reportValidity()}checkValidity(){return super.checkValidity()&&this.inputs.filter(t=>!t.disabled).every(t=>t.checkValidity())}reportValidity(){return super.reportValidity()&&this.inputs.filter(t=>!t.disabled).every(t=>t.reportValidity())}validate(t){return this.inputs.filter(t=>!t.disabled).every(e=>!e.validate||e.validate(t))}field(t){return t&&this.inputs.filter(e=>e.name===t)}disable(t=!1){m.disableInput(this,"input, textarea, select",t,"gs-ext-form");let e=this.submitButton;e&&(e.disabled=!0)}enable(t=!1){m.enableInput(this,"input, textarea, select",t,"gs-ext-form");let e=this.submitButton;e&&(e.disabled=!1)}async load(t=""){if(t)try{let e=await $.loadSafe(t,"GET",null,!0);this.onDataRead(e)}catch(t){console.error("Failed to load data:",t),r.error(this,t)}}#iV(t){return this.queryAll(`button[type="${t}"]`,!0)}#lA(t=!1){return this.queryAll("input,select,output,textarea",t)}get owner(){return this[Symbol.for("gs-owner")]()}get parentComponent(){return this[Symbol.for("gs-parent")]()}get hasUpdated(){return this.#lf}get asJSON(){let t={};return this.inputs.forEach(e=>m.fromElement2Object(e,t)),t}set asJSON(t){this.inputs.forEach(e=>m.fromObject2Element(e,t)),this.validate()}get autoreport(){return this.hasAttribute("autoreport")}get autovalidate(){return this.hasAttribute("autovalidate")}get block(){return this.hasAttribute("block")}get beep(){return this.hasAttribute("beep")}get timeout(){return c.getAsNum(this,"timeout",0)}set autoreport(t){c.toggle(this,"autoreport",t)}set autovalidate(t){c.toggle(this,"autovalidate",t)}set block(t=!1){c.toggle(this,"block",t)}set beep(t=!1){c.toggle(this,"beep",t)}set timeout(t=0){return c.setAsNum(this,"timeout",t)}get submitButton(){return this.#iV("submit")}get resetButton(){return this.#iV("reset")}get elements(){return super.elements}get fields(){return Array.from(this.elements).map(t=>t.field||t)}get inputs(){return this.#lA(!0)}get invalid(){return this.inputs.filter(t=>!t.disabled).filter(t=>!t.validity.valid)}get isValid(){return 0===this.invalid.length}});var sd=class extends eo{static properties={storage:{},data:{type:Array},color:{...tG},divider:{reflect:!0},spacing:{reflect:!0,type:Number}};constructor(){super(),this.spacing=1,this.divider="chevron-right",this.#lL()}willUpdate(t){super.willUpdate(t),this.#lL()}renderUI(){let t=this;return tc`<nav part="base" class="breadcrumb" @click="${t.#iM}" dir="${td(t.direction)}"><slot>
      ${tb(t.data||[],t=>t,e=>tc`
        <gs-breadcrumb-item  
        href="${e.href}"
        color="${e.color}"
        .data=${e}     
        .active=${e.active}
        .divider="${e.divider||t.divider}"
        .spacing="${e.spacing||t.spacing}">
          ${e.$text}
        </gs-breadcrumb-item>
      `)}
    </slot></nav>`}onDataRead(t){this.data=t}#lL(){let t=this;t.queryAll("gs-breadcrumb-item").forEach(e=>{e.divider=t.divider,e.spacing=t.spacing,e.color=t.color})}#iM(t){let e=t.target.closest("gs-bradcrumb-item");e?.handle(t)}static{this.define("gs-breadcrumb")}},su=class extends eo{static properties={href:{},color:{...tG},data:{state:!0,type:Object},active:{reflect:!0,type:Boolean},divider:{state:!0,type:Boolean},spacing:{state:!0,type:Number}};constructor(){super(),this.data={}}renderUI(){return tc`<div part="base" class="breadcrumb-item ${tn(this.renderClass())}"  dir="${td(this.direction)}">
        <span part="prefix"><slot name="prefix"></slot></span>        
        ${this.#lN}
        <span part="suffix"><slot name="suffix"></slot></span>
        <span part="separator"><slot name="separator">${this.#lI}</slot></span>
      </div>`}renderClass(){return{...super.renderClass(),active:this.active}}get #lN(){return this.active?tc`<slot></slot>`:(this.data.url=this.data.url||this.href,this.data.part="label",eO.generate(this.data,{}))}get #lI(){return this.nextElementSibling&&this.divider?tc`<gs-icon size="7" color="${this.color}" css="mx-${this.spacing}" name="${this.divider}"></gs-icon>`:""}handle(t){E.process(this.query("a",!0),t)}static{this.define("gs-breadcrumb-item")}},sp=class t{constructor(t,e){this.file=t,this.directory=e}static traverse(e,s){return t.#lR(e,s)}static from(e){return Array.from(e).filter(t=>t instanceof File).map(e=>new t(e))}get fullPath(){return this.directory?`${this.directory}/${this.file.name}`:this.file.name}isImage(){return["image/gif","image/png","image/jpg","image/jpeg","image/svg+xml"].includes(this.file.type)}isVideo(){return["video/mp4","video/quicktime"].includes(this.file.type)}static #lR(e,s){return s&&t.#lM(e)?t.#lD("",t.#lU(e)):Promise.resolve(t.#lO(Array.from(e.files||[])).map(e=>new t(e)))}static #lF(t){return t.name.startsWith(".")}static #lO(e){return Array.from(e).filter(e=>!t.#lF(e))}static #lB(t){return new Promise(function(e,s){t.file(e,s)})}static #lH(t){return new Promise(function(e,s){let i=[],r=t.createReader(),a=()=>{r.readEntries(t=>{t.length>0?(i.push(...t),a()):e(i)},s)};a()})}static async #lD(e,s){let i=[];for(let r of t.#lO(s))if(r.isDirectory){let e=await t.#lH(r),s=await t.#lD(r.fullPath,e);i.push(...s)}else{let s=await t.#lB(r);i.push(new t(s,e))}return i}static #lM(t){return Array.from(t.items).some(t=>{let e=t.webkitGetAsEntry&&t.webkitGetAsEntry();return e&&e.isDirectory})}static #lU(t){return Array.from(t.items).map(t=>t.webkitGetAsEntry()).filter(t=>null!=t)}},sm=class t extends eo{static TITLE="Drop file/s here or click to select";static CSS="border-2 p-4 d-block text-center dash";static properties={cssList:{attribute:"css-list"},cssLabel:{attribute:"css-label"},cssInput:{attribute:"css-input"},multiple:{reflect:!0,type:Boolean},directory:{reflect:!0,type:Boolean},name:{},title:{},accept:{},filter:{},maxFileSize:{reflect:!0,attribute:"max-file-size",type:Number}};#lP=to();#lz=to();#lG=null;constructor(){super(),this.css=t.CSS,this.cssInput="d-none",this.multiple=!0,this.title=t.TITLE,this.filter="^image/(gif|png|jpeg)$",this.directory=!1,this.maxFileSize=0}renderUI(){return tc`
        <div part="border" class="${tn(this.renderClass())}"
            dir="${td(this.direction)}"
            @click="${this.#iM}"
            @dragenter="${this.#lq}"
            @dragover="${this.#lq}"
            @dragleave="${this.#lj}"
            @drop="${this.#lV}"
            @paste="${this.#l_}"
            @change="${this.#aL}">
            <label part="label" class="${this.cssLabel}" for="${this.name}">${this.translate(this.title)}</label>
            <input ${tf(this.#lz)}  part="input" 
                type="file" accept="${this.accept}" 
                class="${this.cssInput}" 
                name="${this.name}" 
                id="${this.name}" 
                ${this.multiple?"multiple":""} 
                ${this.directory?"directory webkitdirectory":""}>
            <pre ${tf(this.#lP)} part="list" class="${this.cssList}"></pre>
        </div>
        `}get listEl(){return this.#lP.value}get fileEl(){return this.#lz.value}#iM(t){this.fileEl.click()}#lq(t){let e=this;e.#lG&&clearTimeout(e.#lG),e.#lG=setTimeout(()=>e.removeAttribute("hover"),200);let s=t.dataTransfer;s&&e.#lW(s)&&(s.dropEffect="copy",e.setAttribute("hover",""),t.preventDefault())}#lj(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none"),this.removeAttribute("hover"),g.prevent(t)}#lV(t){this.removeAttribute("hover");let e=t.dataTransfer;e&&this.#lW(e)&&(this.#lY(e),g.prevent(t))}#l_(t){if(!t.clipboardData||!t.clipboardData.items)return;let e=this.#lJ(t.clipboardData.items);e&&(this.#lY([e]),g.prevent(t))}#aL(t){let e=this.fileEl.files;e&&0!==e.length&&this.#lY(e)}#lW(t){return Array.from(t.types).includes("Files")}#lJ(t){let e=this.filter?new RegExp(this.filter):null;for(let s of t)if("file"===s.kind&&(!e||e.test(s.type)))return s.getAsFile();return null}#oj(t){let e=new DataTransfer;t.forEach(t=>e.items.add(t.file)),this.fileEl.files=e.files,this.listEl.textContent=t.map(t=>t.file.name).join("\n")}async #lY(t){let e=this,s=t instanceof DataTransfer?await sp.traverse(t,e.directory):sp.from(t),i=e.maxFileSize>0?s.filter(t=>t.file.size<=e.maxFileSize):s;e.emit("accept",{attachments:i},!0,!1,!0)&&i.length&&(e.#oj(i),e.emit("accepted",{attachments:i},!0))}static styles=tl`
        .dash {
            border-style: var(--gs-fieldbox-border, dashed) !important;
            border-color: var(--gs-fieldbox-border-color, lightgrey);
        }
        input[type=file] {
            color : var(--gs-fieldbox-color, transparent);
        } 
        input[type=file]::file-selector-button {}             
        input[type=file]::file-selector-button:hover {}`;static{this.define("gs-filebox")}},sg=class extends eo{static properties={interval:{reflect:!0,type:Number},language:{reflect:!0}};#i=0;constructor(){super(),this.interval=1,this.language=a.language}connectedCallback(){super.connectedCallback(),this.start()}disconnectedCallback(){this.stop(),super.disconnectedCallback()}renderUI(){return new Date().toLocaleTimeString(this.language)}start(){this.interval>0&&0===this.#i?this.#i=setInterval(this.#i3.bind(this),1e3*this.interval):this.requestUpdate()}stop(){clearInterval(this.#i),this.#i=0}#i3(){requestAnimationFrame(()=>this.requestUpdate())}static{this.define("gs-time-format")}},sf=class extends eo{static properties={value:{},format:{},language:{}};constructor(){super(),this.language=navigator.language,this.value=new Date}renderUI(){return this.result}get result(){let t=this.date;return this.format?t.format(this.format):new Intl.DateTimeFormat(this.language,this.dataset).format(t)}get date(){let t=new u(Date.parse(this.value||new Date));return t.language=this.language,t}static{this.define("gs-date-format")}},sy=class extends eo{static properties={offset:{type:Number}};constructor(){super(),this.offset=0}renderUI(){return this.value}get value(){return this.current+this.offset}get current(){return new Date().getFullYear()}static{this.define("gs-year-format")}},sb=class extends eo{static properties={value:{},currency:{},language:{}};renderUI(){return this.format}get #sB(){return Object.apply(this.dataset,{style:"currency",currency:this.currency})}get format(){return new Intl.NumberFormat(this.language,this.#sB).format(this.value)}static{this.define("gs-currency-format")}},sv=class t{static{v.adopt(t.style)}static get style(){return`
        .step .step-icon-wrap {
            height: 80px;
        }
        
        .step .step-icon-wrap::before,
        .step .step-icon-wrap::after {
            display: block;
            position: absolute;
            top: 50%;
            width: 50%;
            height: 3px;
            margin-top: -1px;
            background-color: var(--bs-gray-200);
            content: '';
            z-index: 1
        }
        
        .step .step-icon-wrap::before {
            left: 0
        }
        
        .step .step-icon-wrap::after {
            right: 0
        }
        
        .step .step-icon {
            width: 80px;
            height: 80px;
            line-height: 81px;
            z-index: 5
        }
                
        .step:first-child .step-icon-wrap::before {
            display: none
        }
        
        .step:last-child .step-icon-wrap::after {
            display: none
        }
                
        @media (max-width: 576px) {
            .flex-sm-nowrap .step .step-icon-wrap::before,
            .flex-sm-nowrap .step .step-icon-wrap::after {
                display: none
            }
        }
        
        @media (max-width: 768px) {
            .flex-md-nowrap .step .step-icon-wrap::before,
            .flex-md-nowrap .step .step-icon-wrap::after {
                display: none
            }
        }
        
        @media (max-width: 991px) {
            .flex-lg-nowrap .step .step-icon-wrap::before,
            .flex-lg-nowrap .step .step-icon-wrap::after {
                display: none
            }
        }
        
        @media (max-width: 1200px) {
            .flex-xl-nowrap .step .step-icon-wrap::before,
            .flex-xl-nowrap .step .step-icon-wrap::after {
                display: none
            }
        }        
        `}},sC=class t extends eo{static INACTIVE="text-bg-light";static SELECTED="text-bg-primary";static COMPLETED="text-bg-secondary";static ICON_CSS="border rounded-circle fs-1";static TITLE_CSS="mb-0 fs-6 mt-3 fw-bold";static properties={title:{},icon:{},color:{},iconCSS:{attribute:"icon-css"},titleCSS:{attribute:"title-css"}};constructor(){super(),this.icon=t.INACTIVE,this.iconCSS=t.ICON_CSS,this.titleCSS=t.TITLE_CSS}renderUI(){return tc`
        <div class="step d-block w-100 text-center mb-4"  dir="${td(this.direction)}">
            <div class="step-icon-wrap d-block w-100 text-center position-relative">
                <div class="step-icon position-relative d-inline-block ${this.iconCSS} ${this.color||t.INACTIVE}">
                    ${this.#i2()}
                </div>
            </div>
            <div class="step-title ${this.titleCSS}">${this.translate(this.title)}</div>
        </div>        
        `}#i2(){return this.icon?tc`<gs-icon name="${this.icon}"></gs-icon>`:tc`<slot name="icon"></slot>`}static{this.define("gs-step")}};(class t extends eo{static CSS="steps d-flex flex-wrap flex-sm-nowrap justify-content-between padding-top-2x padding-bottom-1x";#lK=-1;constructor(){super()}shouldUpdate(t){return this.steps.length>0}renderUI(){return tc`<div class="${tn(this.renderClass())}"  dir="${td(this.direction)}"><slot></slot></div>`}renderClass(){return this.mapCSS(t.CSS,super.renderClass())}get steps(){return this.queryAll("gs-step",!1,!0)}get length(){return this.steps.length}get index(){return this.#lK}set index(t=0){t<0||t>=this.length||(this.#lK=t)}get current(){return this.steps[this.#lK]}get isFirst(){return 0===this.#lK}get isLast(){return this.#lK===this.length-1}next(){if(0!==this.steps.length)return!this.isLast&&(this.#lK>-1&&(this.current.color=sC.COMPLETED),this.index++,this.current.color=sC.SELECTED,this.current)}previous(){if(0!==this.steps.length)return!this.isFirst&&(this.current.color=sC.INACTIVE,this.index--,this.current.color=sC.SELECTED,this.current)}reset(){let t=this;t.steps.forEach(t=>t.color=sC.INACTIVE),requestAnimationFrame(()=>{t.#lK=0,t.current.color=sC.SELECTED})}static{sv.style,this.define("gs-steps",t)}});var sw=class t extends eo{static TOP_START="position-fixed top-0 start-0";static TOP_CENTER="position-fixed top-0 start-50 translate-middle-x";static TOP_END="position-fixed top-0 end-0";static MIDDLE_START="position-fixed top-50 start-0 translate-middle-y";static MIDDLE_CENTER="position-fixed top-50 start-50 translate-middle";static MIDDLE_END="position-fixed top-50 end-0 translate-middle-y";static BOTTOM_START="position-fixed bottom-0 start-0";static BOTTOM_CENTER="position-fixed bottom-0 start-50 translate-middle-x";static BOTTOM_END="position-fixed bottom-0 end-0";static DEFAULT=t.BOTTOM_END;static properties={position:{reflect:!0},native:{reflect:!0,type:Boolean}};#ee=new Set;constructor(){super(),this.css="p-3",this.position=t.DEFAULT}renderUI(){return tc`<div  dir="${td(this.direction)}"
            class="toast-container z-10k ${tn(this.renderClass())}">
            <slot></slot>
        </div>`}renderClass(){return this.mapCSS(this.#lX,super.renderClass())}get #lX(){let e=this.position||t.DEFAULT;return e.indexOf("_")>0&&t[e]?t[e]:e}clear(){this.queryAll("gs-toast").forEach(t=>t.dismiss())}info(t,e,s,i,r,a){return this.display(t,e,"text-bg-info",s,i,r,a)}success(t,e,s,i,r,a){return this.display(t,e,"text-bg-success",s,i,r,a)}warn(t,e,s,i,r,a){return this.display(t,e,"text-bg-warning",s,i,r,a)}danger(t,e,s,i,r,a){return this.display(t,e,"text-bg-danger",s,i,r,a)}primary(t,e,s,i,r,a){return this.display(t,e,"text-bg-primary",s,i,r,a)}secondary(t,e,s,i,r,a){return this.display(t,e,"text-bg-secondary",s,i,r,a)}dark(t,e,s,i,r,a){return this.display(t,e,"text-bg-dark",s,i,r,a)}light(t,e,s,i,r,a){return this.display(t,e,"text-bg-light",s,i,r,a)}async display(e="",s="",i="",r=!1,a=2,n=.5,l){if(s){if(this.native){let i=await t.requestPermission();if(i&&(i=this.#lZ(e,s,a,n,l)),i)return i}return this.#lQ(e,s,i,r,a,n)}}#lQ(t,e,s,i,r,a){let n=this,l=`<gs-toast css="${s}"  opened ${i?"closable":""} timeout="${r}"  delay="${a}" message="${e}" title="${t}" language="${n.language}" ></gs-toast>`,h=m.parse(l,!0);return requestAnimationFrame(async()=>{await n.#ep(a);let t=n.#l0;t!==n&&c.set(t,"class",`toast-container ${n.css} ${n.position}`),t.appendChild(h)}),h}async #lZ(t,e,s,i,r={}){await this.#ep(i),r.body=r.body||e;let a=new Notification(t,r);this.#ee.add(a);let n=this.#l1.bind({notification:a,owner:this});return a.addEventListener("close",n),s>0&&(a.iid=setTimeout(n,1e3*s)),a}get #l0(){let t=customElements.get("gs-dialog")?.top;return t&&t.isConnected&&m.query(t,".toast-container")||this}async #ep(t=0){GSUtil.isNumber(t)&&t>0&&await GSUtil.timeout(1e3*t)}#l1(){this.notification.close(),this.owner.#ee.delete(this.notification),this.notification.iid&&clearTimeout(this.notification.iid)}clear(){Array.from(this.querySelectorAll("gs-toast")).forEach(t=>t.remove()),this.#ee.forEach(t=>t.close()),this.#ee.clear()}static get isNativeSupported(){return"Notification"in self}static get isGranted(){return"granted"===Notification.permission}static async requestPermission(){return!!t.isNativeSupported&&(t.isGranted||await Notification.requestPermission(),t.isGranted)}static{this.define("gs-notification")}},sS=class extends eo{static properties={closable:{reflect:!0,type:Boolean},opened:{reflect:!0,type:Boolean},message:{reflect:!0},title:{reflect:!0},delay:{reflect:!0,type:Number},timeout:{reflect:!0,type:Number}};#l2=!1;constructor(){super(),this.timeout=2,this.delay=2,this.auto=!0}shouldUpdate(t){let e=this.#l5(t);return this.delay>0&&this.opened&&e&&(this.#l2=!0,this.#l3()),this.#l4&&!this.#l2}#l5(t){return t.has("opened")}async #l3(){await a.timeout(1e3*this.delay),this.#l2=!1,this.requestUpdate()}async updated(t){let e=this.#l5(t);this.timeout>0&&this.opened?(await a.timeout(1e3*this.timeout),this.opened=!1):e&&!this.opened&&this.remove()}renderUI(){return this.title?this.#l9():this.#l6()}#l9(){return tc`
        <div dir="${td(this.direction)}"
            class="mt-1 mb-1 toast fade ${tn(this.renderClass())}">
            <div class="toast-header">
                ${this.translate(this.title)}
                <slot name="header"></slot>
                ${this.closable?this.#iV:""}
            </div>
            <div class="toast-body">
                ${this.translate(this.message)}
                <slot name="body"></slot>
            </div>
        </div>            
        `}#l6(){return tc`
        <div class="mt-1 mb-1 toast fade ${tn(this.renderClass())}">
          <div class="d-flex">
              <div class="toast-body">
              ${this.translate(this.message)}
              <slot name="body"></slot>
              </div>
              ${this.closable?this.#iV:""}
          </div>
        </div>            
        `}renderClass(){return{...super.renderClass(),show:this.opened}}dismiss(){this.opened=!1}get #iV(){return tc`<button type="button" class="btn-close me-2 m-auto" @click="${this.dismiss}"></button>`}get #l4(){let t=m.hasClass(this.parentElement,"toast-container"),e=this.parentElement instanceof sw;return t||e}static{this.define("gs-toast")}},s$=class{#tR;#l7;constructor(t){this.#tR=t,t.addController(this)}hostConnected(){this.#l7=this.#tR.node,this.#l8(this)}hostDisconnected(){this.#ht(this),this.#tR.removeController(this)}hostUpdate(){let t=this.#l7;this.#l7=this.#tR.node,t!=this.#l7&&(this.#ht(this),this.#l8(this))}#l8(t){this.#tR.node?.addController?.(t)}#ht(t){this.#l7?.removeController?.(t)}host(t){return t[Symbol.for("gs-element")]||this.#tR}match(t){let e=this.host(t);return e?.node===t}get store(){return this.#tR.dataController?.store}requestUpdate(t){this.match(t)&&this.host(t).requestUpdate()}},sx=class extends s${constructor(t){super(t)}#he(t,e=!1){let s=this.host(t);s&&(s.loading=e)}onLoad(t){this.#he(t,!0)}onRefresh(t){this.requestUpdate(t)}onAppend(t,e){this.#he(t),this.requestUpdate(t.root)}onInsert(t,e){this.#he(t),this.requestUpdate(t.root)}onExpand(t){let e=this.store;e?e.onExpand(t):this.requestUpdate(t)}onCollapse(t){this.requestUpdate(t)}onFocusChanged(t){this.requestUpdate(t)}onSelectionChanged(t,e){this.requestUpdate(t)}onRemove(t){this.match(t)&&this.host(t).remove()}},sE=class t extends eo{static properties={loading:{state:!0},node:{type:Object,hasChanged:t=>t instanceof Q}};constructor(){super(),this.flat=!0}shouldUpdate(t){return!!this.node}willUpdate(t){super.willUpdate(t),t.has("node")&&(this.node[Symbol.for("gs-element")]=this)}updated(){this.focused&&this.#tI?.focus(),this.dataset.visible=this.visible}renderUI(){let t=this.node,e=this.value||{};e.tooltip=this.translate(e.tooltip),e.title=this.translate(e.title);let s=this.loading?this.#hs(t.level):this.#i2(t.level);return eO.generate(e,this.renderClass(),s)}renderClass(){let t={"list-group-item":!0,"list-group-item-action":!0,"user-select-none  ":!0,"border-0":!this.#hi,"gs-hide":!this.visible};return this.mapCSS(this.#hr,this.mapCSS(this.#ha,t,this.selected&&!this.multiselect),this.focused)}toggle(){this.opened?this.close():this.open()}open(){this.#hn(!0),this.focus()}close(){this.#hn(!1)}toggleSelection(){this.select(!this.selected)}focus(t=!0){t&&super.focus(),this.focused=!0==t}select(t=!0){this.selected=!0==t}handle(t){E.process(this.#tI,t)}get #tI(){return this.query("a")}get isLeaf(){return this.node?.isLeaf}get isFolder(){return!this.isLeaf}get key(){return this.node?.key}get value(){return this.node?.value||{}}get level(){return this.node?.level||-1}get focused(){return this.node?.focused}get visible(){let t=this.parent;return t?.opened||t?.level===-1}get parent(){return this.node?.parent}get parentItem(){let e=this.parent?.[Symbol.for("gs-element")];return e instanceof t?e:void 0}set focused(t){t=!0===t,this.node.focused=t}get selected(){return this.node?.selected}set selected(t){t=!0===t,this.isFolder&&this.owner.leaf&&(t=!1),this.multiselect?t?this.node.selectAll():this.node.deselectAll():this.node.selected=t}get opened(){return this.node?.opened}set opened(t){this.#hn(!0===t)}get owner(){return this.closest("gs-tree")}get multiselect(){return this.owner.multiselect}get #hr(){return this.owner.cssFocus||"focus-ring"}get #ha(){return this.owner.cssSelected||"active"}get #aH(){return this.owner.cssCheck||""}get #ho(){return this.owner.checkColor||"secondary"}get #hl(){return this.owner.checkColorSelected||"primary"}get #hi(){return this.value?.border===!0||!0===this.owner.border}get #nk(){let t=this.node,e=this.value,s=this.owner,i=e.icon||s.itemIcon;return t.isFolder&&(i=t.opened?e.openIcon||s.openIcon:e.closeIcon||s.closeIcon),i}#hh(t){return tc`<gs-indent size="${t}"></gs-indent>`}#hs(t){return tc`${this.#hh(t)}<gs-spinner small></gs-spinner>`}#i2(t){return tc`${this.#hh(t)}${this.#hc()}<gs-icon size="5" name="${this.#nk}"></gs-icon>`}#hc(){if(!this.multiselect)return"";let t=this.selected?this.#hl:this.#ho,e=this.node.isPartialySelected?"dash-square-fill":this.selected?"check-square-fill":"square";return tc`<gs-icon size="6" data-type="state" 
                css="me-1 text-${t} ${this.#aH}"
                name="${e}"></gs-icon>`}#hn(t=!1){this.node?.isFolder&&(this.node.opened=t)}static{this.define("gs-tree-item")}},sk=class t extends eo{static styles=tl`            
    :focus-visible {
      outline: none !important;
    }  
    .list-group-item {
      cursor: pointer;
    }`;static shared={itemIcon:{attribute:"icon-item"},closeIcon:{attribute:"icon-close"},openIcon:{attribute:"icon-open"},cssCheck:{attribute:"css-check"},cssFocus:{attribute:"css-focus"},cssSelected:{attribute:"css-selected"},checkColor:{attribute:"check-color",...tG},checkColorSelected:{attribute:"check-color-selected",...tG}};static properties={storage:{},data:{type:Object},node:{type:Object,hasChanged:t=>t instanceof Q},border:{type:Boolean,reflect:!0},guide:{type:Boolean,reflect:!0},leaf:{type:Boolean,reflect:!0},multiselect:{type:Boolean,reflect:!0},circular:{type:Boolean,reflect:!0},...t.shared};static options={...t.shared,css:{},icon:{},color:{},title:{},tooltip:{},opened:{type:Boolean},selected:{type:Boolean}};#ew=!1;#hd=to();#ry=null;constructor(){super(),this.leaf=!1,this.multiselect=!1,this.data=m.toJson(this,!0,!0).items,this.node=new Q(null,{"#tagName":this.tagName},null,-1),this.itemIcon="file-earmark",this.closeIcon="folder",this.openIcon="folder2-open",this.cssSelected="active",this.cssFocus="focus-ring",this.node[Symbol.for("gs-element")]=this,this.#ry=new sx(this)}renderUI(){return tc`<div  dir="${td(this.direction)}"
          class="treeview ${tn(this.renderClass())}"          
          @click="${this.#iM}"
          @keydown="${this.#M}"
          @keyup="${this.#iD}">
          <div class="list-group" ${tf(this.#hd)}>
          ${tb(this.node.walk(this.node,!1,!1),t=>t.key,t=>tc`
            <gs-tree-item .node="${t}"></gs-tree-item>
          `)}
          </div>    
        </div>`}shouldUpdate(t){let e=this;return t.has("data")&&e.data&&!e.#ew&&(e.#ew=!0,queueMicrotask(()=>{e.node.clear(),e.node.fromJSON(e.data),e.#ew=!1,e.requestUpdate()})),!!this.node}willUpdate(t){super.willUpdate(t),t.has("multiselect")&&!this.multiselect&&this.node?.deselectAll(),this.node.multi=this.multiselect}onDataRead(t){t instanceof Q?t.root!==this.node&&(this.node=t):this.data=t}next(t=!1){let e=this.nextItem;return!e&this.circular&&(e=this.#iz),e?.visible&&(e.focus(),t&&this.focused?.isFolder&&this.focused.open()),this.focused}previous(t=!1){let e=this.previousItem;return!e&this.circular&&(e=this.#iH),e?.visible&&(e.focus(),e.isFolder&&t&&e.close()),this.focused}expandAll(){this.node?.expandAll()}collapseAll(){this.node?.collapseAll()}open(t){this.focused?.open()}close(t){this.focused?.close()}clear(){this.node?.clear(),this.requestUpdate()}reload(){this.clear(),this.dataController?.read()}get selected(){return this.#tR(this.node.selectedNodes())}get focused(){return this.#tR(this.node.focusedNode())}get previousItem(){return this.focused?.node.find(t=>t?.visible,!0,!0)?.[Symbol.for("gs-element")]}get nextItem(){return this.focused?.node.find(t=>t?.visible,!0)?.[Symbol.for("gs-element")]}get #ee(){return this.#hd.value}get #iz(){return this.#ee.firstElementChild}get #iH(){return this.#ee.lastElementChild}#tR(t){return Array.isArray(t)?t.map(t=>t[Symbol.for("gs-element")]).filter(t=>t):t?.[Symbol.for("gs-element")]}#iM(t){let e="GS-ICON"===t.target.tagName?t.target:t.target.closest("gs-icon"),s=e?.dataset.type==="state",i=t.target.closest("gs-tree-item");if(!i.node)return;this.multiselect?s&&i.toggleSelection():i.select(!0);let r=this.multiselect&&!s||!this.multiselect;i.isFolder&&r&&i.toggle(),i.focus(),i.handle(t)}#M(t){let e=this.focused;if(e)switch(t.code){case"ArrowUp":this.previous();break;case"ArrowDown":this.next();break;case"ArrowLeft":e.isFolder?e.opened?this.close():(e.parentItem||e)?.focus():this.previous();break;case"ArrowRight":e.isFolder&&!e.opened?this.open():this.next();break;case"Enter":e.isFolder&&e.toggle()}}#iD(t){let e=t.target.closest("gs-tree-item");if(e?.node)switch(t.code){case"Enter":e.handle(t);break;case"Tab":e.focus();break;case"Space":e.select(!this.multiselect||!e.selected),e.focus()}}static{this.define("gs-tree")}},sT=class extends eo{static properties={src:{},scope:{},module:{type:Boolean,default:!1},trace:{type:Boolean,reflect:!0,default:!1},disabled:{type:Boolean,reflect:!0,default:!1}};#hu=!1;#hp=null;#hm=null;#hg=!1;constructor(){super()}connectedCallback(){super.connectedCallback(),this.#hp=this.#hf.bind(this),this.#io()}disconnectedCallback(){super.disconnectedCallback(),this.#hy()}willUpdate(t){t.has("trace")&&this.#hb(),t.has("disabled")&&(this.disabled?this.#hy():this.#io()),super.willUpdate(t)}get available(){return"serviceWorker"in navigator&&this.src&&a.isURL(this.src)}get registration(){return this.#hu}clearCache(){return this.postMessage("CLEAR_CACHE")}refresh(){return this.postMessage("REFRESH_CACHE")}postMessage(t){let e=a.nonNull(t)&&this.isLoaded;return e&&(this.#hm?this.#hm.port1.postMessage(t):this.#hu?.active?.postMessage(t)),e}onMessage(t){return me.#hv("ServiceWorker message received:",t),!0}#hf=t=>{t.data?this.onMessage(t)&&this.emit("message",t.data,!0,!0,!0):this.#hv("ServiceWorker message is empty:",t)};#hC(){this.#hu?.active&&(this.#hm=new MessageChannel,this.#hm.port1.onmessage=this.#hp,this.#hb(),this.#hu.active.postMessage("INIT_PORT",[this.#hm.port2]))}#hb(){this.#hu?.active?.postMessage(this.trace?"TRACE_ON":"TRACE_OFF")}async #hw(t){return t?.waiting?.postMessage("NOTIFICATION_WAITING")}#hS(t){let e=this;t.addEventListener("updatefound",()=>{t.installing?.addEventListener("statechange",()=>{t.waiting&&(navigator.serviceWorker.controller?e.#hw(t):e.#hv("Service Worker initialized for the first time"))})})}#h$(){let t=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{t||(window.location.reload(),t=!0)})}async #hy(){$.NO_CACHE=this.#hg,this.disabled&&await this.#hu?.unregister(),this.#hm?.port1.close(),this.#hm?.port2.close(),this.#hm=null,this.#hu=null}async #io(){if(!this.disabled){if(this.#hg=$.NO_CACHE,$.NO_CACHE=!1,!this.available)return void console.warn("Service Worker is not available in this browser or src is not valid.");try{let t=this.scope?{scope:this.scope}:{};this.module&&(t.type="module"),this.#hu=await navigator.serviceWorker.register(this.src,t),this.#hv("ServiceWorker registration started:",this.#hu),this.#h$(),this.#hw(this.#hu),this.#hS(this.#hu),this.#hC(this.#hu),this.#hv("ServiceWorker registration successful with scope: ",this.#hu.scope)}catch(t){this.#hu=!1,console.error("Service Worker registration failed:",t)}this.emit("loaded",this.isLoaded,!0,!0,!0)}}#hv(t,e=""){this.trace&&console.log(t,e)}static{this.define("gs-service-worker")}},sA=class t extends eo{static get URL_LIB(){return globalThis.GS_URL_CHART||globalThis.location?.origin||"/bootstrap-lit"}static properties={url:{},config:{},storage:{},height:{type:Number},width:{type:Number},data:{type:Array},options:{type:Object}};#hx=to();#hE=null;constructor(){super(),this.height=0,this.width=0,t.#to()}connectedCallback(){super.connectedCallback(),this.#hk()}disconnectedCallback(){super.disconnectedCallback(),this.#hE&&this.#hE.destroy(),this.#hE=null}shouldUpdate(e){return t.#hT}firstUpdated(t){this.#hA(),super.firstUpdated(t)}updated(t){(t.has("url")||t.has("config"))&&this.#hA(),(t.has("data")||t.has("options"))&&this.#hL(this.data,this.options)}renderUI(){return tc`<canvas ${tf(this.#hx)} 
                class="${tn(this.renderClass())}"
                width="${td(this.width>0&&this.width)}" 
                height="${td(this.height>0&&this.height)}" >
            </canvas>`}onDataRead(t){this.data=t}get canvas(){return this.#hx.value}reset(){this.#hE?.reset()}refresh(){this.#hE?.render()}updateChart(t){this.#hE?.update(t)}stop(){this.#hE?.stop()}clear(){this.#hE?.clear()}resize(t,e){let s=this;s.#hE&&requestAnimationFrame(()=>{let i=s.query("div");i&&(i.style.width=`${t}px`,i.style.height=`${e}px`),s.#hE.resize(t,e)})}toBase64Image(t="image/png",e=1){return this.#hE?.toBase64Image(t,e)}async #hA(){try{let t=await $.loadSafe(this.config,"GET",null,!0,{}),e=await $.loadSafe(this.url,"GET",null,!0,[]);this.data=e,this.options=t}catch(t){r.error(null,t)}}#hL(e,s){let i=this.querySelector('gs-item[group="options"]'),a=Object.assign(s,t.toJson(i)),n=a.data.datasets;if(n.forEach((t,s)=>t.data=1===n.length?e:e[s]||[]),this.#hE)return this.updateChart(a);let l=this.canvas?.getContext("2d");l?this.#hE=new t.#hN(l,a):r.error(null,"Failed to get canvas context")}async #hk(){t.#hT||await g.wait(document,"gs-chart",0,!1),this.requestUpdate()}static #hT=!1;static #hI=!1;static #hN=null;static async #to(){if(!1!==t.URL_LIB&&!t.#hT&&!t.#hI){t.#hI=!0;try{let e=t.URL_LIB,s=`${e}/assets/chart/chart.mjs`,{Chart:i,registerables:r}=await import(s);i.register(...r),t.#hN=i,t.#hT=!0,g.send(document,"gs-chart")}catch(t){r.error(null,t)}finally{t.#hI=!1}}}static toJson(e,s="name",i="value",r="type"){if(!(e instanceof HTMLElement))return{};let a=e.getAttribute(s),n=e.getAttribute(i),l=e.getAttribute(r),h=null;switch(l){case"array":h=[];break;case"object":h={};break;default:return t.#v(n,l)}let c=Array.from(e.children),d="array"===l,u="object"===l;return c.forEach(e=>{let n=e.getAttribute(s);if(d)h.push(GSChart.toJson(e,s,i,r));else if(u){let a=t.toJson(e,s,i,r);h[n]=a}else{let t=e.getAttribute(i),s=e.getAttribute(r);h[a][n]=GSChart.#v(t,s)}}),h}static #v(t,e){switch(e){case"boolean":return"true"===t;case"number":return parseFloat(t);default:return t}}static{this.define("gs-chart")}},sL=class t extends eo{static get URL_LIB(){return globalThis.GS_URL_HLJS||"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0"}static properties={url:{},theme:{},target:{},language:{}};#hR=to();#sp;constructor(){super(),this.theme="default"}willUpdate(t){t.has("theme")&&this.#eP(),t.has("target")&&this.#hM(),t.has("url")&&this.#hD(),t.has("language")&&this.#hU(this.#sp)}renderUI(){return tc`<pre><code ${tf(this.#hR)} class="${tn(this.renderClass())}"><code/><pre/>`}renderClass(){let t=a.isStringNonEmpty(this.language);return{[`language-${this.language}`]:t}}highlight(t="",e=!1){this.#sp=t,this.#hU(t,e)}set content(t=""){this.#sp=t,this.#hU(t)}get content(){return this.#sp}async #eP(){let e=`${t.URL_LIB}/styles/${this.theme}.min.css`;m.injectCSS(this,e)}#hM(){let t=this.target?m.query(this.target):null;if(!t)return m.setHTML(this.#hO,`Element with id ${this.target} not found!`);this.#sp=t.innerHTML,this.#hU(t.innerHTML)}async #hD(){try{let t=await $.load(this.url);if(!t)throw Error(`Code URL ${this.url} unreachable!`);this.#sp=t,this.#hU(t)}catch(t){m.setHTML(this.#hO,t.message)}}get #hO(){return this.#hR.value}#hF(t){let e=t.data.data;URL.revokeObjectURL(t.data.url),m.setHTML(this.#hO,t.data.append?this.#hO.innerHTML+e:e),t.target.terminate()}#hU(t="",e=!1){if(!t)return m.setHTML(this.#hO,"No data!");try{let s=this.#hB,i=new Blob([s],{type:"application/javascript"}),r=URL.createObjectURL(i),a=new Worker(r);a.onmessage=this.#hF.bind(this),a.postMessage({data:t,url:r,append:e})}catch(t){m.setHTML(this.#hO,t.message)}}get #hB(){let e=this.language?this.language.split(",").map(e=>`importScripts('${t.URL_LIB}/languages/${e.trim()}.min.js');`).join(""):"";return`globalThis.onmessage = (event) => {
                importScripts('${t.URL_LIB}/highlight.min.js');
                ${e}
                const result = globalThis.hljs.highlightAuto(event.data.data);
                postMessage({data:result.value, url:event.data.url, append: event.data.append});};`}static{this.define("gs-highlight")}},sN=class t extends eo{static get URL_LIB(){return globalThis.GS_URL_MARKDOWN||"https://unpkg.com/showdown/dist/showdown.min.js"}static properties={url:{},history:{type:Number},maxHeight:{type:Number,attribute:"max-height"}};#hH=to();#hP=null;#iH=null;#iz=null;#sN=null;#nI=null;#L=[];#ra=l.id;constructor(){super(),this.history=10,this.dynamicStyle(this.#ra)}async connectedCallback(){await this.#hz(),globalThis.showdown&&(this.#hP=new globalThis.showdown.Converter({tasklists:!0,tables:!0}),super.connectedCallback())}willUpdate(t){t.has("url")&&(this.#hG(this.url),this.#hD(this.url))}renderUI(){let t=this.maxHeight>0&&`${this.maxHeight}px;`;return this.dynamicStyle(this.#ra,{"max-height":t}),tc`<div ${tf(this.#hH)} class="overflow-auto ${tn(this.renderClass())}"><div/>`}renderClass(){let t=a.isStringNonEmpty(this.language);return{[this.#ra]:!0,[`language-${this.language}`]:t}}back(){let t=this.#hq();this.#hD(t)}get root(){return this.#sN||""}get #hj(){return this.#hH.value}async #hD(t=""){let e=this;if(!(t=e.#o(t)))return;let s=await $.load(t);s&&(e.#nI=e.#eX(t),e.#sN||(e.#sN=e.#nI),s=s.replace(/^[-_\*]{3}$/gm,"<hr>"),e.#hj.innerHTML=e.#hV(s),g.send(e,"data",t),requestAnimationFrame(()=>{e.#h_(),e.#hW(),e.#hY()}))}#o(t=""){return!t||t.startsWith("http")?t:this.#nI?new URL(t,this.#nI).toString():$.normalizeURL(t,!0)}#eX(t=""){return t.endsWith("/")?t:$.parentPath(t)}#hY(){this.#hJ("pre:has(code)","text-white bg-dark p-1")}#hW(){this.#hJ("table","table table-light table-hover table-striped table-bordered w-auto shadow-sm")}#hJ(t,e){let s=m.queryAll(this.#hj,t);requestAnimationFrame(()=>s.forEach(t=>m.toggleClass(t,e)))}#h_(){let t=this,e=m.queryAll(t.#hj,"a").filter(t=>!c.get(t,"href").startsWith("#"));e.filter(t=>!(c.get(t,"href").endsWith(".md")||c.get(t,"href").endsWith("/"))).forEach(t=>t.target="_blank"),e.filter(t=>c.get(t,"href").endsWith(".md")||c.get(t,"href").endsWith("/")).forEach(e=>g.attach(e,e,"click",t.#hK.bind(t)))}#hK(t){let e=t.target,s=c.get(e,"href");if(!s.startsWith("#")&&(g.prevent(t),e.href=this.#o(s),g.send(this,"link",e.href,!1,!1,!0)))return this.#hG(e.href),this.#hD(e.href),!1}#hq(){if(0===this.#L.length)return this.#iz;let t=this.#L.pop();return t&&t===this.#iH?this.#hq():t}#hG(t){this.#L.length>=this.history&&(this.#L=this.#L.slice(1)),this.#iH!=t&&(this.#L.push(t),this.#iH=t,this.#iz||(this.#iz=t))}#hV(t){return this.#hP.makeHtml(t)}async #hz(){if(globalThis.showdown)return;let e=document.createElement("script"),s=g.wait(e,"load",0,!1);e.type="text/javascript",e.src=t.URL_LIB,m.appendChild(document.head,e),await s}static{this.define("gs-markdown")}},sI=class t extends eo{static get URL_LIB(){return globalThis.GS_URL_MONACO||"https://unpkg.com/monaco-editor@latest/min/"}static properties={url:{},theme:{},target:{},language:{}};#hH=to();#hX=null;constructor(){super(),this.language="",this.theme="vs-dark"}async connectedCallback(){await t.#to(),super.connectedCallback()}createRenderRoot(){return this}firstUpdated(){this.#hZ(),super.firstUpdated()}willUpdate(t){this.#hX&&(t.has("theme")&&this.#eP(this.theme),t.has("target")&&this.#hM(this.target),t.has("url")&&this.#hD(this.url),t.has("language")&&this.#s9(this.language))}renderUI(){return tc`<div ${tf(this.#hH)} class="${tn(this.renderClass())}"><div/>`}get monaco(){return window.monaco}get editor(){return this.#hX}get model(){return this.#hX.getModel()}get code(){return this.#hX?.getValue()||""}set code(t=""){this.#hX&&this.#hX.setValue(t)}get selection(){return this.model.getValueInRange(this.editor.getSelection())}get owner(){return this.parentElement}#s9(t){this.monaco&&t&&this.monaco.editor.setModelLanguage(this.model,t)}#eP(t){this.monaco&&t&&this.monaco.editor.setTheme(t)}#hM(t){let e=t?m.query(t):null;if(!e)return this.code=`Element with id ${t} not found!`;this.code=e.innerHTML}async #hD(t){try{let e=t?await $.load(t):null;if(!e)throw Error(`Code URL ${t} unreachable!`);this.code="",this.#s9(this.language),this.code=e}catch(t){this.code=t.message}}#hZ(){let t=this,e={value:"",language:t.language,theme:t.theme,automaticLayout:!0,minimap:{enabled:!1}};t.#hX=t.monaco?.editor?.create(t.#hj,e),t.attachEvent(window,"resize",t.#G.bind(t));try{t.url?t.#hD(t.url):t.target&&t.#hM(t.target)}finally{requestAnimationFrame(()=>t.emit("initialized")),t.#G()}}#G(t){let e=this;e.#hX&&(e.#hX.layout({width:0,height:0}),requestAnimationFrame(()=>{let t=e.owner?.getBoundingClientRect();t&&e.#hX.layout({width:t.width,height:t.height})}))}get #hj(){return this.#hH.value}static #hQ;static async #hz(){if(globalThis.monaco)return;let e=document.createElement("script"),s=g.wait(e,"load",0,!1);e.type="text/javascript",e.src=`${t.URL_LIB}vs/loader.js`,m.appendChild(document.head,e),await s}static #h0(){let e=t.URL_LIB;window.MonacoEnvironment={baseUrl:`${e}`,getWorkerUrl:(t,s)=>`data:text/javascript;charset=utf-8,${encodeURIComponent(`
                globalThis.MonacoEnvironment = {baseUrl: '${e}'};
                importScripts('${e}vs/base/worker/workerMain.js');`)}`}}static #h1(){return new Promise((s,i)=>{e.config({paths:{vs:`${t.URL_LIB}/vs`},"vs/css":{disabled:!1}}),e(["vs/editor/editor.main"],s)})}static async #to(){t.#hQ||(t.#h0(),await t.#hz(),await t.#h1(),t.#hQ=!0)}static{this.define("gs-monaco")}};export{s$ as AbstractTreeController,t9 as AdoptedController,t6 as AttributeController,tM as AutocapitalizeTypes,tU as AutocompleteTypes,tF as AutocorrectTypes,z as BinaryTree,P as BinaryTreeNode,tH as ButtonTypes,tz as ColorTypes,st as ComboController,t7 as ContentController,sn as ControllerHandler,e5 as CopySelectController,t8 as DataController,Y as DataSelector,q as DoublyLinkedList,et as ElementMoveController,eh as ElementNavigationController,tq as EnvironmentTypes,f as GSAbortController,K as GSAbstractReadWrite,eu as GSAccordionElement,ep as GSAccordionItemElement,S as GSAdoptedEngine,em as GSAlertElement,sp as GSAttachment,c as GSAttr,E as GSAttributeHandler,k as GSBeep,sd as GSBreadcrumbElement,su as GSBreadcrumbItemElement,d as GSCSSMap,v as GSCacheStyles,Z as GSCachedReadWrite,eg as GSCalendarElement,ef as GSCardElement,ey as GSCenterElement,sA as GSChartElement,eC as GSCompareElement,ev as GSContextElement,ew as GSControllerElement,eS as GSCopyrightElement,sb as GSCurrencyFormat,m as GSDOM,y as GSDOMObserver,p as GSData,e$ as GSDataHandler,sc as GSDataListElement,u as GSDate,sf as GSDateFormat,ex as GSDialogElement,eE as GSDrawerElement,ek as GSDropdownElement,b as GSDynamicStyle,eo as GSElement,eT as GSEmailElement,T as GSEnvironment,L as GSEvent,N as GSEventBus,g as GSEvents,sm as GSFileBoxElement,eA as GSFormGroupElement,eL as GSFormPanelElement,n as GSFunction,I as GSGesture,eN as GSGroupElement,sL as GSHighlightElement,l as GSID,eI as GSIconElement,eD as GSImageElement,eR as GSIndentElement,so as GSInputElement,R as GSItem,eU as GSLayoutElement,eO as GSLinklement,eF as GSListElement,eB as GSListItemElement,$ as GSLoader,D as GSLocalization,r as GSLog,sN as GSMarkdownElement,eb as GSMenuElement,sI as GSMonacoElement,eH as GSMouseElement,eP as GSMovableElement,ez as GSNavElement,eG as GSNavItemElement,sw as GSNotificationElement,eq as GSOverlayElement,ej as GSPagerElement,e_ as GSPopoverElement,U as GSPopper,eV as GSPopupElement,eW as GSProgressElement,A as GSPromise,F as GSQuery,O as GSQueryCSS,X as GSReadWrite,J as GSReadWriteRegistry,B as GSRouter,ed as GSRouterElement,sh as GSSelectElement,eY as GSSpinnerElement,eJ as GSSplitterElement,sv as GSStepStyle,eZ as GSTabGroupElement,eK as GSTabItemElement,eX as GSTabPanelElement,eQ as GSTableElement,x as GSTemplateCache,e2 as GSTemplateElement,sl as GSTextAreaElement,e0 as GSTextElement,H as GSTheme,sg as GSTimeFormat,sS as GSToastElement,e1 as GSTooltipElement,sk as GSTreeElement,sE as GSTreeItemElement,tt as GSTreeReader,a as GSUtil,s as GSVersion,sy as GSYearFormat,ec as GroupController,tV as InputTypes,e8 as InteractiveController,j as LinkedList,se as ListController,ee as LocalizationController,e3 as MaskController,e4 as MultipatternController,tW as NavTypes,G as Node,e9 as NumberController,es as OrientationController,tJ as OrientationTypes,e6 as PasswordController,tX as PlacementTypes,tQ as PositionTypes,t1 as ProtocolTypes,_ as Queue,sT as ServiceWorkkerElement,t5 as SizeTypes,en as SlotController,V as Stack,er as TemplateController,e7 as TextController,ea as ThemeController,W as Tree,sx as TreeController,Q as TreeNode,ss as ValidityController,tD as autocapitalize,tO as autocomplete,tB as autocorrect,tP as buttonType,tG as color,tT as cssMap,tx as dataset,tj as environment,i as gsstyles,t_ as inputType,tk as literalTemplate,sr as mixin,tY as nav,tA as notEmpty,tN as numGE0,tL as numGT0,tR as numLE0,tI as numLT0,tK as orientation,tZ as placement,t0 as position,t2 as protocol,t3 as size,t4 as stringArrayConverter};
//# sourceMappingURL=io.greenscreens.components.all.min.js.map