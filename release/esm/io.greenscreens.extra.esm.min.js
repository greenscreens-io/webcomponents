class GSID{static#t=0;static reset(){this.#t=0}static next(t='GSId-'){return`${t}${this.#t++}`}static get id(){return this.next()}static hashCode(t){const e=(t||'').length;let n=0,r=0;if(0===e)return n;for(;r<e;)n=(n<<5)-n+t.charCodeAt(r++)|0;return n}static setIf(t){t&&(t.id='string'!=typeof t.id?GSID.id:t.id||GSID.id)}static{Object.freeze(GSID)}}class GSLog{static logging=!0;static tracing=!1;static info(t,e){this.#e(t,e,!0,'info')}static warn(t,e){this.#e(t,e,!0,'warn')}static error(t,e){this.#e(t,e,!0,'error')}static trace(t,e){GSLog.tracing&&this.#e(t,e,!1,'error')}static log(t,e,n){this.#e(t,e,n)}static#e(t,e,n,r){if(!n&&!this.logging)return;const s=t?`${t.nodeName} -> ${t.id}: ${e}`:e;let i=console[r||'log'];i='function'==typeof i?i:console.log,i(s),e instanceof Error&&i(e)}static{Object.seal(GSLog)}}class GSUtil{static FLAT=1==globalThis.GS_FLAT;static ALPHANUM=/^[a-zA-Z0-9-_]+$/;static#n=/(['"])?([a-z0-9A-Z_]+)(['"])?\s*:/g;static isNumber=t=>!isNaN(parseFloat(t))&&isFinite(t);static isBool=t=>'boolean'==typeof t||t instanceof Boolean;static isString=t=>'string'==typeof t;static isNull=t=>null==t;static toBinary=(t=0)=>t.toString(2);static asNum=(t=0,e=0)=>GSUtil.isNumber(t)?parseFloat(t):e;static asBool=(t=!1)=>'true'===t?.toString().trim().toLowerCase();static fromLiteral=(t='',e)=>t.replace(/\${(.*?)}/g,((t,n)=>e[n]));static capitalize=(t='')=>t?t[0].toUpperCase()+t.slice(1).toLowerCase():'';static capitalizeAll=(t='',e=' ')=>t.split(e).map(((t,e)=>GSUtil.capitalize(t))).join(e);static capitalizeAttr=(t='')=>t.split('-').map(((t,e)=>e?GSUtil.capitalize(t):t)).join('');static initerror=()=>{throw new Error('This class cannot be instantiated')};static isInstance=t=>t instanceof t.constructor;static isURL=(t='')=>/^(https?:\/\/|\/{1,2}|\.\/{1})(\S*\/*){1,}/i.test(t.trim());static isHTML=(t='')=>t.trim().startsWith('<')&&t.trim().endsWith('>');static generateUUID=(t='xxxx-xxxx-xxxx-xxxx-xxxx',e='abcdef0123456789')=>t.replace(/[x]/g,(()=>e[Math.floor(Math.random()*e.length)]));static get locale(){return navigator.language?navigator.language:navigator.languages[0]}static isJsonString(t=''){return'string'==typeof t&&(t.startsWith('{')||t.startsWith('['))}static isJsonType(t=''){return!GSUtil.isNull(t)&&(Array.isArray(t)||'object'==typeof t)}static isJson(t=''){return GSUtil.isJsonString(t)||GSUtil.isJsonType(t)}static toJson(t='',e={},n=!0){return GSUtil.isJsonString(t)?JSON.parse(n?GSUtil.normalizeJson(t):t):GSUtil.isJsonType(t)?t:(t&&GSLog.warn(null,`Invalid data to convert into JSON: ${t}`),e)}static normalizeJson(t=''){return t?.replace(GSUtil.#n,'"$2": ')}static normalize(t,e=''){return(t??e).toString().trim()}static textTransform(t='',e=''){switch(t){case'lowercase':e=e.toLowerCase();break;case'uppercase':e=e.toUpperCase();break;case'capitalize':e=GSUtil.capitalizeAll(e)}return e}static sanitize(t=''){const e={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#x27;','/':'&#x2F;'};return t.replace(/[&<>"'/]/gi,(t=>e[t]))}static fromTemplateLiteral(t,e){const n=Object.keys(e),r=Object.values(e);return new Function(...n,`return \`${t}\`;`)(...r)}static parseValue(t){if(!GSUtil.isString(t))return;if(!GSUtil.isStringNonEmpty(t))return;let e=window,n=null;return t.trim().split('.').forEach(((t,r,s)=>{if(e)return r<s.length-1?e=e[t]:void(n=e[t])})),n}static isStringNonEmpty(t=''){return!GSUtil.isStringEmpty(t)}static isStringEmpty(t=''){return 0===GSUtil.normalize(t).trim().length}static isStringMatch(t,e){const n=GSUtil.isStringNonEmpty(t),r=GSUtil.isStringNonEmpty(e);return n&&r?t.trim().toLowerCase()==e.trim().toLowerCase():n===r}static async timeout(t=0,e){return e=GSUtil.isNumber(e)?AbortSignal.timeout(e):e,new Promise(((n,r)=>{const s=setTimeout(n.bind(null,!0),t);e instanceof AbortSignal&&e.addEventListener('abort',(()=>{clearTimeout(s),r(new Error('aborted timeout'))}))}))}static async export(t,e,n='octet/stream'){const r=new Blob(t,{type:n}),s=URL.createObjectURL(r);try{const t=document.createElement('a');t.href=s,t.download=e,t.click(),await GSUtil.timeout(2e3)}finally{URL.revokeObjectURL(s)}}static register(t,e,n,r=!0,s=!1,i=!1){HTMLElement.isPrototypeOf(e)&&(customElements.get(t)||(customElements.define(t,e,{extends:n?.toLowerCase()}),r&&!Object.isSealed(e)&&Object.seal(e),s&&!Object.isFrozen(e)&&Object.freeze(e),i&&(self[e.name]=e)))}static async importSource(t){const e=new Blob([t],{type:'text/javascript'}),n=URL.createObjectURL(e);try{return await import(n)}finally{URL.revokeObjectURL(n)}}static{Object.seal(GSUtil),globalThis.GSUtil=GSUtil}}let t=class GSAttr{static isHTMLElement(t){return t instanceof HTMLElement}static toggle(t,e,n=!1){GSAttr.isHTMLElement(t)&&(n?t.setAttribute(e,''):t.removeAttribute(e))}static set(t,e,n){GSAttr.isHTMLElement(t)&&(GSUtil.normalize(n)?t.setAttribute(e,n):t.removeAttribute(e))}static get(t,e='',n=''){if(!GSAttr.isHTMLElement(t))return n;if(!GSUtil.isInstance(t))return;const r=t.getAttribute(e)||n;return GSUtil.normalize(r)}static getAsBool(t,e='',n='false'){const r=GSAttr.get(t,e,n);return GSUtil.asBool(r,n)}static getAsNum(t,e='',n='0'){const r=GSAttr.get(t,e,n);return GSUtil.asNum(r,n)}static getAsJson(t,e='',n='0'){const r=GSAttr.get(t,e,n,{});return GSUtil.toJson(r)}static setAsBool(t,e='',n='false'){GSAttr.set(t,e,GSUtil.asBool(n),!1)}static setAsNum(t,e='',n='0'){GSAttr.set(t,e,GSUtil.asNum(n),NaN)}static setAsJson(t,e='',n='0'){GSAttr.set(t,e,JSON.stringify(n),'{}')}static flattenJson(t){return Object.entries(t||{}).map((t=>`${t[0]}=${t[1]}`)).join(' ')}static jsonToAttr(t,e){GSAttr.isHTMLElement(e)&&Object.entries(t||{}).map((t=>GSAttr.set(e,t[0],t[1])))}static dataToString(t){return Array.from(t.attributes).filter((t=>t.name.startsWith('data-'))).map((t=>`${t.name}="${t.value}"`)).join(' ')}static flatten(t,e=' '){return Array.from(t?.attributes||[]).map((t=>`${t.name}="${t.value}"`)).join(e)}static proxify(t,e={}){return new Proxy(t,{set(t,n,r){if('self'===n)return;if('dataset'===n)return t.dataset=r;const s=e[n]?.type;switch(n=e[n]?.attribute||n,s){case Boolean:GSAttr.toggle(t,n,GSUtil.asBool(r));break;case Number:GSAttr.setAsNum(t,n,r);break;case Object:case Array:GSAttr.set(t,n,JSON.stringify(r));default:GSAttr.set(t,n,r)}return!0},get(t,n){if('dataset'===n)return t.dataset;if('self'===n)return t;const r=e[n]?.type,s=!0===e[n]?.multi;n=e[n]?.attribute||n;let i=GSAttr.get(t,n);switch(r){case Boolean:return t.hasAttribute(n);case Number:return GSUtil.asNum(i,0);case Object:return GSUtil.toJson(i,{});case Array:return GSUtil.toJson(i,[]);default:return i=i||'',s?GSUtil.toStringArray(i):i}}})}static{Object.seal(GSAttr),globalThis.GSAttr=GSAttr}},e=class GSFunction{static isFunction=t=>'function'==typeof t;static isFunctionNative(t){return GSFunction.isFunction(t)&&t.toString().includes('native code')}static hasFunction(t,e){return t&&GSFunction.isFunction(t[e])}static isFunctionDefined(t,e,n){const r=!!t&&Reflect.getOwnPropertyDescriptor(t.__proto__,e);return r&&'function'==typeof r[n]}static isFunctionAsync(t){if(!GSFunction.isFunction(t))return!1;let e=t instanceof GSFunction.callFunctionAsync.constructor;return e||(e='AsyncFunction'==t[Symbol.toStringTag]),e}static async callFunctionAsync(t,e){const n=arguments?Array.from(arguments).slice(2):[];return await t.apply(e||null,n)}static callFunctionSync(t,e){const n=arguments?Array.from(arguments).slice(2):[];return t.apply(e||null,n)}static async callFunction(t,e,n=!0){if(t=GSUtil.isString(t)?GSFunction.parseFunction(t):t,!GSFunction.isFunction(t))return;if(!n&&GSFunction.isFunctionNative(t))return;const r=arguments?Array.from(arguments).slice(3):[];return GSFunction.isFunctionAsync(t)?await GSFunction.callFunctionAsync(t,e,...r):GSFunction.callFunctionSync(t,e,...r)}static parseFunction(t){const e=GSUtil.parseValue(t);return GSFunction.isFunction(e)?e:null}static async#r(t,e,n){if(!GSFunction.isFunction(t))return;return GSFunction.isFunctionAsync(t)?await t.apply(e,n):t.apply(e,n)}static callOnceFifo(t,e){let n=!1;return async(...r)=>{if(n)return;n=!0;const s=e||this;return await GSFunction.#r(t,s,r)}}static callOnceLifo(t,e){let n=0;return(...r)=>{if(n<0)return;n++;const s=e||this;return new Promise(((e,i)=>{queueMicrotask((async()=>{if(!(n<=0)&&(n--,0===n))try{const n=await GSFunction.#r(t,s,r);e(n)}catch(t){i(t)}finally{n=-1}}))}))}}static{Object.seal(GSFunction),globalThis.GSFunction=GSFunction}};class GSCSSMap{static#s=!!globalThis.document?.body?.computedStyleMap;#i;constructor(t){this.#i=GSCSSMap.#a(t)}get(t){const e=this;if(e.#i)return GSCSSMap.#s?e.#i.get(t):e.#i[GSUtil.capitalizeAttr(t)]}asText(t){return(this.get(t)||'')?.toString()}asBool(t){const e=this.get(t);return GSUtil.asBool(GSCSSMap.#s?e?.value:e)}asNum(t){let n=this.get(t);return GSCSSMap.#s&&e.isFunction(n?.to)&&'number'!==n.unit&&(n=n.to('px')),GSUtil.asNum(GSCSSMap.#s?n?.value:n.match(/\d*(\.\d*)?/g).filter((t=>GSUtil.isNumber(t))).shift())}matches(t,e){return this.asText(t)==e}static#a(t){return GSCSSMap.#s?t.computedStyleMap():globalThis.window?.getComputedStyle?globalThis.window.getComputedStyle(t):null}static styleValue(t,e){return GSCSSMap.getComputedStyledMap(t).get(e)}static getComputedStyledMap(t){return new GSCSSMap(t)}static#o(t){return t?(t=String(t).replace(/\s*([>~+])\s*/g,' $1 ')).replace(/(\s+)/g,' ').trim():''}static#l(t,e){return t.split(e).map((t=>t.trim())).filter((t=>t))}static#c(t,e){return!!t&&e.some((e=>t.includes(e)))}static findRule(t){const e=GSCSSMap,n=e.#l(e.#o(t),',');return Array.from(globalThis.document.styleSheets).map((t=>Array.from(t.cssRules||[]))).reduce(((t,e)=>t.concat(e)),[]).filter((t=>e.#c(e.#o(t.selectorText),n)))}static{Object.seal(GSCSSMap),globalThis.GSCSSMap=GSCSSMap}}class GSData{static uniqe(t){return Array.from(new Set(t))}static compareArrays=(t,e)=>t.length===e.length&&t.every(((t,n)=>t===e[n]));static arraysEqual(t,e){return!!Array.isArray(t)&&(!!Array.isArray(e)&&(t===e||(t=t.toSorted(),e=e.toSorted(),GSData.compareArrays(t,e))))}static mergeArrays(t=[],e=[]){return[...t,...e].filter(((t,e,n)=>n.indexOf(t)===e))}static filterData(t,e,n){return e=Array.isArray(e)?e:[],0===t.length?e:e.filter((e=>GSData.filterRecord(e,t,n)))}static filterRecord(t,e,n){return'string'==typeof e?GSData.filterSimple(t,e,n):GSData.filterComplex(t,e)}static filterSimple(t,e='',n){e=e.toLowerCase(),n=n||Object.keys(t);let r=null;for(let s of n)if(r=t[s],(''+r).toString().toLowerCase().includes(e))return!0;return!1}static filterComplex(t,e){let n=!0,r=null;for(let s of e)if(r=s?.value?.toString().toLowerCase(),n=n&&(''+t[s.name]).toLocaleLowerCase().includes(r),!n)break;return n}static sortData(t,e){return 0===t.length?e:e.toSorted(((e,n)=>GSData.sortPair(e,n,t)))}static sortPair(t,e,n){const r=Array.isArray(t);let s=0;return n.forEach(((n,i)=>{if(!n)return;const a=GSUtil.isNumber(n)?n:n.ord,o=GSUtil.isNumber(n.col)?n.col:i,l=r?o:n.name,c=t[l],u=e[l];s=GSData.compare(c,u,a,s)})),s}static compare(t,e,n,r){return GSUtil.isNumber(t)&&GSUtil.isNumber(e)?r||GSData.compareNum(t,e,n):GSUtil.isString(t)||GSUtil.isString(e)?r||GSData.compareString(t,e,n):GSUtil.isBool(t)||GSUtil.isBool(e)?r||GSData.compareBool(t,e,n):r}static compareBool(t,e,n){return t=t?1:0,e=e?1:0,GSData.compareNum(t,e,n)}static compareString(t,e,n){const r=(t||'').toString(),s=(e||'').toString();return n<0?s.localeCompare(r):r.localeCompare(s)}static compareNum(t,e,n){return n<0?e-t:t-e}static writeToOject(t,e,n,r=!0){if(r&&GSUtil.isNull(n))return;const s=e.split('.');if(1===s.length)return GSData.#u(t,e,n);const i=s.slice(0,-1),a=s.slice(-1)[0];return i.forEach((e=>{t.hasOwnProperty(e)||(t[e]={}),t=t[e]})),GSData.#u(t,a,n)}static#u(t,e,n){return t.hasOwnProperty(e)?(Array.isArray(t[e])||(t[e]=[t[e]]),Array.isArray(n)?t[e]=t[e].concat(n):t[e].push(n)):t[e]=n,t}static readFromProperty(t,e){if(GSUtil.isNull(t))return;const n=/\[\d+\]$/g;let r=e,s='';return n.test(e)?(r=e.replace(n,''),s=e.match(n).shift().match(/\d+/).shift(),s=GSUtil.asNum(s),t=t.hasOwnProperty(r)?t=t[r][s]:null):t=t.hasOwnProperty(r)?t=t[r]:null,t}static readFromObject(t,e){return e?e.split('.').reduce(((t,e)=>GSData.readFromProperty(t,e)),t):void 0}static objectPathExist(t,e){return void 0!==GSData.readFromObject(t,e)}static{Object.seal(GSData),globalThis.GSData=GSData}}class GSDOM{static QUERY_FOCUSABLE='a[href]:not([tabindex=\'-1\']),area[href]:not([tabindex=\'-1\']),input:not([disabled]):not([tabindex=\'-1\']),select:not([disabled]):not([tabindex=\'-1\']),textarea:not([disabled]):not([tabindex=\'-1\']),button:not([disabled]):not([tabindex=\'-1\']),iframe:not([tabindex=\'-1\']),[tabindex]:not([tabindex=\'-1\']),[contentEditable=true]:not([tabindex=\'-1\'])';static QUERY_INPUT='input:not([type=\'hidden\']):not(disabled):not(readonly),select:not([type=\'hidden\']):not(disabled):not(readonly),textarea:not([type=\'hidden\']):not(disabled):not(readonly)';static#d=['INPUT','SELECT','TEXTAREA','OUTPUT'];static#h=/(?:\n+\t*)+/g;static SPEED=300;static get activeElement(){return GSDOM.active(document.activeElement)}static active(t){return t.shadowRoot?.activeElement?GSDOM.active(t.shadowRoot?.activeElement):t}static isVisible(t){if(!GSDOM.isHTMLElement(t))return!1;const e=GSCSSMap.getComputedStyledMap(t),n=!e.matches('visibility','hidden'),r=!e.matches('display','none'),s=e.asNum('opacity')>0,i=t.getBoundingClientRect();return i.width>0&&i.height>0&&s&&n&&r}static parse(t='',e=!1,n='text/html'){try{const r=(new DOMParser).parseFromString(t,n);return e?r?.head?.firstElementChild||r?.body?.firstElementChild:r}catch(t){throw GSLog.error(null,t),t}}static parseWrapped(t,e='',n=!1){const r=GSDOM.parse(e),s=[...GSDOM.#S(r.head.children),...GSDOM.#S(r.body.children)],i=n||1!==s.length,a=GSDOM.wrap(t,i?null:s.shift());for(;s.length>0;)a.appendChild(s.shift());return a}static wrap(t,e){return GSDOM.link(t,e||document.createElement('gs-block'))}static link(t,e){return e.setAttribute('proxy',`#${t.id}`),t.slot&&e.setAttribute('slot',t.slot),e}static#S(t){return Array.from(t||[]).filter((t=>!GSDOM.isText(t)))}static isFormElement(t){const e=GSUtil.isString(t)?t:t?.tagName;return GSDOM.#d.includes(e)}static isButtonElement(t){return t instanceof HTMLButtonElement||'GS-BUTTON'===t?.tagName||GSDOM.hasClass(t,'btn')}static isElement(t,e){if(!(e&&t))return!1;if(!GSUtil.isString(e))return t instanceof e;const n=customElements.get(e.toLowerCase());if(n&&t instanceof n)return t;const r=GSDOM.inheritance(t);for(let n of r)if(n?.constructor?.name===e)return t;return e.toUpperCase()===t.tagName&&t}static isSelect(t){return t instanceof HTMLSelectElement}static isSlotElement(t){return t instanceof HTMLSlotElement}static isTemplateElement(t){return t instanceof HTMLTemplateElement}static isHTMLElement(t){return t instanceof HTMLElement}static isSVGElement(t){return t instanceof SVGElement}static isText(t){return t instanceof Text}static isComment(t){return t instanceof Comment}static isGSElement(t){if(!t?.clazzName)return!1;const e=GSDOM.inheritance(t);for(let t of e){if(!t)break;if('GSElement'===t?.clazzName)return!0}return!1}static isGSExtra(t){return 0===t?.getAttribute('is')?.indexOf('GS-')}static getChilds(t){return Array.from(t?.childNodes||[]).filter((t=>GSDOM.isGSElement(t)))}static hide(t,e=!1){return t?.classList?.add(e?'gs-hide-orientation':'gs-hide')}static show(t,e=!1){return t?.classList?.remove(e?'gs-hide-orientation':'gs-hide')}static addSibling(t,e){const n=GSDOM.isHTMLElement(e)||GSDOM.isSVGElement(e),r=GSDOM.isHTMLElement(t)&&n,s=t===e&&t.parentNode===e||t.nextElementSibling===e;return!(!r||s)&&t.parentNode.insertBefore(e,t.nextElementSibling)}static appendChild(t,e){return!(!(GSDOM.isHTMLElement(t)&&GSDOM.isHTMLElement(e))||t===e)&&t.appendChild(e)}static insertAdjacent(t,e,n){const r=GSDOM.isHTMLElement(t)&&GSDOM.isHTMLElement(e),s=t===e&&t.parentNode===e;return!(!r||s)&&t.insertAdjacentElement(n,e)}static removeElement(t){return GSDOM.parent(t)?.removeChild(t)}static walk(t,e=!1,n=!1,r=!0){return e?GSDOM.parentAll(t):GSDOM.childAll(t,n,r)}static*childAll(t,e=!1,n=!0,r=!1){if(!t)return;r&&(yield t),n&&(yield*GSDOM.childAll(t.shadowRoot,e,n,!0));const s=e?t.childNodes:t.children;if(s)for(let t of s)yield*GSDOM.childAll(t,e,n,!0)}static parent(t){return t?t.parentElement||t.parentNode||t.host:null}static*parentAll(t){let e=GSDOM.parent(t);for(;e;)yield e,e=GSDOM.parent(e);if(e)return yield e}static*inheritance(t){let e=t.__proto__;for(;e;)yield e,e=e.__proto__;if(e)return yield e}static offsetParent(t){let e=t?.offsetParent;if(e)return e;const n=GSDOM.parentAll(t);for(const t of n)if(e=t.offsetParent,e)break;return e}static root(t){if(!t)return null;const e=GSDOM.parentAll(t);for(let t of e){if(t instanceof ShadowRoot)return t;if(t instanceof HTMLBodyElement)return t}return null}static getElementIndex(t){if(!GSDOM.isHTMLElement(t))return 0;let e=0;for(;t=t.previousElementSibling;)e++;return e}static getByID(t,e){if('string'==typeof t)return GSDOM.getByID(document.documentElement,t);if(!t||!e)return null;const n=GSDOM.walk(t,!1);for(let t of n)if(t.id===e)return t;return null}static closest(t,e){if('string'==typeof t)return GSDOM.closest(document.documentElement,e);if(!t||!e)return null;const n=GSDOM.walk(t,!0);for(let t of n)if(GSDOM.matches(t,e))return t;return null}static query(t,e,n=!1,r=!0){if('string'==typeof t)return GSDOM.query(document.documentElement,t,n,r);if(!t||!e)return null;if(GSDOM.matches(t,e))return GSDOM.#m(t);const s=GSDOM.walk(t,!1,n,r);for(let t of s)if(GSDOM.matches(t,e))return GSDOM.#m(t);return null}static queryAll(t,e,n=!1,r=!0){if('string'==typeof t)return GSDOM.queryAll(document.documentElement,t,n,r);const s=[];if(!t||!e)return s;const i=GSDOM.walk(t,!1,n,r);for(let t of i)GSDOM.matches(t,e)&&s.push(GSDOM.#m(t));return s}static#m(t){return'FORM'!==t.tagName?t:GSDOM.isHTMLElement(t.id)?new Proxy(t,{get:(t,e,n)=>{if('_owner_'===e)return t;if('id'===e)return t.getAttribute('id');const r=Reflect.get(t,e);return GSFunction.isFunction(r)?r.bind(t):r},set:(t,e,n)=>t[e]=n}):t}static matches(t,e){return t&&'function'==typeof t.matches&&t.matches(e)}static setHTML(t,e='',n=!1,r){(t instanceof ShadowRoot||t instanceof HTMLElement||t instanceof HTMLTemplateElement)&&(n&&t?.setHTML?r?t.setHTML(e,{sanitizer:r}):t.setHTML(e):t.innerHTML=e instanceof Document?e.body.innerHTML:e)}static setText(t,e=''){t&&(t.textContent=e)}static css(t,e){if(GSUtil.isString(t)&&(t=GSDOM.queryAll(t)),GSDOM.isHTMLElement(t)&&(t=[t]),!(Array.isArray(t)&&t.length>0))return!1;requestAnimationFrame((()=>{t.forEach((t=>{Object.entries(e).forEach((e=>{t.style[e[0]]=e[1]}))}))}))}static toggleClass(t,e,n){return GSUtil.isString(t)&&(t=GSDOM.queryAll(t)),GSDOM.isHTMLElement(t)&&(t=[t]),!!(Array.isArray(t)&&t.length>0)&&(!(!e||0==e.trim().length)&&(e=e.split(' ').filter((t=>t&&t.trim().length>0)),GSUtil.isNull(n)?e.forEach((e=>{t.forEach((t=>t.classList.toggle(e)))})):(t.forEach((t=>{n?t.classList.add.apply(t.classList,e):t.classList.remove.apply(t.classList,e)})),!0)))}static toggle(t,e){return GSDOM.toggleClass(t,'d-none',GSUtil.isNull(e)?e:!e)}static hasClass(t,e=''){return t?.classList?.contains(e)}static clearInputs(t,e='input, textarea, output'){const n=GSDOM.unwrap(t);requestAnimationFrame((()=>{n.querySelectorAll(e).forEach((t=>t.value=''))}))}static getValue(t,e=!1){let n=null;switch(t.type){case'datetime-local':case'number':n=t.value?t.valueAsNumber:t.value;break;case'select-multiple':n=Array.from(t.selectedOptions).map((t=>t.value));break;case'checkbox':n=t.hasAttribute('value')&&t.value?t.checked?t.value:null:t.checked;break;default:n=t.value}return GSUtil.isNull(n)&&e&&(n=t.defaultValue),n}static toValue(t,e=!1){if(!GSDOM.isHTMLElement(t))return;let n=GSDOM.getValue(t,e);if('text'===t.type){const e=GSCSSMap.styleValue(t,'text-transform');e&&(n=GSUtil.textTransform(e.value,n))}return n}static fromValue(t,e,n=!1){if(!GSDOM.isHTMLElement(t))return;const r=Array.isArray(e)?e[0]||'':e;if('checkbox'===t.type)t.hasAttribute('value')?t.checked=r===t.value:t.checked=1==r,n&&(t.defaultValue=t.checked);else t.value=GSUtil.normalize(r),n&&(t.defaultValue=t.value)}static toObject(t,e='input, textarea, select, output',n=!0,r=!1){const s=GSDOM.unwrap(t),i={};return GSDOM.queryAll(s,e).filter((t=>t.name)).filter((t=>'true'!==t.dataset.ignore)).filter((t=>!!n||t.checkValidity())).forEach((t=>GSDOM.fromElement2Object(t,i,r))),i}static fromObject(t,e,n='input, textarea, select, output',r=!1){e=GSUtil.toJson(e);const s=GSDOM.unwrap(t),i=GSDOM.queryAll(s,n);Array.from(i).forEach((t=>GSDOM.fromObject2Element(t,e,r)))}static fromObject2Element(t,e,n=!1){if(!GSData.objectPathExist(e,t?.name))return;const r=GSData.readFromObject(e,t.name);'radio'!==t.type?GSDOM.fromValue(t,r,n):t.value===r&&(t.checked=!0)}static fromElement2Object(t,e,n=!1){('radio'!==t.type||t.checked)&&GSData.writeToOject(e,t.name,GSDOM.toValue(t,n))}static toJson(t,e=!0,n=!1,r){if(Array.isArray(t))return t.map((t=>GSDOM.toJson(t,e,n,r)));const s={};if(!GSDOM.isHTMLElement(t))return s;n||(s['#tagName']=t.tagName.toLowerCase()),s.$text=t.innerText;const i=r||GSDOM.allProperties(t);if(Array.from(t.attributes).forEach((e=>{const n=i[e.name]?.type;switch(n){case Boolean:s[e.name]=t.hasAttribute(e.name);break;case Number:s[e.name]=GSAttr.getAsNum(t,e.name);break;default:s[e.name]=e.value}})),e){const i=Array.from(t.children).map((t=>GSDOM.toJson(t,e,n,r)));i.length>0&&(s.items=i)}return s}static fromJson(t,e='gs-item',n=!1){return n?GSDOM.fromJsonAsString(t,e):GSDOM.fromJsonAsDOM(t,e)}static fromJsonAsDOM(t,e='gs-item'){if(!t)return null;if(GSUtil.isNumber(t)||GSUtil.isString(t))return GSDOM.fromJsonAsDOM({title:t},e);if(Array.isArray(t))return t.map((t=>GSDOM.fromJsonAsDOM(t,e)));const n=t['#tagName']||e,r=document.createElement(n);return Object.keys(t).filter((t=>'items'!=t&&'#'!=t[0])).forEach((e=>r.setAttribute(e,t[e]))),Array.isArray(t.items)&&t.items.forEach((t=>{const n=GSDOM.fromJsonAsDOM(t,e);r.appendChild(n)})),r}static fromJsonAsString(t,e='gs-item'){if(!t)return null;if(Array.isArray(t))return t.map((t=>GSDOM.fromJsonAsString(t))).join('');const n=t['#tagName']||e,r=[];return r.push(`<${n} `),Object.keys(t).filter((t=>'items'!=t&&'#'!=t[0])).forEach((e=>r.push(` ${e}="${t[e]}" `))),r.push('>'),Array.isArray(t.items)&&t.items.forEach((t=>{const n=GSDOM.fromJsonAsString(t,e);r.push(n)})),r.push(`</${n}>`),r.join('')}static fromURLHashToForm(t){location.hash.slice(1).split('&').filter((t=>t.length>1)).forEach((e=>{const n=e.split('=');GSDOM.setValue(`input[name=${n[0]}]`,n[1],t)}))}static unwrap(t){return t?t.self||t:document}static enableInput(t,e='input, select, textarea, .btn',n=!0,r=''){let s=GSDOM.queryAll(t,e);!n&&r&&(s=s.filter((t=>GSUtil.asBool(t.dataset[r])))),s.forEach((t=>t.removeAttribute('disabled')))}static disableInput(t,e='input, select, textarea, .btn',n=!0,r=''){GSDOM.queryAll(t,e).filter((t=>!!n||!t.disabled)).forEach((t=>{t.setAttribute('disabled',!0),r&&(t.dataset[r]=!0)}))}static setValue(t,e,n,r=!1){GSDOM.queryAll(n,t).forEach((t=>GSDOM.fromValue(t,e,r)))}static textNodesUnder(t){const e=document.createTreeWalker(t||document,NodeFilter.SHOW_TEXT,null,!1),n=[];let r;for(;r=e.nextNode();)n.push(r);return n}static cleanHTML(t){const e=GSDOM.textNodesUnder(t||document).filter((t=>0===t.wholeText.trim().length));e.filter((t=>t.nextSibling instanceof Text)).forEach((t=>t.remove())),e.forEach((t=>t.nodeValue=t.wholeText.replaceAll(/\u0020{4}/g,'\t').replaceAll(GSDOM.#h,'')))}static validate(t,e,n,r=!1){if(t.tagName!==e){if(r)return!1;throw new Error(`Owner element : ${t.tagName}, id:${t.id} is not of excpected type: ${e}`)}if(GSDOM.isAllowed(Array.from(t.childNodes),n))return!0;if(r)return!1;const s=GSDOM.toValidationError(t,n);throw new Error(s)}static isAllowed(t,e){return Array.isArray(t)?0===t.filter((t=>GSDOM.isAllowed(t,e))).length:!(t instanceof Text||t instanceof Comment||e.includes(t.tagName))}static toValidationError(t,e){const n=`<${e.join('>, <')}>`;return`${t.tagName} ID: ${t.id} allows as a child nodes only : ${n}!`}static async injectCSS(t,e){if(!t?.shadowRoot instanceof ShadowRoot)return!1;let n=!0;try{const n=await fetch(e);if(!n.ok)return;const r=await n.text(),s=new CSSStyleSheet;s.replaceSync(r),t.shadowRoot.adoptedStyleSheets=[s]}catch(t){GSLog.error(null,t),n=!1}return n}static reset(t){if(GSDOM.isFormElement(t)&&!GSDOM.resetSelect(t))return t.dataset.typed=!1,t.value=t.defaultValue,GSDOM.#g(t),!0}static resetSelect(t){if(GSDOM.isSelect(t))return Array.from(t.options).forEach((t=>t.selected=t.hasAttribute('selected'))),GSDOM.#g(t),!0}static#g(t){t.dispatchEvent(new Event('change',{bubbles:!0,composed:!0}))}static{Object.seal(GSDOM),globalThis.GSDOM=GSDOM}}class GSVersion{get version(){return'1.9.5'}get build(){return 20241227}}class GSLoader{static TEMPLATE_URL=globalThis.GS_TEMPLATE_URL||location.origin;static NO_CACHE=!1;static UNIQUE=GSVersion.build;static{if(!globalThis.GS_TEMPLATE_URL){const t=location.href.split('?').pop();let e=t.split('/');GSLoader.TEMPLATE_URL=t.endsWith('/')?t:e.slice(0,-1).join('/'),globalThis.GS_TEMPLATE_URL=GSLoader.TEMPLATE_URL}const t='GS_NO_CACHE'in self;t&&(GSLoader.NO_CACHE=!0===globalThis.GS_NO_CACHE,localStorage&&localStorage.setItem('GS_NO_CACHE',GSLoader.NO_CACHE)),GSLoader.NO_CACHE=!!localStorage&&'true'==localStorage.getItem('GS_NO_CACHE')}static normalizeURL(t='',e=!1){t=t||'';let n=null;const r=location.pathname.split('/').pop(-1).includes('.'),s=t.includes('extension:/');n=t.startsWith('http')||s?t:t.startsWith('/')?`${location.origin}/${t}`:r?`${location.origin}${location.pathname}/../${t}`:`${location.origin}${location.pathname}/${t}`,n=n.split('://').map((t=>t.replaceAll(/\/{2,}/g,'/'))).join('://');const i=new URL(n);if(!e){const t=GSLoader.NO_CACHE?Date.now():GSLoader.UNIQUE;i.searchParams.append('_dc',t)}return i.href}static parentPath(t='',e=1){return(t||'').split('/').slice(0,-1*e).join('/')+'/'}static async getTemplate(t=''){if(!t)return t;if(t.startsWith('#')){const e=GSDOM.query(document.documentElement,t);return e?e.innerHTML:t}return GSUtil.isHTML(t)?t:(t=GSLoader.#p(t),GSLoader.loadSafe(t))}static#p(t=''){return t=t.startsWith('//')?GSLoader.#G+'/'+t:t,GSLoader.normalizeURL(t)}static get#G(){return GSLoader.normalizeURL(GSLoader.#f,!0)}static get#f(){return GSLoader.TEMPLATE_URL?GSLoader.TEMPLATE_URL.replace('//','/'):''}static async loadTemplate(t='',e='GET'){const n=GSLoader.#p(t);return await GSLoader.load(n,e)}static async load(t='',e='GET',n,r=!1,s){let i=null;const a='Content-Type';(n={...n})[a]=r?'application/json; utf-8':n[a]||'text/plain',n.Accept='application/json';const o=GSLoader.normalizeURL(t,!0),l={method:e,headers:n};('POST'===e||'PUT'===e&&s)&&(l.body=JSON.stringify(s));const c=await fetch(o,l);return c.ok&&(i=r?await c.json():await c.text()),i}static async loadSafe(t='',e='GET',n,r=!1,s,i){try{if(t)return GSLoader.load(t,e,n,r,i)}catch(t){GSLog.error(null,t)}return s||(r?{}:'')}static async loadData(t=''){const n=GSUtil.isJson(t),r=!n&&e.parseFunction(t),s=r&&e.isFunction(r);if((!s&&GSUtil.parseValue(t)||n)&&(t=GSUtil.toJson(t)),s&&(t=await e.callFunction(r)),GSUtil.isJsonType(t))return t}static{Object.seal(GSLoader),globalThis.GSLoader=GSLoader}}class GSEvents{static#y=!1;static#b=new Map;static#v=!1;static#E=0;get altContext(){return GSEvents.#y}set altContext(t){GSEvents.#y=GSUtil.asBool(t,!0)}static protect(){GSEvents.listen(globalThis,null,'contextmenu',GSEvents.#M),GSEvents.listen(globalThis.document,null,'keydown',GSEvents.#O)}static#M(t){!GSEvents.#y&&t.shiftKey||GSEvents.prevent(t)}static#O(t){const e=t.code;return'F12'!=e&&((!t.ctrlKey||!t.shiftKey||'KeyI'!=e)&&void 0)}static async waitPageLoad(t,n='loaded',r,s=100,i=!0){if(!GSEvents.#v)try{await GSEvents.wait(globalThis.window,'load',s,i),GSEvents.#v=!0}catch(t){GSLog.error(null,t)}await e.callFunction(r),GSEvents.sendSuspended(t,n)}static wait(t,e='',n=0,r=!0){if(GSUtil.isStringEmpty(e))throw new Error('Event undefined!');if(!GSUtil.isNumber(n))throw new Error('Invalid timeout value!');return n>0?GSEvents.once(t,null,e,null,n):new Promise((s=>{GSEvents.once(t,null,e,(t=>{r&&GSEvents.prevent(t),s(t)}),n)}))}static async waitAnimationFrame(t,n=!1){if(n){if('function'!=typeof t)return;if(GSEvents.#E>0)return e.callFunction(t);GSEvents.#E++}return new Promise(((r,s)=>{requestAnimationFrame((async()=>{try{const n=await e.callFunction(t);r(n)}catch(t){s(t)}finally{n&&GSEvents.#E>0&&GSEvents.#E--}}))}))}static listen(t,e,n,r,s=!1){return!e&&t?t.addEventListener(n,r,s):GSDOM.queryAll(t,e).map((t=>t.addEventListener(n,r,s)))}static unlisten(t,e,n,r){return!e&&t?t.removeEventListener(n,r):GSDOM.queryAll(t,e).map((t=>t.removeEventListener(n,r)))}static on=GSEvents.listen;static off=GSEvents.unlisten;static once(t,e,n,r,s=0){const i=GSEvents.#A(s);return i&&i.internal?new Promise(((s,a)=>{GSEvents.listen(t,e,n,r||s,{once:!0,signal:i}),i.addEventListener('abort',a)})):GSEvents.listen(t,e,n,r,{once:!0,signal:i})}static prevent(t,n=!0){e.hasFunction(t,'preventDefault')&&t.preventDefault(),e.hasFunction(t,'stopPropagation')&&t.stopPropagation(),n&&e.hasFunction(t,'stopImmediatePropagation')&&t.stopImmediatePropagation()}static send(t=document,e,n='',r=!1,s=!1,i=!1){const a=new CustomEvent(e,{detail:n,bubbles:r,composed:s,cancelable:i});return t?.dispatchEvent(a)}static toEvent(t,e){let n=null;switch(t){case'copy':case'cut':case'paste':n=new ClipboardEvent(t,e);break;case'blur':case'focus':case'focusin':case'focusout':n=new FocusEvent(t,e);break;case'input':case'beforeinput':n=new InputEvent(t,e);break;case'keydown':case'keyup':case'keypress':n=new KeyboardEvent(t,e);break;case'dblclick':case'mousedown':case'mouseenter':case'mouseleave':case'mousemove':case'mouseout':case'mouseover':case'mouseup':n=new MouseEvent(t,e);break;case'submit':n=new SubmitEvent(t,e);break;case'touchstart':case'touchend':case'touchmove':case'touchcancel':n=new TouchEvent(t,e);break;case'whell':n=new WheelEvent(t,e);break;case'pointerover':case'pointerenter':case'pointerdown':case'pointermove':case'pointerup':case'pointercancel':case'pointerout':case'pointerleave':case'pointerrawupdate':case'gotpointercapture':case'lostpointercapture':n=new PointerEvent(t,e);break;default:n=new CustomEvent(t,e)}return n}static isMouseOrPointerEvent(t){return t instanceof MouseEvent||t instanceof PointerEvent}static sendSuspended(t=document,e,n='',r=!1,s=!1,i=!1){return requestAnimationFrame((()=>{GSEvents.send(t,e,n,r,s,i)}))}static sendDelayed(t=1,e=document,n,r='',s=!1,i=!1,a=!1){return setTimeout((()=>GSEvents.send(e,n,r,s,i,a)),t)}static attach(t,n,r='',s,i=!1,a=!1){if(!n)return!1;if(!(window instanceof Window||n.isConnected))return!1;if(!e.isFunction(s))return!1;if(!e.hasFunction(n,'addEventListener'))return!1;const o=this,l=o.#w(t,n,r,s),c=o.#L(t);return o.#D(c,l.key).set(l.fnkey,l),l.capture=a,i&&(l.once=t=>{try{l.fn(t)}finally{o.remove(l.own,l.el,l.name,l.once)}},Object.defineProperty(l.once,'gsid',{value:s.gsid,writable:!1})),n.addEventListener(r,i?l.once:l.fn,{once:i,capture:a}),!0}static remove(t,e,n='',r){const s=this,i=s.#w(t,e,n,r),a=s.#L(t),o=s.#D(a,i.key),l=o.get(i.fnkey);if(l)o.delete(l.fnkey),s.#C(l);else if(i.fnkey===i.key)for(let t of o.values())o.delete(t.fnkey),s.#C(t);0===o.size&&a.delete(i.key),0===a.size&&s.#b.delete(t)}static deattachListeners(t){const e=this,n=e.#T(t);if(!n)return;const r=n.values();for(let t of r){for(let n of t.values())e.#C(n);t.clear()}n.clear()}static#w(t,e,n='',r=''){if(!e)return!1;const s=this.#U(e),i=this.#k(r);return{own:t,fn:r,el:e,name:n,key:GSID.hashCode(`${s}${n}`),fnkey:GSID.hashCode(`${s}${n}${i||''}`)}}static#D(t,e){let n=t.get(e);return n||(n=new Map,t.set(e,n)),n}static#k(t){return e.isFunction(t)?(t.gsid||Object.defineProperty(t,'gsid',{value:GSID.next(),writable:!1}),t.gsid):null}static#U(e){const n=e instanceof Window;let r=n?e.gselid:t.get(e,'data-gselid');return r||(r=GSID.id,n?e.gselid=r:t.set(e,'data-gselid',r)),r}static#L(t){return this.#D(this.#b,t)}static#T(t){const e=this.#b.get(t);if(e)return this.#b.delete(t),e}static#C(t){t.el.removeEventListener(t.name,t.once?t.once:t.fn,{capture:t.capture}),t.el=null,t.fn=null,t.once=null}static#A(t=0){return GSUtil.isNumber(t)&&t>0?((t=AbortSignal.timeout(t)).internal=!0,t):t instanceof AbortSignal?t:void 0}static monitorAction(t,e){t.on('action',(async n=>{const r=t,s=n.detail,i=s.action||s.data?.action;await GSEvents.onAction(r,i,e,n)}))}static async onAction(t,n,r,s){const i=GSEvents.findAction(t,n,r);if(!i)return;GSEvents.prevent(s);let a=!1;try{a=e.isFunctionAsync(i)?await i(s):i(s)}catch(n){if(a=n,!e.isFunction(t.onError))throw n;t.onError(n)}return a}static findAction(t,n='',r=''){let s=!1;if(!n)return s;const i=t;n=GSUtil.capitalizeAttr(GSUtil.capitalize(n));const a=`on${r=GSUtil.capitalizeAttr(GSUtil.capitalize(r))}${n}`;globalThis.GS_LOG_ACTION&&GSLog.warn(t,`Action : ${a}`);const o=i[a];return s=e.isFunction(o),s=s&&!e.isFunctionNative(o),s?i[a].bind(i):null}static{Object.freeze(GSEvents),globalThis.GSEvents=GSEvents}}class GSBase extends HTMLElement{static#t=0;#x='';static get observedAttributes(){return[]}static nextID(){return GSBase.#t++,`GSHID_${GSBase.#t}`}static hashCode(t){let e=0,n=t.length,r=0;if(n>0)for(;r<n;)e=(e<<5)-e+t.charCodeAt(r++)|0;return e}static sendEvent(t=document,e,n='',r=!1,s=!1,i=!1){const a=new CustomEvent(e,{detail:n,bubbles:r,composed:s,cancelable:i});return t.dispatchEvent(a)}static sendSuspendedEvent(t=document,e,n=''){requestAnimationFrame((()=>{GSBase.sendEvent(t,e,n)}))}connectedCallback(){const t=this;if(t.url&&t.isRenderable()){const e=GSBase.hashCode(t.url);if(document.querySelector(`[data-hash="${e}"]`))return void t.remove();const n=t.render();n&&!(n instanceof Promise)&&(n.dataset.hash=e,t.isHead?document.head.appendChild(n):t.insertAdjacentElement('afterend',n),t.isAuto&&(n.id=n.id?n.id:GSBase.nextID(),t.#x=n.id))}t.isAuto||t.remove()}disconnectedCallback(){const t=this;if(t.isAuto&&t.#x){const e=document.querySelector(`#${t.#x}`);e&&e.remove()}t.dispose()}attributeChangedCallback(t,e,n){const r=this;requestAnimationFrame((()=>{r.attributeCallback(t,e,n)}))}attributeCallback(t,e,n){}render(){}dispose(){}get isMobile(){return navigator.userAgentData?navigator.userAgentData.mobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}get isProtocol(){const t=this.protocol;if(!t)return!0;const e=location.protocol.replace(':','');return'http'===t&&e===t||'https'===t&&e===t}get isAsset(){return this.isTarget('GreenScreens')}isTarget(t=''){if(!t)return!0;const e=t.toLowerCase();if(navigator.userAgentData){let t=!1;return navigator.userAgentData.brands.forEach((n=>{n.brand.toLowerCase().includes(e)&&(t=!0)})),t}const n=new RegExp(`${t}`,'i');return!!navigator.userAgent.match(n)}isRenderable(){const t=this,e=t.isMobile,n=t.isAsset,r=t.isProtocol,s=t.target,i=t.env;return!!r&&(('assets'!==i||!1!==n)&&(('browser'!==i||!0!==n)&&(('mobile'!==i||!1!==e)&&(('desktop'!==i||!0!==e)&&!!t.isTarget(s)))))}get env(){return this.getAttribute('env')||''}get target(){return this.getAttribute('target')||''}get url(){const t=this;let e=t.getAttribute('url')||'';if('assets'===t.env)return'**'+e;if(t.#R)try{let t=`${location.origin}${location.pathname}`;e.startsWith('/')&&(t=location.origin),e.startsWith('http')&&(t=void 0);const n=new URL(e,t);n.searchParams.append('_dc',Date.now()),e=n.href}catch(t){GSLog.error(null,t)}return e}get type(){const t=this;let e=t.getAttribute('type')||'';return e||(t.url.includes('.js')?e='text/javascript':t.url.includes('.css')&&(e='text/css')),e}get async(){return this.hasAttribute('async')}get defer(){return this.hasAttribute('defer')}get isHead(){return this.hasAttribute('head')}get isAuto(){return this.hasAttribute('auto')}get protocol(){return this.getAttribute('protocol')||''}get nonce(){return this.getAttribute('nonce')||''}get crossorigin(){return this.getAttribute('crossorigin')}get fetchpriority(){return this.getAttribute('fetchpriority')||'auto'}get integrity(){return this.getAttribute('integrity')}get referrerpolicy(){return this.getAttribute('referrerpolicy')}get#R(){return'GS_NO_CACHE'in globalThis?globalThis.GS_NO_CACHE:!!localStorage&&'true'==localStorage.getItem('GS_NO_CACHE')}static{Object.seal(GSBase)}}class GSDynamicStyle extends CSSStyleSheet{constructor(t){super(),this.id=t||GSBase.nextID()}deleteRule(t=''){const e=this;Array.from(e.cssRules).map(((e,n)=>e.selectorText===`.${t}`?n:-1)).filter((t=>t>-1)).forEach((t=>e.deleteRule(t)))}getRule(t=''){return Array.from(this.cssRules).filter((e=>e.selectorText===`.${t}`)).pop()}setRule(t,e='',n=!1){const r=this;if(!t)return;let s=r.getRule(t);if(!s)return r.insertRule(`.${t} {}`),r.setRule(t,e,n);if(!e)return s;let i=[];return i='string'==typeof e?e.replaceAll('\n','').split(';').map((t=>t.trim().split(':'))).filter((t=>2===t.length)):Object.entries(e),n?i.forEach((t=>r.#F(s,t[0],t[1]))):requestAnimationFrame((()=>{i.forEach((t=>r.#F(s,t[0],t[1])))})),s}#F(t,e='',n=''){const r=(n=n||'').includes('!important');n=n.replace('!important',''),e=e.trim(),t.style.setProperty(e,n,r?'important':'')}}class GSCacheStyles{static#N=new Map;static create(t){const e=new GSDynamicStyle(t);return this.#N.set(t,e),e}static set(t,e){const n=this;if(e instanceof CSSStyleSheet&&n.#N.set(t,e),e&&'string'==typeof e){GSCacheStyles.create(t).replaceSync(e)}return n.get(t)}static remove(t){return this.#N.delete(t)}static get(t){return this.#N.get(t)}static get dynamic(){const t='gs-dynamic';let e=GSCacheStyles.get(t);return e||(e=GSCacheStyles.create(t),document.adoptedStyleSheets=GSCacheStyles.styles),e}static getRule(t=''){return GSCacheStyles.dynamic.getRule(t)}static setRule(t='',e='',n=!1){return GSCacheStyles.dynamic.setRule(t,e,n)}static deleteRule(t=''){GSCacheStyles.dynamic.deleteRule(t)}static get styles(){return Array.from(new Map([...GSCacheStyles.#N].sort(((t,e)=>String(t[0]).localeCompare(e[0])))).values())}static adopt(t='',e=0){if(t)try{e=e||GSBase.hashCode(t),GSCacheStyles.set(e,t),document.adoptedStyleSheets=GSCacheStyles.styles}catch(t){GSLog.error(null,t)}}static get#j(){return'.z-10k{z-index:10000 !important;}.gs-hide{display:none !important;}.gs-hide-orientation,.gs-render{display:none !important;}gs-item{display:none !important;}'}static{Object.freeze(GSCacheStyles),globalThis.GSCacheStyles=GSCacheStyles,GSCacheStyles.adopt(GSCacheStyles.#j)}}class GSComponents{static#b=new Set;static store(t){GSComponents.#b.add(t)}static remove(t){GSComponents.#b.delete(t)}static get(t=''){if(!t)return null;const e=Array.from(this.#b).filter((e=>e.id===t));return 0===e.length?null:e[0]}static#H(t='',e=0,n){const fn=e=>{const r=e.detail;if(t.startsWith('gs-')&&r.tagName===t.toUpperCase()||r.id===t)return GSEvents.unlisten(document.body,null,'componentready',fn),n(r)},r={once:!1,capture:!1};e>0&&(r.signal=AbortSignal.timeout(e)),GSEvents.listen(document.body,null,'componentready',fn,r)}static waitFor(t='',e=0){return new Promise(((n,r)=>{let s=GSComponents.find(t)||GSComponents.get(t);return s?n(s):GSComponents.#H(t,e,n)}))}static notifyFor(t='',n){if(!e.isFunction(n))return!1;const callback=e=>{const r=e.composedPath().shift();return r.id===t||r.tagName===t?n(r,e):void 0},r=GSComponents.find(t)||GSComponents.get(t);return r?n(r):(GSEvents.listen(document.body,null,'componentready',callback),callback)}static findAll(t='',e=!0,n=!0){let r=Array.from(GSComponents.#b);return t&&(r=r.filter((e=>e&&GSDOM.matches(e,t)))),e||(r=r.filter((t=>t.shadowRoot))),n||(r=r.filter((t=>!t.shadowRoot))),r}static find(t='',e=!0,n=!0){return GSComponents.findAll(t,e,n).shift()}static getOwner(t,e){if(!(GSDOM.isGSElement(t)||GSDOM.isHTMLElement(t)))return null;const n=GSDOM.parentAll(t);for(let t of n){if(!t)break;if(t instanceof ShadowRoot){const n=GSDOM.parent(t);return e?GSDOM.isElement(n,e)?n:GSComponents.getOwner(n,e):n}if(GSDOM.isElement(t,e))return t}return e?null:document.body}static hasGetter(t,n){return e.isFunctionDefined(t,n,'get')}static hasSetter(t,n){return e.isFunctionDefined(t,n,'get')}static hasFunc(t,n,r){return e.isFunctionDefined(t,n,r)}static listenStyles(){GSComponents.#$||(document.addEventListener('gs-style',GSComponents.#_),GSComponents.#$=!0)}static unlistenStyles(){document.removeEventListener('gs-style',GSComponents.#_),GSComponents.#$=!1}static#$=!1;static#_(){requestAnimationFrame((()=>{GSComponents.findAll(null,!1,!0).filter((t=>t.shadowRoot&&!0!==t.unstyled)).forEach((t=>t.shadowRoot.adoptedStyleSheets=GSCacheStyles.styles))}))}static{Object.freeze(GSComponents),GSComponents.listenStyles(),globalThis.GSComponents=GSComponents}}class GSEnvironment{static get isMobile(){return navigator.userAgentData?navigator.userAgentData.mobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}static get isDesktop(){return!GSEnvironment.isMobile}static get isWebkit(){return/webkit/.test(navigator.userAgent.toLowerCase())}static isValidProtocol(t=''){return!t||location.protocol.slice(0,-1)===t}static isValidBrowser(t=''){if(!t)return!0;const e=t.toLowerCase();if(navigator.userAgentData){let t=!1;return navigator.userAgentData.brands.forEach((n=>{n.brand.toLowerCase().includes(e)&&(t=!0)})),t}const n=navigator.userAgent.toLocaleLowerCase()||'',r=n.includes('edg');return!(!r||!e.startsWith('edg'))||!r&&n.includes(e)}static isValidEnvironment(t=''){return!t||('desktop'===t?GSEnvironment.isDesktop:'mobile'===t?GSEnvironment.isMobile:GSEnvironment.isDevice(t))}static isDevice(t=''){if(!t)return!0;const e=t.toLowerCase();if(navigator.userAgentData&&navigator.userAgentData.platform){return navigator.userAgentData.platform.toLowerCase()===e}return navigator.userAgent.toLocaleLowerCase().indexOf(e)>1}static isValidOrientation(t=''){if(!t)return!0;if(!screen.orientation)return!0;const e=screen.orientation.type;return e.includes('portrait')?'portrait'===t||'vertical'===t:!e.includes('landscape')||('landscape'===t||'horizontal'===t)}static{Object.seal(GSEnvironment)}}class GSDOMObserver extends MutationObserver{static#I=new Map;static#B=new Map;observe(t,e){const n=e||{childList:!0,subtree:!0};return super.observe(t,n)}static create(t){const e=new GSDOMObserver(GSDOMObserver.#P);return e.observe(t),e}static#z(t=!1){return t?GSDOMObserver.#B:GSDOMObserver.#I}static get#q(){return GSDOMObserver.#V||GSDOMObserver.#J}static get#V(){return GSDOMObserver.#I.size>0}static get#J(){return GSDOMObserver.#B.size>0}static#P(t){GSDOMObserver.#q&&t.forEach((t=>{GSDOMObserver.#V&&t.addedNodes.forEach((t=>GSDOMObserver.#W(t,GSDOMObserver.#I))),GSDOMObserver.#J&&t.removedNodes.forEach((t=>GSDOMObserver.#W(t,GSDOMObserver.#B)))}))}static#W(t,e){return 0!==e.size&&(GSDOMObserver.#K(t,e),t.childNodes.forEach((t=>GSDOMObserver.#W(t,e))),!0)}static#K(t,e){e.forEach(((e,n)=>{try{n(t)&&e(t)}catch(t){GSLog.error(null,t)}}))}static#Q(t,e,n){if(t instanceof HTMLElement==0)return!1;const r=new Map;return r.set(e,n),GSDOMObserver.#W(t,r)}static#Z(t){return'function'==typeof t}static#X(t,e){return GSDOMObserver.#Z(t)&&GSDOMObserver.#Z(e)}static registerFilter(t,e,n=!1,r){return!!GSDOMObserver.#X(t,e)&&(GSDOMObserver.#z(n).set(t,e),n||GSDOMObserver.#Q(r||document.body,t,e),!0)}static unregisterFilter(t,e=!1){return!!GSDOMObserver.#Z(t)&&GSDOMObserver.#z(e).delete(t)}static{Object.freeze(GSDOMObserver),globalThis.GSDOMObserver=GSDOMObserver,GSDOMObserver.create(document.documentElement)}}class OrientationController{static#Y=new Set;#tt;constructor(t){const e=this;e.#tt=t,e.#tt.addController(e)}hostConnected(){OrientationController.#Y.add(this)}hostDisconnected(){OrientationController.#Y.delete(this)}attributeCallback(t,e,n){'orientation'===t&&this.handle()}handle(){const t=this.#tt;t.offline||(t.isValidOrientation?t.show(!0):t.hide(!0))}static#et(t){requestAnimationFrame((()=>{OrientationController.#Y.forEach((t=>t.handle()))}))}static{GSEvents.attach(window,screen.orientation,'change',OrientationController.#et)}}class GSElement extends HTMLElement{#nt=!1;#rt=!1;#st=null;#it=null;#at=!1;#ot=null;#lt;#ct=[];#Y=null;#ut=null;constructor(){super(),this.#ut=new OrientationController(this)}static observeAttributes(t){return GSData.mergeArrays(t,GSElement.observedAttributes)}static get observedAttributes(){return['orientation','id','visible']}get clazzName(){return this.constructor.name}get template(){return t.get(this,'template','')}set template(e){t.set(this,'template',e)}get isWrap(){return!0}get isFlat(){return GSUtil.FLAT||t.getAsBool(this,'flat')}get isProxy(){return this.#at}get proxy(){return t.get(this,'proxy')}get environment(){return t.get(this,'environment','')}set environment(e){t.set(this,'environment',e)}get os(){return t.get(this,'os','')}set os(e){t.set(this,'os',e)}get browser(){return t.get(this,'browser','')}set browser(e){t.set(this,'browser',e)}get protocol(){return t.get(this,'protocol','')}set protocol(e){t.set(this,'protocol',e)}get orientation(){return t.get(this,'orientation','')}set orientation(e){t.set(this,'orientation',e)}get onready(){return t.get(this,'onready','')}set onready(e){t.set(this,'onready',e)}get isValidEnvironment(){return GSEnvironment.isValidEnvironment(this.environment)}get isValidOS(){return GSEnvironment.isDevice(this.os)}get isValidOrientation(){return GSEnvironment.isValidOrientation(this.orientation)}get isValidBrowser(){return GSEnvironment.isValidBrowser(this.browser)}get isValidProtocol(){return GSEnvironment.isValidProtocol(this.protocol)}get owner(){return GSComponents.getOwner(this)}get offline(){return this.#rt}get online(){return!this.#rt}get ready(){return this.#nt}get anchor(){const e='beforeend@self';return this.proxy?e:t.get(this,'anchor',e)}get self(){const t=this;return t.isProxy&&t.#st instanceof GSElement?t.#st.self:t.#st}get visible(){return this.hasAttribute('visible')}set visible(e=!0){t.setAsBool(this,'visible',e)}get unstyled(){return this.hasAttribute('unstyled')}updateUI(){const t=this;!t.unstyled&&t.shadowRoot&&(t.shadowRoot.adoptedStyleSheets=GSCacheStyles.styles,GSEvents.send(document.body,'i18n',t.shadowRoot))}getStyle(){return t.get(this,'style','')}get styleID(){return`${this.tagName}-${this.id}`.toLocaleLowerCase()}#dt(){const t=this;GSCacheStyles.deleteRule(t.styleID),GSCacheStyles.setRule(t.styleID,t.getStyle())}getByID(t=''){return GSDOM.getByID(this,t)}closest(t=''){return GSDOM.closest(this,t)}query(t='',e=!1){const n=this,r=GSDOM.query(n.self,t,!1,!0);return n.isProxy||r?r:GSDOM.query(n,t,!1,e)}queryAll(t='',e=!1){const n=this,r=GSDOM.queryAll(n.self,t,!1,!0);return n.isProxy||r.length>0?r:GSDOM.queryAll(n,t,!1,e)}async getTemplate(t=''){if(t)return GSLoader.getTemplate(t);const e=this.query('template');return e?e.innerHTML:''}hide(t=!1){return GSDOM.hide(this,t)}show(t=!1){return GSDOM.show(this,t)}emit(t,e='',n=!1,r=!1,s=!1){return GSEvents.send(this,t,e,n,r,s)}waitEvent(t='',e=0){return GSEvents.wait(this,t,e)}once(t,e){return this.listen(t,e,!0)}on(t,e,n=!1){return this.listen(t,e,n)}off(t,e){return this.unlisten(t,e)}listen(t,e,n=!1){return this.attachEvent(this,t,e,n)}unlisten(t,e){return this.removeEvent(this,t,e)}attachEvent(t,e='',n,r=!1){return GSEvents.attach(this,t,e,n,r)}removeEvent(t,e='',n){return GSEvents.remove(this,t,e,n)}get isAllowRender(){const t=this;return t.isValidEnvironment&&t.isValidBrowser&&t.isValidOS&&t.isValidProtocol}connectedCallback(){const t=this;if(!t.#ht()){if(!t.isAllowRender)return t.remove();GSID.setIf(t),t.#ot=t.#St(),t.#at=t.#ot.ref,GSComponents.store(t),t.#Y?.forEach((t=>t.hostConnected?.())),requestAnimationFrame((()=>t.#mt()))}}disconnectedCallback(){const t=this;t.#rt=!0,t.#Y?.forEach((t=>t.hostDisconnected?.())),t.#it?.disconnect(),GSComponents.remove(t),GSEvents.deattachListeners(t),GSCacheStyles.deleteRule(t.styleID),t.#gt(),t.#it=null,t.#st=null,t.#ot=null,t.#Y=null}addController(t){const e=this;(e.#Y??=new Set).add(t),e.isConnected&&void 0!==e.self&&t.hostConnected?.()}removeController(t){this.#Y?.delete(t)}repaint(){const t=this;t.disconnectedCallback(),t.#rt=!1,t.#nt=!1,t.connectedCallback()}attributeChangedCallback(t,e,n){const r=this;r.#ct.push(arguments),r.#lt||(r.#lt=!0,queueMicrotask((()=>{GSEvents.waitAnimationFrame((()=>{for(;r.#ct.length>0;)try{r.#pt(...r.#ct.shift())}catch(t){GSLog.error(null,t)}r.#lt=!1}))})))}#pt(t,e,n){const r=this;'id'===t&&(GSComponents.remove(e),GSComponents.store(r)),'visible'===t&&GSDOM.toggleClass(r,'gs-hide','false'===n),r.attributeCallback(t,e,n),r.#Y?.forEach((t=>t.attributeCallback?.()))}attributeCallback(t,e,n){}onReady(){}async onBeforeReady(){}async#Gt(){const t=this;if(!t.#nt&&!t.offline){t.#nt=!0,await t.onBeforeReady();try{t.#Y?.forEach((t=>t.onReady?.())),e.callFunction(t.onready,t),t.emit('ready'),GSEvents.send(document.body,'componentready',t)}finally{t.onReady()}}}#ht(){const t=GSComponents.getOwner(this,GSElement);return t&&t.isProxy}get#ft(){const t=this;return t.shadowRoot||(t.attachShadow({mode:'open'}),t.#it=GSDOMObserver.create(t.#ft),t.updateUI()),t.shadowRoot}get#yt(){const t=this;return t.#at&&t.isFlat||!t.#at}async#bt(){const t=this;if(t.offline)return;const e=t.#yt,n=e?await t.getTemplate(t.template):t.outerHTML;await GSEvents.waitAnimationFrame((()=>{if(t.offline)return;t.#dt();const r=t.#ot;if(t.#at)return e?t.#st=t.isWrap?GSDOM.parseWrapped(t,n,!0):GSDOM.parse(n,!0):(t.#st=GSDOM.parse(n,!0),t.#st.id=t.id,t.id=GSID.id),GSDOM.link(t,t.#st),void GSDOM.insertAdjacent(r.target,t.#st,r.anchor);if(r.target!==t){if(r.target===t.parentElement)return t.#st=t.isFlat?t:t.#ft,void GSDOM.setHTML(t.#st,n);t.#st=GSDOM.parseWrapped(t,n,!0),GSDOM.link(t,t.#st),GSDOM.insertAdjacent(r.target,t.#st,r.anchor)}else if(t.isFlat)if(n){const e=GSDOM.parseWrapped(t,n,!1);t.#st=e,GSDOM.insertAdjacent(r.target,e,r.anchor)}else t.#st=t;else t.#st=t.#ft,GSDOM.setHTML(t.#st,n)})),t.updateUI()}#St(){const t=this,e=t.anchor,n=e.indexOf('@');let r=n>0?e.slice(0,n):e,s=n>0?e.slice(n+1):'self';'self'!==r&&'parent'!==r||(s=s||r,r=null),r=GSUtil.normalize(r,'beforeend'),s=GSUtil.normalize(s,'self');let i=null;switch(s){case'self':i=t;break;case'parent':i=t.parentElement;break;default:i=GSDOM.query(t.owner,s)||GSDOM.query(document.documentElement,s)}if(!i){const e=`Injection point not available!\nElement: ${t.tagName}, Id:${t.id}, tgt:${s}`;throw GSLog.error(t,e),new Error(e)}return{anchor:r,target:i,ref:!(i===t||i===t.parentElement)}}#gt(){const t=this;t.#st&&t.#st.remove&&(t.#st.remove(),t.#st=null)}async#mt(){const t=this;await t.#bt(),GSEvents.waitAnimationFrame((()=>t.#Gt()),!0)}static define(t,e,n){if(!customElements.get(t))return customElements.GSDefine?customElements.GSDefine(t,e,n):customElements.define(t,e,n)}static{customElements.define('gs-element',GSElement),customElements.GSDefine||(customElements.GSDefine=customElements.define,customElements.define=GSElement.define,Object.freeze(customElements))}}class GSChart extends GSElement{static#vt=!1;static#Et=!1;static#Mt=null;#Ot=null;static get URL_LIB(){return globalThis.GS_URL_CHART||globalThis.location?.origin||'/webcomponents'}static async#At(){if(!1!==GSChart.URL_LIB&&!GSChart.#vt&&!GSChart.#Et){GSChart.#Et=!0;try{const t=`${GSChart.URL_LIB}/assets/chart/chart.mjs`,{Chart:e,registerables:n}=await import(t);e.register(...n),GSChart.#Mt=e,GSChart.#vt=!0,GSEvents.send(document,'gs-chart')}catch(t){GSLog.error(null,t)}finally{GSChart.#Et=!1}}}static{customElements.define('gs-chart',GSChart),Object.seal(GSChart)}static get observedAttributes(){return GSElement.observeAttributes(['width','height'])}attributeCallback(t='',e='',n=''){const r=this;r.resize(r.width,r.height)}async connectedCallback(){await GSChart.#At(),GSChart.#vt||await GSEvents.wait(document,'gs-chart',0,!1),super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback();const t=this;t.#Ot&&t.#Ot.destroy(),t.#Ot=null}async getTemplate(t=''){const e=this;return e.width&&e.height?`<canvas width="${e.width}" height="${e.height}" class="${e.css}"></canvas>`:`<canvas class="${e.css}"></canvas>`}async onBeforeReady(){await super.onBeforeReady();this.#mt()}get css(){return t.get(this,'css','')}set css(e=''){return t.set(this,'css',e)}get width(){return t.getAsNum(this,'width',0)}set width(e=''){return t.setAsNum(this,'width',e)}get height(){return t.getAsNum(this,'height',0)}set height(e=''){return t.setAsNum(this,'height',e)}get data(){return t.get(this,'data')}set data(e=''){return t.get(this,'data',e)}get options(){return t.get(this,'options')}set options(e=''){return t.get(this,'options',e)}get canvas(){return this.query('canvas')}reset(){this.#Ot?.reset()}render(){this.#Ot?.render()}update(t){this.#Ot?.update(t)}stop(){this.#Ot?.stop()}clear(){this.#Ot?.clear()}resize(t,e){const n=this;n.#Ot&&requestAnimationFrame((()=>{const r=n.query('div');r&&(r.style.width=`${t}px`,r.style.height=`${e}px`),n.#Ot.resize(t,e)}))}toBase64Image(t='image/png',e=1){return this.#Ot?.toBase64Image(t,e)}async#mt(){const t=this,e=await GSLoader.loadSafe(t.options,'GET',null,!0,{}),n=await GSLoader.loadSafe(t.data,'GET',null,!0,[]),r=t.querySelector('gs-item[group="options"]'),s=Object.assign(e,GSChart.toJson(r)),i=s.data.datasets;if(i.forEach(((t,e)=>{t.data=1===i.length?n:n[e]||[]})),t.#Ot)return t.update(s);const a=t.canvas.getContext('2d');t.#Ot=new GSChart.#Mt(a,s)}static toJson(t,e='name',n='value',r='type'){if(!(t instanceof HTMLElement))return{};const s=t.getAttribute(e),i=t.getAttribute(n),a=t.getAttribute(r);let o=null;switch(a){case'array':o=[];break;case'object':o={};break;default:return GSChart.#wt(i,a)}const l=Array.from(t.children),c='array'===a,u='object'===a;return l.forEach((t=>{const i=t.getAttribute(e);if(c)o.push(GSChart.toJson(t,e,n,r));else if(u){const s=GSChart.toJson(t,e,n,r);o[i]=s}else{const e=t.getAttribute(n),a=t.getAttribute(r);o[s][i]=GSChart.#wt(e,a)}})),o}static#wt(t,e){switch(e){case'boolean':return'true'===t;case'number':return parseFloat(t);default:return t}}}class GSHighlight extends GSElement{static{customElements.define('gs-highlight',GSHighlight),Object.seal(GSHighlight)}static get URL_LIB(){return globalThis.GS_URL_HLJS||'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0'}static get observedAttributes(){return GSElement.observeAttributes(['theme','url','target','language'])}constructor(){super()}attributeCallback(t='',e='',n=''){const r=this;switch(t){case'language':r.#Lt(e,n);break;case'theme':r.#Dt();break;case'target':r.#Ct();break;case'url':r.#Tt()}}async getTemplate(t=''){return'<pre><code><code/><pre/>'}highlight(t='',e=!1){this.#Ut(t,e)}set content(t=''){this.#Ut(t)}async onBeforeReady(){await super.onBeforeReady();const t=this;return t.theme&&t.#Dt(),t.url?t.#Tt():t.target?t.#Ct():void 0}get url(){return t.get(this,'url')}set url(e=''){return t.set(this,'url',e)}get target(){return t.get(this,'target')}set target(e=''){return t.set(this,'target',e)}get theme(){return t.get(this,'theme','default')}set theme(e=''){return t.set(this,'theme',e)}get language(){return t.get(this,'language','')}set language(e=''){return t.set(this,'language',e)}#Lt(t,e){t&&GSDOM.toggleClass(this.#kt,`language-${t}`,!1),e&&GSDOM.toggleClass(this.#kt,`language-${e}`,!0)}async#Dt(){const t=`${GSHighlight.URL_LIB}/styles/${this.theme}.min.css`;GSDOM.injectCSS(this,t)}#Ct(){const t=this,e=t.target?GSDOM.query(t.target):null;if(!e)return GSDOM.setHTML(t.#kt,`Element with id ${t.target} not found!`);t.#Ut(e.innerHTML)}async#Tt(){const t=this,e=await GSLoader.load(t.url);if(!e)return GSDOM.setHTML(t.#kt,`Code URL ${t.url} unreachable!`);t.#Ut(e)}get#kt(){return this.query('code')}#xt(t){const e=t.data.data;URL.revokeObjectURL(t.data.url),GSDOM.setHTML(this.#kt,t.data.append?this.#kt.innerHTML+e:e),t.target.terminate()}#Ut(t='',e=!1){const n=this;if(!t)return GSDOM.setHTML(n.#kt,'No data!');const r=n.#Rt,s=new Blob([r],{type:'application/javascript'}),i=URL.createObjectURL(s),a=new Worker(i);a.onmessage=n.#xt.bind(n),a.postMessage({data:t,url:i,append:e})}get#Rt(){const t=this.language?this.language.split(',').map((t=>`importScripts('${GSHighlight.URL_LIB}/languages/${t.trim()}.min.js');`)).join(''):'';return`globalThis.onmessage = (event) => {\n                importScripts('${GSHighlight.URL_LIB}/highlight.min.js');\n                ${t}\n                const result = globalThis.hljs.highlightAuto(event.data.data);\n                postMessage({data:result.value, url:event.data.url, append: event.data.append});};`}}class GSMonaco extends GSElement{static#Ft=!1;#Nt=null;static{customElements.define('gs-monaco',GSMonaco),Object.seal(GSMonaco)}static get URL_LIB(){return globalThis.GS_URL_MONACO||'https://unpkg.com/monaco-editor@latest/min/'}static async#At(){GSMonaco.#Ft||(GSMonaco.#jt(),await GSMonaco.#Ht(),await GSMonaco.#$t(),GSMonaco.#Ft=!0)}static async#Ht(){if(globalThis.monaco)return;const t=document.createElement('script'),e=GSEvents.wait(t,'load',0,!1);t.type='text/javascript',t.src=`${GSMonaco.URL_LIB}vs/loader.js`,GSDOM.appendChild(document.head,t),await e}static#jt(){window.MonacoEnvironment={baseUrl:`${GSMonaco.URL_LIB}`,getWorkerUrl:(t,e)=>`data:text/javascript;charset=utf-8,${encodeURIComponent(`\n                globalThis.MonacoEnvironment = {baseUrl: '${GSMonaco.URL_LIB}'};\n                importScripts('${GSMonaco.URL_LIB}vs/base/worker/workerMain.js');`)}`}}static#$t(){return new Promise(((t,e)=>{require.config({paths:{vs:`${GSMonaco.URL_LIB}/vs`},'vs/css':{disabled:!1}}),require(['vs/editor/editor.main'],t)}))}static get observedAttributes(){return GSElement.observeAttributes(['theme','url','target','language'])}static get disabledFeatures(){return['shadow','internals']}constructor(){super()}async connectedCallback(){await GSMonaco.#At(),super.connectedCallback()}onBeforeReady(){super.onBeforeReady(),this.#_t()}attributeCallback(t='',e='',n=''){const r=this;switch(t){case'language':r.#Lt(n);break;case'theme':r.#Dt(n);break;case'target':r.#Ct(n);break;case'url':r.#Tt(n)}}async getTemplate(t=''){return`<div class="${this.css}"><div/>`}get monaco(){return window.monaco}get editor(){return this.#Nt}get model(){return this.#Nt.getModel()}get code(){return this.#Nt?.getValue()||''}set code(t=''){this.#Nt&&this.#Nt.setValue(t)}get selection(){return this.model.getValueInRange(this.editor.getSelection())}get isFlat(){return!0}get url(){return t.get(this,'url')}set url(e=''){return t.set(this,'url',e)}get target(){return t.get(this,'target')}set target(e=''){return t.set(this,'target',e)}get theme(){return t.get(this,'theme','vs-dark')}set theme(e=''){return t.set(this,'theme',e)}get language(){const e=this,n=e.url?e.url.split('.').pop(-1):'';return t.get(e,'language',n)}set language(e=''){return t.set(this,'language',e)}get css(){return t.get(this,'css','')}set css(e=''){return t.set(this,'css',e)}#Lt(t){const e=this;e.monaco&&t&&e.monaco.editor.setModelLanguage(e.model,t)}async#Dt(t){this.monaco&&t&&this.monaco.editor.setTheme(t)}#Ct(t){const e=t?GSDOM.query(t):null;if(!e)return this.code=`Element with id ${t} not found!`;this.code=e.innerHTML}async#Tt(t){const e=this,n=t?await GSLoader.load(t):null;if(!n)return e.code=`Code URL ${t} unreachable!`;e.code='',e.#Lt(e.language),e.code=n}get#It(){return this.query('div')}#_t(){const t=this,e={value:'',language:t.language,theme:t.theme,automaticLayout:!0,minimap:{enabled:!1}};t.#Nt=t.monaco?.editor?.create(t.#It,e),t.attachEvent(self,'resize',t.#Bt.bind(t));try{t.url?t.#Tt(t.url):t.target&&t.#Ct(t.target)}finally{requestAnimationFrame((()=>t.emit('initialized'))),t.#Bt()}}#Bt(t){const e=this;e.#Nt.layout({width:0,height:0}),requestAnimationFrame((()=>{const t=e.owner.getBoundingClientRect();e.#Nt.layout({width:t.width,height:t.height})}))}get owner(){return super.owner===document.body?this.parentElement:this.owner}}class GSMarkdown extends GSElement{#Pt=null;#zt=null;#qt=null;#Vt=null;#Jt=null;#b=[];static{GSMarkdown.#At()}static#At(){customElements.define('gs-markdown',GSMarkdown),Object.seal(GSMarkdown)}static get URL_LIB(){return globalThis.GS_URL_MARKDOWN||'https://unpkg.com/showdown/dist/showdown.min.js'}static get observedAttributes(){return GSElement.observeAttributes(['url'])}async connectedCallback(){await this.#Ht(),globalThis.showdown&&super.connectedCallback()}attributeCallback(t='',e='',n=''){if('url'===t)this.#Tt(n)}async getTemplate(t=''){const e=this,n=e.maxHeight>0?`style="max-height: ${e.maxHeight}px;"`:'';return`<div class="overflow-auto ${e.css}" ${n}><div/>`}onReady(){const t=this;t.#Pt=new globalThis.showdown.Converter({tasklists:!0,tables:!0}),t.#Wt(t.url),t.#Tt(t.url)}get isFlat(){return!0}get root(){return this.#Vt||''}get url(){return t.get(this,'url')}set url(e=''){return this.#Wt(e),t.set(this,'url',e)}get css(){return t.get(this,'css','')}set css(e=''){return t.set(this,'css',e)}get history(){return t.getAsNum(this,'history',10)}set history(e=''){return t.setAsNum(this,'history',e,10)}get maxHeight(){return t.getAsNum(this,'max',0)}set maxHeight(e=''){return t.setAsNumt(this,'max',e)}back(){const t=this.#Kt();t&&this.#Tt(t)}async#Tt(t=''){const e=this;if(!(t=e.#o(t)))return;let n=await GSLoader.load(t);n&&(e.#Jt=e.#Qt(t),e.#Vt||(e.#Vt=e.#Jt),n=n.replace(/^[-_\*]{3}$/gm,'<hr>'),e.#It.innerHTML=e.#Zt(n),GSEvents.send(e,'data',t),requestAnimationFrame((()=>{e.#Xt(),e.#Yt(),e.#te()})))}#o(t=''){return!t||t.startsWith('http')?t:this.#Jt?new URL(t,this.#Jt).toString():GSLoader.normalizeURL(t,!0)}#Qt(t=''){return t.endsWith('/')?t:GSLoader.parentPath(t)}#te(){this.#ee('pre:has(code)','text-white bg-dark p-1')}#Yt(){this.#ee('table','table table-light table-hover table-striped table-bordered w-auto shadow-sm')}#ee(t,e){GSDOM.queryAll(this.#It,t).forEach((t=>{GSDOM.toggleClass(t,e)}))}#Xt(){const e=this,n=GSDOM.queryAll(e.#It,'a').filter((e=>!t.get(e,'href').startsWith('#')));n.filter((e=>!(t.get(e,'href').endsWith('.md')||t.get(e,'href').endsWith('/')))).forEach((t=>t.target='_blank')),n.filter((e=>t.get(e,'href').endsWith('.md')||t.get(e,'href').endsWith('/'))).forEach((t=>{GSEvents.attach(t,t,'click',e.#ne.bind(e))}))}#ne(e){const n=this,r=e.target,s=t.get(r,'href');if(s.startsWith('#'))return;GSEvents.prevent(e),r.href=n.#o(s);return GSEvents.send(n,'link',r.href,!1,!1,!0)?(n.#Wt(r.href),n.#Tt(r.href),!1):void 0}#Kt(){const t=this,e=t.#b.length>0?t.#b.pop():t.#qt;return e&&e===t.#zt?t.#Kt():e}#Wt(t){const e=this;e.#b.length>=e.history&&(e.#b=e.#b.slice(1)),e.#zt!=t&&(e.#b.push(t),e.#zt=t,e.#qt||(e.#qt=t))}#Zt(t){return this.#Pt.makeHtml(t)}async#Ht(){if(globalThis.showdown)return;const t=document.createElement('script'),e=GSEvents.wait(t,'load',0,!1);t.type='text/javascript',t.src=GSMarkdown.URL_LIB,GSDOM.appendChild(document.head,t),await e}get#It(){return this.query('div')}}export{GSChart,GSHighlight,GSMarkdown,GSMonaco};
//# sourceMappingURL=io.greenscreens.extra.esm.min.js.map
